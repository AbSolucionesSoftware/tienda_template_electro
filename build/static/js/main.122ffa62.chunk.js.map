{"version":3,"sources":["components/Navegacion_Admin/Sidebar.js","components/Layout_admin/LayoutAdmin.js","context/carritoContext.js","config/axios.js","config/aws.js","components/Navegacion/RightMenu.js","components/Categorias/Categorias.js","components/Navegacion/Navegacion.js","components/Footer/Footer.js","components/Layout/Layout.js","pages/users/geolocalizacion.js","components/Spin.js","pages/admin/Principal/services/RegistroTienda/politicas_envio.js","pages/admin/Principal/services/RegistroTienda/cobertura_envios.js","pages/admin/Principal/services/RegistroTienda/RegistroTienda.js","pages/admin/Principal/services/RegistroTienda/MostrarRegistroTienda.js","pages/admin/Principal/principal.js","pages/admin/contexts/ProductoContext.js","pages/admin/Productos/services/registrar_galeria.js","pages/admin/Productos/services/registrar_talla.js","pages/admin/Productos/services/registrar_numero.js","pages/admin/Productos/services/registrar_producto.js","pages/admin/Productos/services/actualizar_galeria.js","pages/admin/Productos/services/actualizar_talla.js","pages/admin/Productos/services/actualizar_numero.js","pages/admin/Productos/services/actualizar_producto.js","components/Pagination/pagination.js","config/reuserFunction.js","pages/admin/Productos/productos.js","pages/admin/Pedidos/detalles_pedido.js","pages/admin/Pedidos/estado_pedido.js","pages/admin/Pedidos/pedidos.js","pages/admin/Promociones/promos_normales/services/registrar_promocion.js","pages/admin/Promociones/promos_normales/services/actualizar_promocion.js","pages/admin/Promociones/promos_normales/promociones.js","pages/admin/Promociones/promos_masivas/registrar_promocion_masiva.js","pages/admin/Promociones/promos_masivas/promo_masiva.js","pages/admin/Promociones/promociones_principal.js","pages/admin/Apartado/services/MostrarDatosTargeta.js","pages/admin/Apartado/services/DetalleApartado.js","pages/admin/Apartado/services/MostrarDatosMultiplesTarjeta.js","pages/admin/Apartado/apartado.js","components/excel.js","pages/admin/Inventario/tablas_inventarios/inventario_otros.js","pages/admin/Inventario/tablas_inventarios/inventario_tallas.js","pages/admin/Inventario/tablas_inventarios/inventario_numeros.js","pages/admin/Inventario/inventario.js","pages/admin/Sugerencias/services/sugerencia.js","pages/admin/Sugerencias/sugerencias.js","pages/admin/Carousel/services/carousel.js","pages/admin/Carousel/carousel.js","pages/admin/Publicidad/services/registro_publicidad.js","pages/admin/Publicidad/publicidad.js","pages/admin/Blog/services/blogList.js","pages/admin/contexts/BlogContext.js","pages/admin/Blog/services/ActualizarBlog.js","pages/admin/Blog/services/RegistrarBlog.js","pages/admin/Blog/blog.js","pages/admin/Clientes/consutaExcel.js","pages/admin/Clientes/clientes.js","pages/users/Carusel_ofertas/carousel.js","pages/users/Productos/Card_Grande/componente_producto_grande.js","pages/users/Ofertas/OfertasHome/consultaOfertaEspecial.js","pages/users/Productos/Card_Secundaria/card_secundaria.js","pages/users/Ofertas/OfertasHome/consultaOfertas.js","pages/users/Ofertas/OfertasHome/ofertasIzquierda.js","pages/users/Ofertas/OfertasHome/ofertasDerecha.js","pages/users/Ofertas/OfertaCentral/card_secundaria.js","pages/users/Ofertas/OfertaCentral/consultaOfertas.js","pages/users/Ofertas/OfertaCentral/ofertasCentral.js","pages/users/Productos/Cards_Gigantes/card_producto_gigante.js","pages/users/Ofertas/OfertaGigante/consultaOfertaGigante.js","pages/users/Ofertas/OfertaGigante/card_secundaria.js","pages/users/Ofertas/OfertaGigante/consultaOfertas.js","pages/users/Ofertas/OfertaGigante/ofertasGigantes.js","pages/users/BannerPromociones/cardsProductos.js","pages/users/BannerPromociones/BannerPromocion.js","pages/users/Datos_tienda/banner_informativo.js","pages/users/Registro/registro.js","pages/users/Login/login.js","components/Firebase/firebase.js","config/firebase.js","pages/users/Inicio_sesion/entrar.js","pages/users/Carrito/context_carrito/context-carrito.js","pages/users/Carrito/services/pedido_carrito.js","pages/users/Vista_Producto/subs/datos_cliente.js","pages/users/Carrito/services/apartado_carrito.js","pages/users/Carrito/services/consultasCarrito.js","pages/users/Carrito/services/consultas_individuales.js","pages/users/Carrito/modal_apartado.js","pages/users/Carrito/verificarArticulos.js","pages/users/Carrito/lista_carrito.js","pages/users/Carrito/services/obtenerStock.js","pages/users/Carrito/MostrarDatosCarrito.js","pages/users/Productos/componente_productos.js","pages/users/Productos/consulta_productos.js","pages/users/Productos/productos.js","pages/users/Blogs/services/BlogList.js","pages/users/Blogs/services/ShowBlog.js","pages/users/Blogs/blog.js","pages/users/Pedidos/detalles.js","pages/users/Pedidos/detalleApartado.js","pages/users/Pedidos/apartadoMultiple.js","pages/users/Pedidos/pedidos.js","pages/users/Ofertas/ofertas.js","pages/users/Resultado_Busqueda/resultado_busqueda.js","pages/users/Perfiles/service/ActualizarUsuario.js","pages/users/Confirmacion_compra/services/traer_datos.js","pages/users/Confirmacion_compra/services/Verificacion_Tarjeta.js","pages/users/Confirmacion_compra/services/traer_pedido.js","pages/users/Confirmacion_compra/services/Confirmacion_Final.js","pages/users/Confirmacion_compra/confirmacion_compra.js","pages/users/Politicas/politicas.js","pages/users/Vista_Producto/subs/scroll.js","pages/users/Vista_Producto/subs/servicesSugerencia.js","pages/users/Consulta_covertura/estados_disponibles.js","pages/users/Vista_Producto/subs/sugerencia.js","pages/users/Vista_Producto/Galeria_tienda/galeria.js","pages/users/Vista_Producto/subs/services.js","pages/users/Vista_Producto/subs/cantidades_y_tallas.js","pages/users/Vista_Producto/Info_tienda/info-tienda.js","pages/users/Consulta_covertura/envio_general.js","pages/users/Vista_Producto/vista_producto.js","components/BusquedaCategorias/busqueda_categorias.js","pages/users/error404.js","components/Recuperar_pass/Recuperar_pass.js","config/routes.js","pages/users/home.js","pages/users/Quienes_somos/quienes_somos.js","pages/users/Carrito/shopping_cart.js","pages/users/Resultado_Busqueda/404.js","pages/users/Perfiles/perfiles.js","pages/users/error500.js","pages/users/Success/success.js","pages/users/Success/error.js","App.js","index.js","pages/users/Confirmacion_compra/img/logos/visa.png","pages/users/Confirmacion_compra/img/logos/mastercard.png","pages/users/Confirmacion_compra/img/chip-tarjeta.png"],"names":["Sider","Layout","token","localStorage","getItem","rol","JSON","parse","atob","split","e","parseJwt","withRouter","props","style","height","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","type","className","theme","mode","defaultSelectedKeys","window","location","pathname","Item","key","icon","FundOutlined","to","TeamOutlined","AppstoreAddOutlined","FormOutlined","TagOutlined","ShoppingCartOutlined","PercentageOutlined","NotificationOutlined","PictureOutlined","EditOutlined","HomeOutlined","PoweroffOutlined","onClick","removeItem","history","push","danger","LoadRoutes","routes","map","route","index","path","exact","component","MenuContext","createContext","MenuProvider","children","useState","active","setActive","loading","setLoading","Provider","value","clienteAxios","axios","create","baseURL","process","aws","SubMenu","Menu","RightMenu","decoded","jwt_decode","Jwt","ofertas","tienda","length","imagen","imagenFireBase","size","src","backgroundColor","nombre","charAt","SettingOutlined","firebase","signOut","setTimeout","reload","LogoutOutlined","categorias","setCategorias","_id","generos","setGeneros","categoriaSeleccionada","setCategoriaSeleccionada","subcategoriaSeleccionada","setSubcategoriaSeleccionada","a","get","headers","Authorization","then","res","data","scrollTo","catch","useEffect","obtenerCategorias","obtenerGeneros","categorias_nav","categoria","title","onTitleClick","subcCategoria","sub","categorias_generos","triggerSubMenuAction","Search","Input","Header","useContext","visible","setVisible","busqueda","setBusqueda","setTienda","carrito","setCarrito","setOfertas","articulos","idarticulo","activo","eliminado","filter","arr","forEach","datos","obtenerOfertas","obtenerQuienesSomos","obtenerCarrito","tip","inlineIndent","imagenLogo","alt","onChange","target","SearchOutlined","fontSize","count","ShoppingOutlined","UserOutlined","MenuOutlined","placeholder","onSearch","placement","closable","onClose","Footer","Style","FooterPage","face","setFace","insta","setInsta","twitter","setTwitter","imagenCorp","setImagenCorp","politicas","setPoliticas","telefono","setTelefono","direccion","setDireccion","accion","setAccion","console","log","linkFace","linkInsta","linkTweeter","err","categorias_foot","end","id","PhoneOutlined","marginLeft","fontWeight","calle_numero","colonia","ciudad","estado","href","rel","FacebookFilled","color","InstagramFilled","TwitterCircleFilled","columnCount","KeyOutlined","Geolocalizacion","width","center","titleLayer","zoom","apikey","nombreMarcador","tituloheader","draggable","L","mapquest","container","DomUtil","_leaflet_id","layers","tileLayer","marker","icons","bindPopup","addTo","addControl","control","role","Spinner","spinning","PoliticasEnvio","setCurrent","current","datosNegocio","disabled","setDisabled","setDatos","setControl","idTienda","setIdTienda","Form","useForm","form","setFieldsValue","costoEnvio","promocionEnvio","descuento","response","notification","error","message","description","duration","post","idAdministrador","success","put","obtenerDatos","showIcon","onFinish","label","name","wrapperCol","span","offset","help","suffix","htmlType","PlusCircleOutlined","consultaEstados","Cobertura_envios","confirm","Modal","Option","Select","Column","Table","setReload","municipioGuardado","setMunicipioGuardado","idEstado","setIdEstado","todos","setTodos","municipiosApi","setMunicipiosApi","estadosApi","setEstadoApi","setValue","dataEstados","setDataEstados","setEstado","errors","covertura","setCovertura","selectedRowKeys","setSelectedRowKeys","rowSelection","parametros","listaMun","getCheckboxProps","municipio","onSelect","record","selected","selectedRows","onSelectAll","selectMunicipio","datosApiMunicipios","municipios","arrayMunicipio","i","enviarDatos","nuevoEstado","limpiar","traerDatos","todo","listaMunicipios","checkearChecks","checked","state","ExclamationCircleOutlined","content","okText","okType","cancelText","onOk","delete","textAlign","dataSource","rowKey","scroll","y","pagination","DeleteOutlined","RegistroTienda","steps","Step","Steps","upload","setUpload","files","setFiles","setImagen","next","undefined","ubicacion","lat","lng","cp","propss","listType","beforeUpload","file","reader","FileReader","readAsDataURL","onload","thumbUrl","result","onRemove","SendForm","formData","FormData","append","info","onFinishFailed","errorFields","UploadOutlined","labelCol","rules","required","noStyle","faMapMarkedAlt","valuePropName","init","menubar","plugins","toolbar","onEditorChange","editor","item","AlertTienda","action","setAction","setDatosNegocio","reloadInfo","setReloadInfo","politicasEnvio","setPoliticasEnvio","setLat","setLng","drawnerClose","obtenerPoliticasEnvio","useCallback","screen","bodyStyle","paddingBottom","footer","margin","image","EyeOutlined","Helmet","charSet","ProductoContext","IdProductoContext","RegistrarGaleria","productoContext","galeria","setGaleria","subirBD","obtenerBD","imagenes","eliminarBD","idimagen","prev","setPrev","render","url","RegistrarTalla","disabledForm","disabledButtons","productos","setProductos","talla","cantidad","datosForm","subirTalla","resul","tallas","find","element","obtenerTalla","resetFields","eliminarTalla","idtalla","minWidth","gutter","RegistrarNumero","numero","subirNumero","numeros","obtenerNumero","eliminarNumero","idnumero","layout","String","prototype","capitalize","this","toUpperCase","slice","formRef","useRef","setCloseDraw","closeDraw","setEditor","disabledPrev","setDisabledPrev","disabledform","setDisabledForm","disabledformProductos","setDisabledFormProductos","loadingCombo","setLoadingCombo","reloadProductos","setItem","buttonCat","setButtonCat","categoriasBD","setCategoriasBD","categoriasDefault","setCategoriasDefault","subcategoriasDefault","setSubcategoriasDefault","subCategoriasBD","setSubCategoriasBD","subCategoria","setSubCategoria","displayColorPicker","setDisplayColorPicker","setColor","valueSelect","setValueSelect","valueSelectSubCat","setValueSelectSubCat","styles","reactCSS","default","borderRadius","background","swatch","padding","boxShadow","display","cursor","popover","position","zIndex","cover","top","right","bottom","left","setSelect","obtenerSubcategorias","codigo","precio","select","genero","setGenero","tipoCategoria","setTipoCategoria","productoID","setProductoID","userStored","addItemCategoria","addItemSubCategoria","onCategoriaChange","onSubCategoriaChange","dropdownRender","menu","flexWrap","flex","PlusOutlined","initialValues","ref","min","step","Group","compact","hex","existeGaleria","setExisteGaleria","idImagen","setIdImagen","antprops","propsActualizar","actualizarBD","formdata","status","ActualizarTalla","idTalla","setIdTalla","showZero","idTallas","ActualizarNumero","idNumero","setIdNumero","rellenarCampos","TabPane","Tabs","ActualizarProducto","valueSelectCat","setValueSelectCat","itemCat","setItemCat","descripcion","colorHex","obtenerValores","subirDatos","defaultActiveKey","tab","blogs","limite","currentPage","parseInt","page","defaultCurrent","total","totalDocs","newPage","onChangePage","defaultPageSize","formatoMexico","number","parseFloat","toFixed","toString","replace","formatoFecha","fecha","Date","toLocaleDateString","weekday","year","month","day","formatoHora","hora","toLocaleTimeString","hour12","agregarPorcentaje","precio_descuento","precio_producto","Math","round","gridStyle","marginBottom","queryString","search","productosRender","setProductosRender","reloadData","setReloadData","visibleButton","setVisibleButton","eventoCloseConfirm","obtenerProductosFiltrados","obtenerProductos","posts","limit","docs","Grid","hoverable","maxHeight","actions","idproducto","promocion","promo","precioPromocion","forceRender","justify","enterButton","RollbackOutlined","maxWidth","subTitle","DetallesPedido","pedido","datosDetalle","createdAt","fecha_envio","estado_pedido","pagado","cliente","email","producto","toLowerCase","TextArea","EstadoPedido","handleCancelEstado","IDpedido","datosPedido","setPedido","pedidoID","entregado","setEntregado","obtenerPedido","cambiarEstado","mensaje_admin","paqueteria","codigo_seguimiento","orientation","overlay","DownOutlined","rows","Meta","Card","pedidos","setPedidos","pedidosPaginacion","setPedidosPaginacion","estadoVisible","setEstadoVisible","detallePedido","setDetallePedido","obtenerPedidos","obtenerPedidosFiltrados","filtro","ContainerOutlined","defaultValue","onCancel","demo","overflow","RegistrarPromocion","setContent","setData","hasMore","setHasMore","setPage","setTotalDocs","loadingList","setLoadingList","loadingSelect","setLoadingSelect","setProducto","setPromocion","setPrecioPromocion","disabledSumit","setDisabledSumit","validateStatus","setValidateStatus","inputValue","setInputValue","categoriasDB","setCategoriasDB","setCategoria","subcategoriasDB","setSubcategoriasDB","subcategoria","setSubcategoria","generosDB","setGenerosDB","nextPage","callback","propsUpload","formDataImagen","subirImagen","promocionBase","imagenPromocion","subirPromocion","obtenerFiltrosDivididos","cat","gen","ClearOutlined","initialLoad","pageStart","loadMore","concat","useWindow","threshold","renderItem","avatar","max","tipFormatter","porcentaje","marks","0","50","100","prefix","ActualizarPromocion","obtenerPromocion","obtenerCampo","antDprops","antDpropsActualizar","actualizarImagen","productoPromocion","eliminarImagen","actualizarPromocion","tooltipVisible","setSearch","productosFiltrados","setProductosFiltrados","includes","idProducto","showDeleteConfirm","eliminarPromocion","RegistroPromocionMasiva","dataPromocion","setDataPromocion","actualizar","setActualizar","promoMasiva","showDrawer","setPromocionMasiva","checks","listaBD","limpiarChecks","columns","dataIndex","promocionMasiva","hasSelected","listaIDs","idPromocionMasiva","porsentajePromocionMasiva","listaPromosActuales","listaPromosData","listaPromociones","marginRight","maxCount","maxStyle","PromoMasivaPrincipal","setPromo","obtenerPromosMasivas","eliminarPromocionMasiva","idPromoMasiva","itemLayout","actualizarActive","productosPromoMasiva","MostrarDatosTargeta","setDetalleApartado","showModal","apartado","apellido","tipoEntrega","Text","Typography","DetalleApartado","multiple","detalleApartado","selectEstado","setSelectEstado","setpromocion","datosEnvio","setdatosEnvio","apartadoMultiple","productosMultiple","ProductosMultiple","monstrarInformacionBlog","mensajeUser","guardarEstadoApartado","entre_calles","pais","medida","MostrarDatosMultipleTargeta","apartados","setApartados","apartadoPaginacion","setApartadoPaginacion","setFilter","GetDataFromExcelJusTInput","hojas","setHojas","fileList","setFileList","uploading","setUploading","propsUlpload","readAsArrayBuffer","onloadend","Uint8Array","workbook","XLSX","SheetNames","sheetName","XL_row_object","sheet_to_row_object_array","Sheets","setCantidad","idSeleccionado","setIdSeleccionado","obtenerValor","actualizarCantidad","warning","text","overflowCount","MinusOutlined","x","idTallaSeleccionada","setIdTallaSeleccionada","setTalla","obtenerTallas","idNumeroSeleccionada","setIdNumeroSeleccionada","setNumero","match","params","otros","tabs","searchBar","tabBarExtraContent","Sugerencia","sugerencia","setSugerencia","productoSugerido","setProductoSugerido","modalVisible","setModalVisible","obtenerProducto","obtenerSugerencia","obtenerTodosProductos","sugerencias","crearSugerencia","actualizarSugerencia","eliminarSugerencia","CloseOutlined","CheckOutlined","productosPaginacion","setProductosPaginacion","visibleReload","setVisibleReload","CarouselImages","imagenPreview","setImagenPreview","nombreImagen","setNombreImagen","antdProps","crearCarousel","obtenerNombreImagen","modalCrearVisible","setModalCrearVisible","obtenerCarouseles","carouselID","carousel","centered","getBase64","Promise","resolve","reject","onerror","RegistroPublicidad","bannerSeleccionado","vincular","setVincular","mostrarProductos","setMostrarProductos","mostrarTitulo","setMostrarTitulo","disabledCheck","setDisabledCheck","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","uploadProps","onPreview","preview","originFileObj","substring","lastIndexOf","closeModalCrear","limpiarCampos","llenarCampos","imagenBanner","uid","vincularCategoria","hideRequiredMark","marginTop","blogList","setReloadBlog","setInfoBlog","deleteBlog","blog","Blog","administrador","BlogContext","ActualizarBlog","blogContext","urlGuion","obtenerUrl","trim","RegistrarBlog","blogData","setBlogData","processPost","hide","setBlogs","reloadBlog","infoBlog","getBlogsApi","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","consulta","setConsulta","obtenerConsulta","clientes","filename","Clientes","setClientes","clientesPaginados","setClientesPaginados","obtenerClientes","obtenerClientesFiltrados","BgElement","Element","carousels","setCarousels","obtenerCarousel","prefixCls","backgroundImage","autoPlay","delay","ComponenteProductoGrande","bordered","CardSecundaria","shape","CardProductoGigante","CardsProductos","bannerPro","setBannerPro","obtenerBanner","banner","animation","opacity","BannerInformativo","tailLayout","values","vista","remember","Password","validator","_","mostrarDiv","setMostrarDiv","mostrarMensaje","setmostrarMensaje","onRecuperar","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","user","setUser","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","valores","contrasena","onAuthStateChanged","displayname","displayName","photoURL","uiCallback","ui","disableAutoSignIn","firebaseAuth","CarritoContext","CarritoProvider","activador","setActivador","validacion","setValidacion","idcliente","nuevo","subtotal","consultaCodigos","DatosCliente","clienteID","tipoEnvio","handleOk","controlBoton","setControlBoton","estadoBoton","setEstadoBoton","mensajeRechazo","setMensajeRechazo","envioTotal","setEnvioTotal","editarDatosUsuario","checarEnvios","envios","obtenerDatosUser","ApartadoCarrito","modal","setApartadoMultiple","setTotal","setTipoEnvio","apartadoMultipleCompleto","apartarCarrito","articulo","ModalApartado","AgregarApartado","verificarArticulos","ListaCarrito","setMedida","disponible","setDisponible","medidaDisponible","setMedidaDisponible","setPrecio","setEliminado","cantidadChange","comprar","AgregarPedido","eliminar","EliminarArticuloCarrito","tallaCantidad","numeroCantidad","verificar","obtenerSubtotal","ExportOutlined","setCliente","nuevoCarrito","setNuevoCarrito","crearPedido","AgregarPedidoCarrito","obtenerDatosCarrito","obtenerStockCarrito","extra","ComponenteProductos","ConsultaProductos","propiedades","Productos","BlogList","BlogsList2","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","ShowBlog","ObtenerBlog","useParams","Producto","faBus","paddingLeft","paddingRight","ApartadoMultiple","setElige","deleteApartado","ghost","Pedido","Apartado","ResultadoBusqueda","ActualizarUsuario","datosUser","setAvatar","enviarFile","setEnviarFile","datosFormulario","setdatosFormulario","password","setPassword","contrasenaActual","repeatContrasena","tipoSesion","datosPassword","UploadAvatar","onDrop","acceptedFiles","URL","createObjectURL","useDropzone","accept","noKeyboard","getRootProps","getInputProps","isDragActive","Traer_datos","setDatosActualizados","envioRechadazo","setEnvioRechazado","alertRechazo","setAlertRechazo","faUser","Verificacion_Tarjeta","setIdPago","stripePromise","loadStripe","stripe","CheckoutForm","useStripe","elements","useElements","setName","postal","setPostal","typeCard","setTypeCard","numbrerCard","setNumbrerCard","dateCard1","setDateCard1","dateCard2","setDateCard2","activeCard","setActiveCard","controlClick","setcontrolClick","cvvCard","setCvvCard","handleSubmit","cardElement","getElement","CardNumberElement","createPaymentMethod","card","billing_details","address","postal_code","payload","paymentMethod","img_visa","img_mastercard","chip_tarjeta","htmlFor","brand","complete","cardOnChage","letterSpacing","onFocus","cardDateOnChange","cvvChange","Traer_pedido","pedidoCompleto","Confirmacion_Final","idPago","datosActualizados","setDatosEnvio","traerCostosEnvio","crearPago","centavo","newPedido","datosPago","sesionStripe","amount","code","faTruck","faCcVisa","faCcMastercard","funding","last4","exp_month","exp_year","Politicas","lineHeight","Scroll","categoriaProducto","categoriaSugerencia","cantidadProducto","cantidadSugerencia","medidaProducto","medidaSugerencia","precioProducto","precioSugerencia","Estados_disponibles","estados","setProductoPromocion","cantidadFinalProducto","setCantidadFinalProducto","disponibilidad","setDisponibilidad","sugerenciaPromocion","setSugerenciaPromocion","validateStatusSug","setValidateStatusSug","setMedidaSugerencia","cantidadFinalSugerencia","setCantidadFinalSugerencia","disponibilidadSugerencia","setDisponibilidadSugerencia","promocionProducto","promocionSugerencia","productoPrecio","sugerenciaPrecio","showConfirm","IssuesCloseOutlined","obtenerDisponibilidad","justifyContent","Galeria","setCount","original","thumbnail","imagenZoom","setImagenZoom","galery","showPlayButton","showNav","showFullscreenButton","ReactImageMagnify","imageClassName","enlargedImageContainerClassName","enlargedImageClassName","propiedadesImageMagnify","onThumbnailClick","disableKeyDown","obtenerImagen","obtenerGaleria","zoomHeight","setZoomHeight","zoomWidth","setZoomWidth","img","Image","naturalWidth","naturalHeight","smallImage","isFluidWidth","largeImage","enlargedImagePortalId","items","AgregarCarrito","formItemLayout","xs","sm","setTallas","setNumeros","setRender","cantidadFinal","setCantidadFinal","modalMensaje","WhatsAppOutlined","obtenerTienda","TagsOutlined","BellOutlined","Carrito","Envio_General","CheckCircleFilled","readMore","setReadMore","setCostoEnvio","OnClickReadMore","CreditCardOutlined","BusquedaCategorias","resultado","setResultado","separator","Error404","FormResetPass","mostrarError","Content","minHeight","AdminHome","RegistrarProductos","Pedidos","SistemaApartado","Inventario","BlogAdmin","Sugerencias","Carousel","bannerBD","setBannerBD","setBannerSeleccionado","obtenerBannersBD","actualizarChecks","checkName","checkValue","eliminarBanner","ListaBanners","ThunderboltOutlined","idRecuperacion","setmostrarError","acceso","setAcceso","cambiarEstadoPass","confirmPassword","Entrar","Elige","showInfo","setshowInfo","obtenerApartados","Ofertas","VistaProducto","setDatosUser","setPedidoCompleto","avatar_productos","nombre_productos","App","RoutesWithSubRoutes","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.122ffa62.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './sidebar.scss';\r\nimport {\r\n\tFundOutlined,\r\n\tAppstoreAddOutlined,\r\n\tFormOutlined,\r\n\tPoweroffOutlined,\r\n\tTagOutlined,\r\n\tShoppingCartOutlined,\r\n\tNotificationOutlined,\r\n\tPercentageOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tHomeOutlined,\r\n\tTeamOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Sider } = Layout;\r\nconst token = localStorage.getItem('token');\r\nconst rol = parseJwt(token);\r\n\r\nfunction parseJwt(token) {\r\n\ttry {\r\n\t\treturn JSON.parse(atob(token.split('.')[1]));\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst Sidebar = (props) => {\r\n\treturn (\r\n\t\t<Sider\r\n\t\t\tstyle={{ height: '100vh' }}\r\n\t\t\tbreakpoint=\"lg\"\r\n\t\t\tcollapsedWidth=\"0\"\r\n\t\t\tonBreakpoint={(broken) => {\r\n\t\t\t\t/* console.log(broken); */\r\n\t\t\t}}\r\n\t\t\tonCollapse={(collapsed, type) => {\r\n\t\t\t\t/* console.log(collapsed, type); */\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t<h6 className=\"text-white\">Bienvenido</h6>\r\n\t\t\t\t\t{token ? <h5 className=\"text-white\">{rol['nombre']}</h5> : <div />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[ window.location.pathname ]}>\r\n\t\t\t\t<Menu.Item key=\"/admin\" icon={<FundOutlined />}>\r\n\t\t\t\t\tPanel principal<Link to=\"/admin\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/clientes\" icon={<TeamOutlined />}>\r\n\t\t\t\t\tClientes<Link to=\"/admin/clientes\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/productos\" icon={<AppstoreAddOutlined />}>\r\n\t\t\t\t\tProductos<Link to=\"/admin/productos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/inventario\" icon={<FormOutlined />}>\r\n\t\t\t\t\tInventario<Link to=\"/admin/inventario\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sistema_apartado\" icon={<TagOutlined />}>\r\n\t\t\t\t\tSistema de Apartado<Link to=\"/admin/sistema_apartado\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/pedidos\" icon={<ShoppingCartOutlined />}>\r\n\t\t\t\t\tPedidos Pendientes<Link to=\"/admin/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/promociones\" icon={<PercentageOutlined />}>\r\n\t\t\t\t\tPromociones<Link to=\"/admin/promociones\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sugerencias\" icon={<NotificationOutlined />}>\r\n\t\t\t\t\tSugerencias de compra<Link to=\"/admin/sugerencias\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/carousel\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tBanner principal<Link to=\"/admin/carousel\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/publicidad\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tPublicidad<Link to=\"/admin/publicidad\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/blog\" icon={<EditOutlined />}>\r\n\t\t\t\t\tBlog<Link to=\"/admin/blog\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<HomeOutlined />}>\r\n\t\t\t\t\tPagina principal<Link to=\"/\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<PoweroffOutlined />}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCerrar Sesión\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\r\n\t\t</Sider>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sidebar);\r\n","import React, { Fragment } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Sidebar from '../Navegacion_Admin/Sidebar';\r\nimport { Layout, Breadcrumb } from 'antd';\r\nimport './layoutAdmin.scss';\r\n\r\nexport default function LayoutAdmin(props) {\r\n\tconst { routes } = props;\r\n\tconst { Header, Content } = Layout;\r\n\tconst path = window.location.pathname.split('/')\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Layout>\r\n\t\t\t\t\t<Sidebar />\r\n\t\t\t\t\t<Layout className=\"site-layout\">\r\n\t\t\t\t\t\t<Header className=\"breadcrumb-head site-layout-background bg-white\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t<Breadcrumb style={{ margin: '16px 16px' }}>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[1]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[2]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[3]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t<Content style={{ margin: '24px 16px 0' }}>\r\n\t\t\t\t\t\t\t<div className=\"site-layout-background bg-white\" style={{ padding: 24, minHeight: 360 }}>\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</Layout>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { createContext, useState } from \"react\"\r\n\r\nexport const MenuContext = createContext()\r\n\r\nexport const MenuProvider = ({ children }) => {\r\n  const [active, setActive] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  return (\r\n    <MenuContext.Provider value={{active,setActive, loading, setLoading}}>\r\n      {children}\r\n    </MenuContext.Provider>\r\n  );\r\n};","import axios from 'axios'\r\n\r\nconst clienteAxios = axios.create({\r\n    baseURL : process.env.REACT_APP_AXIOS\r\n})\r\n\r\n\r\nexport default clienteAxios","import 'dotenv';\r\n\r\nconst aws = process.env.REACT_APP_AWS;\r\n\r\nexport default aws","import React from 'react';\r\nimport { Menu, Avatar } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { LogoutOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../config/aws';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nfunction RightMenu(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tconst { ofertas, tienda } = props;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Menu defaultSelectedKeys={[ window.location.pathname ]} className=\"navbar-menu-general\">\r\n\t\t\t<Menu.Item key=\"/\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tInicio<Link to=\"/\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"/productos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tProductos<Link to=\"/productos\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{ofertas.length ? (\r\n\t\t\t\t<Menu.Item key=\"/ofertas\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tOfertas<Link to=\"/ofertas\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t\t<Menu.Item key=\"/blog\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tBlog<Link to=\"/blog\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/quienes_somos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tQuiénes somos<Link to=\"/quienes_somos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/pedidos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tMis pedidos<Link to=\"/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\r\n\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t<Menu.Item className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tEntrar<Link to=\"/entrar\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t</Menu>\r\n\t);\r\n}\r\n\r\nexport default RightMenu;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport {  Divider, Layout, Menu } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './categorias.scss';\r\nimport './preloading.scss';\r\nimport clienteAxios from '../../config/axios';\r\nimport { MenuContext } from '../../context/carritoContext';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Categorias = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\tconst [ generos, setGeneros ] = useState([{_id: 'Todos'}]);\r\n/* \tconst [ loading, setLoading ] = useState(false); */\r\n\t// const { loading, setLoading } = useContext(MenuContext);\r\n\r\n\tconst [ categoriaSeleccionada, setCategoriaSeleccionada, ] = useState('');\r\n\tconst [ subcategoriaSeleccionada, setSubcategoriaSeleccionada, ] = useState('');\r\n\t/* const [ generoSeleccionado, setGeneroSeleccionado ] = useState(''); */\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t}, []);\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\t// setLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\t// setLoading(false);\r\n\t\t\t\tsetCategorias(res.data);\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\t// setLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGeneros([...generos, ...res.data]);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tif(!generos || !categorias){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst categorias_nav = categorias.map((categoria) => {\r\n\t\treturn (\r\n\t\t\t<SubMenu\r\n\t\t\t\tkey={categoria.categoria}\r\n\t\t\t\ttitle={categoria.categoria}\r\n\t\t\t\tclassName=\"submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat\"\r\n\t\t\t\tonTitleClick={(e) => {\r\n\t\t\t\t\tif(e.key === categoria.categoria){\r\n\t\t\t\t\t\tprops.history.push(`/categorias/${categoria.categoria}`);\r\n\t\t\t\t\t\tsetCategoriaSeleccionada(categoria.categoria);\r\n\t\t\t\t\t\tsetSubcategoriaSeleccionada();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}}\r\n\r\n\t\t\t>\r\n\t\t\t\t{categoria.subcCategoria.map((sub) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t/* className=\"nav-font-color-categorias\" */\r\n\t\t\t\t\t\t\tkey={sub._id}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tprops.history.push(`/categorias/${categoriaSeleccionada}/${sub._id}`);\r\n\t\t\t\t\t\t\t\tsetSubcategoriaSeleccionada(sub._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{sub._id}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</SubMenu>\r\n\t\t\t// \r\n\t\t);\r\n\t});\r\n\r\n\tconst categorias_generos = generos.map((generos) => {\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\t/* className=\"nav-font-color-categorias \" */\r\n\t\t\t\tkey={generos._id}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tif(!categoriaSeleccionada && !subcategoriaSeleccionada ){\r\n\t\t\t\t\t\tprops.history.push(`/categoria/${generos._id}`)\r\n\t\t\t\t\t}else if(categoriaSeleccionada && !subcategoriaSeleccionada){\r\n\t\t\t\t\t\tprops.history.push(`/categoria/${categoriaSeleccionada}/${generos._id}`)\r\n\t\t\t\t\t}else if(categoriaSeleccionada && subcategoriaSeleccionada){\r\n\t\t\t\t\t\tprops.history.push(`/categoria/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generos._id}`)\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t>\r\n\t\t\t\t{generos._id}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Layout className=\"container-subcategorias-nav d-lg-inline size-layout-cat\">\r\n\t\t\t{/* <Spin className=\"ml-5 d-inline spin-nav-categorias\" spinning={loading} /> */}\r\n\t\t\t<Menu\r\n\t\t\t\tclassName=\"categorias-navbar d-inline size-menu-cat\"\r\n\t\t\t\ttheme=\"light\"\r\n\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\ttriggerSubMenuAction=\"click\"\r\n\t\t\t>\r\n\t\t\t\t{categorias_nav}\r\n\t\t\t\t{generos.length !== 0 ? (\r\n\t\t\t\t\t<SubMenu title=\"Género\" className=\"submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat\">\r\n\t\t\t\t\t\t{categorias_generos}\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t</SubMenu>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Categorias);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Layout, Menu, Button, Input, Drawer, Badge, Avatar, Spin, Divider } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { SearchOutlined, MenuOutlined, ShoppingOutlined , SettingOutlined, LogoutOutlined, UserOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../config/axios';\r\nimport RightMenu from './RightMenu';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport aws from '../../config/aws';\r\nimport './navegacion.scss';\r\nimport Categorias from '../../components/Categorias/Categorias';\r\n\r\n\r\nconst { Search } = Input;\r\nconst { Header } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst Navegacion = (props) => {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { loading, setLoading } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ busqueda, setBusqueda] = useState(\"\")\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\tconst [ carrito, setCarrito ] = useState(0);\r\n\tconst [ ofertas, setOfertas ] = useState([]);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetActive(true);\r\n\t\t\tobtenerOfertas();\r\n\t\t\tobtenerQuienesSomos();\r\n\t\t\tif (token) {\r\n\t\t\t\tobtenerCarrito();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ token, active ]\r\n\t);\r\n\r\n\tasync function obtenerCarrito() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\t\t\t\tif (res.idarticulo.activo === false) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetCarrito(carrito.length);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetCarrito(0);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerQuienesSomos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/tienda')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((datos) => {\r\n\t\t\t\t\tsetTienda(datos);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\tasync function obtenerOfertas() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetOfertas(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div className=\"preloading\">\r\n\t\t\t\t<div className=\"contenedor-preloading\">\r\n\t\t\t\t\t<Spin size=\"large\" tip=\"Cargando la tienda...\" className=\"spiner\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tfunction valor(e) {\r\n\t\tsetBusqueda(e.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t<Layout className=\"layout navbar-menu-general a00\">\r\n\t\t\t<Header className=\" a1\">\r\n\t\t\t\t<div className=\"menuCon  a2\">\r\n\t\t\t\t\t<div className=\"top-menu row a3 container-prin\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-lg-12 container-pages a4\">\r\n\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\tclassName=\"float-right nav-font-pages a5\"\r\n\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\tinlineIndent={0}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Inicio</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Divider type=\"vertical\" />\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/productos\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Productos</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/productos\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Divider type=\"vertical\" />\r\n\t\t\t\t\t\t\t\t{ofertas.length ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/ofertas\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Ofertas</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/ofertas\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Divider type=\"vertical\" />\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/blog\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Blog</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/blog\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Divider type=\"vertical\" />\r\n\t\t\t\t\t\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/quienes_somos\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Quiénes somos</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/quienes_somos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout>\r\n\t\t\r\n\t\t{/* DIVISOR PARA EL INPUT  */}\r\n\r\n\t\t<Layout className=\"layout  a0\">\r\n\t\t\t<Header className=\" a1\">\r\n\t\t\t\t<div className=\"menuCon  a2\">\r\n\t\t\t\t\t<div className=\"top-menu row a3\">\r\n\t\t\t\t\t\t<div className=\"col-lg-9 row-logo-search\">\r\n\t\t\t\t\t\t\t<div className=\"row row-logo-search-2 \">\r\n\t\t\t\t\t\t\t\t\t{!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-8 row input-search\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tonChange={valor}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"input-search border-color-search\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tonClick={(value) => props.history.push(`/searching/${busqueda}`)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"boton-search border-color-search\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SearchOutlined style={{fontSize: 25}}/>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* INICIO DE AVATAR, TU CARRITO Y ENTRAR  */}\r\n\t\t\t\t\t\t<div className=\"col-lg-3 a4 container-pages\">\r\n\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\tclassName=\"float-right navbar-menu-sesion a50\"\r\n\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\tinlineIndent={0}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color-sesion a6\" key=\"/pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Mis compras</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/pedidos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color-sesion a6\" key=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined style={{ fontSize: 25 }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color-sesion a6\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color-sesion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color nav-border-color a6\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\" a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\" a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color-sesion nav-border-color a6\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" ><UserOutlined style={{fontSize: 27}}/></div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/entrar\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* FIN DE AVATAR, TU CARRITO Y ENTRAR  */}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"top-menu-responsive\">\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"barsMenu\" onClick={showDrawer}>\r\n\t\t\t\t\t\t\t<MenuOutlined className=\"menu-responsivo-icon\" style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-nav-responsive\"\r\n\t\t\t\t\t\t\tplaceholder=\"input search text\"\r\n\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"mx-4\">\r\n\t\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined className=\"menu-responsivo-icon\" style={{ fontSize: 28 }} />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tclassName=\"drawer-background\"\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RightMenu ofertas={ofertas} tienda={tienda} />\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout>\r\n\r\n\t\t{/* <Layout className=\"layout navbar-menu-general a00\">\r\n\t\t\t<Header className=\"navbar-menu-general a1\">\r\n\t\t\t\t<div className=\"menuCon navbar-menu-general a2\">\r\n\t\t\t\t\t<div className=\"top-menu row a3 container-prin\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 containe-categorias\">\r\n\t\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout> */}\r\n\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Navegacion);\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../config/axios';\r\nimport { Link } from 'react-router-dom';\r\nimport {  Button,  Layout} from 'antd';\r\nimport aws from '../../config/aws';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport {FacebookFilled, InstagramFilled,\r\n        TwitterCircleFilled, UserOutlined, KeyOutlined, \r\n        PhoneOutlined, SettingOutlined \r\n        } from '@ant-design/icons';\r\nimport './footer.scss';\r\nimport '../../scss/variables.scss'\r\n// import SubMenu from 'antd/lib/menu/SubMenu';\r\n\r\nconst { Footer } = Layout;\r\n\r\n\r\nconst Style = {fontSize:15};\r\n\r\nconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nconst FooterPage = (props) => {\r\n    const [face, setFace] = useState('')\r\n    const [insta, setInsta] = useState('')\r\n    const [twitter, setTwitter] = useState('')\r\n    const [imagenCorp, setImagenCorp] = useState('')\r\n    // const [nombreCorp, setNombreCorp] = useState('')\r\n    const [politicas, setPoliticas] = useState('')\r\n    const [telefono, setTelefono] = useState('')\r\n    const [tienda, setTienda] = useState([])\r\n    const [ direccion, setDireccion ] = useState({});\r\n    const [accion, setAccion] = useState(false)\r\n\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\r\n    function peticionRedes(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                \r\n                if(res.data[0]){\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                    setTienda(res.data[0])\r\n                    setDireccion(res.data[0].direccion[0])\r\n                    setPoliticas(res.data[0].politicas)\r\n                    setTelefono(res.data[0].telefono)\r\n                    if(res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== ''){\r\n                        setFace(res.data[0].linkFace);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== ''){\r\n                        setInsta(res.data[0].linkInsta);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== ''){\r\n                        setTwitter(res.data[0].linkTweeter);\r\n                        setAccion(true);\r\n                    }\r\n                }\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n               \r\n\t\t\t});\r\n    }\r\n\r\n    async function obtenerCategorias() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n                setCategorias(res.data);\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n                console.log(res);\r\n\t\t\t});\r\n\t}\r\n\r\n    useEffect(() => {\r\n        peticionRedes();\r\n        setAccion(false)\r\n        obtenerCategorias();\r\n    }, []);\r\n\r\n    const categorias_foot = categorias.map((categoria, index) => {\r\n        if(index <= 14){\r\n            return (\r\n                <div className=\"col-lg-12 mt-lg-2 d-flex\">\r\n                    <Link \r\n                        className=\"footer-font-color\"\r\n                        to={(`/categorias/${categoria.categoria}`)}\r\n                    >\r\n                        {categoria.categoria}\r\n                    </Link>\r\n                </div>\r\n            )\r\n        }\r\n    });\r\n    \r\n\r\n    return(\r\n       \r\n         <Layout className=\"layout\">\r\n             <Footer className=\"bg-footer\" >\r\n                <div end=\"xs\" id=\"foot\">  \r\n                    <div className=\"row footer-font-color\">\r\n                        <div className=\"col-lg-4  d-sm-text-center\">\r\n                            {tienda.imagenLogo !== '' ? \r\n                            <img\r\n                                className=\"logotipo\"\r\n                                alt=\"imagen de base\"\r\n                                src={aws+tienda.imagenLogo}\r\n                            />\r\n                            : \"\"}\r\n                            {/* <h6>{tienda.nombre !== '' ? tienda.nombre : \"\"}</h6> */}\r\n                            <div className=\"row mt-3\">\r\n                                <PhoneOutlined className=\"mt-1\" style={{fontSize: 55, marginLeft: 5}} />\r\n                                <div className=\"px-3\">\r\n                                    <p>¿Tienes preguntas? ¡Contáctanos!:</p> \r\n                                    {telefono !== '' ? (<h1 style={{fontSize: 20}}>{telefono} </h1>): \"\"}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"mt-3\">\r\n                                {accion ? (<p style={{fontWeight: \"bold\"}}>Datos de contacto:</p>):\"\"}\r\n                                {direccion ? (\r\n                                    <div>\r\n                                    <p>{direccion.calle_numero}, Col. {direccion.colonia}, </p>\r\n                                    <p>{direccion.ciudad}, {direccion.estado}</p>\r\n                                    </div>\r\n                                ) : \"\"}\r\n                                <div className=\"mt-3\">\r\n                                {face !== '' ? \r\n                                    (\r\n                                    <a href={face} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                        <FacebookFilled  id=\"is\" style={{fontSize: 33, color:\"gray\"}} />\r\n                                    </a>\r\n                                    ):('')\r\n                                \r\n                                }\r\n                                {insta !== '' ? \r\n                                    (\r\n                                    <a href={insta} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                        <InstagramFilled  id=\"is\" style={{fontSize: 33, color:\"gray\"}} />\r\n                                    </a>\r\n                                    ):('')\r\n                                }\r\n                                \r\n                                {twitter !== '' ? \r\n                                    (\r\n                                    <a href={twitter} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                        <TwitterCircleFilled  id=\"is\" style={{fontSize: 33, color:\"gray\"}} />\r\n                                    </a>\r\n                                    ):('')\r\n                                }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-6 mt-lg-4 d-none d-lg-block \">\r\n                            <p style={{fontWeight: \"bold\"}}>Encuéntralo más rápido</p>\r\n                            <div style={{columnCount: 2}}>\r\n                                {categorias_foot}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-2 mt-4 d-none d-lg-block\" style={{columnCount: 1}}>\r\n                           <p style={{fontWeight: \"bold\"}}>Atención al cliente</p>\r\n                           {imagenCorp !== '' ? (\r\n                                <Link  to=\"/quienes_somos\" >\r\n                                    <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><UserOutlined className=\"footer-font-color\"/>\r\n                                        Conócenos\r\n                                    </Button>\r\n                                </Link>\r\n                            ): \"\"}\r\n\r\n                            {politicas !== '' ? (\r\n                                <Link  to=\"/politicas\">\r\n                                    <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><KeyOutlined className=\"footer-font-color\"/>\r\n                                        Aviso de Privacidad\r\n                                    </Button>\r\n                                </Link>\r\n                            ): \"\"}\r\n                            {token && decoded['rol'] === false ? (\r\n                            <Link  to=\"/perfiles\">\r\n                                <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><SettingOutlined className=\"footer-font-color\"/>\r\n                                    Mi cuenta\r\n                                </Button>\r\n                            </Link>\r\n                            ) : \r\n                            (\r\n                            <Link  to=\"/entrar\">\r\n                                <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><SettingOutlined className=\"footer-font-color\"/>\r\n                                    Mi cuenta\r\n                                </Button>\r\n                            </Link>\r\n                            )}\r\n                        </div>\r\n                    </div> \r\n                </div>\r\n                {/* <div className=\"align-center\">\r\n                    <p className=\"text-center\">© CAFI - All Rights Reserved - 2020</p>\r\n                </div> */}\r\n             </Footer>\r\n         </Layout>\r\n    )\r\n}\r\n\r\nexport default FooterPage;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport { MenuProvider } from '../../context/carritoContext';\r\nimport Navegacion from '../../components/Navegacion/Navegacion';\r\nimport Categorias from '../Categorias/Categorias';\r\nimport FooterPage from '../../components/Footer/Footer';\r\nimport './layout.scss';\r\n\r\nexport default function LayoutBasic(props) {\r\n\tconst { routes } = props;\r\n\tconst { Content, Footer } = Layout;\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className=\"cuerpo bg-layout\">\r\n\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t<MenuProvider>\r\n\t\t\t\t\t\t\t<Navegacion />\r\n\t\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t\t<Content style={{ height: 'auto' }} className=\"bg-layout\">\r\n\t\t\t\t\t\t\t\t<div className=\"site-layout-content flex\">\r\n\t\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t\t</MenuProvider>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer className=\"foot\" style={{ margin: 0, padding: 0 }}>\r\n\t\t\t\t\t<FooterPage style={{ margin: 0, padding: 0 }} />\r\n\t\t\t\t</Footer>\r\n\t\t\t</Layout>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function Geolocalizacion({\r\n\theight,\r\n\twidth,\r\n\tcenter,\r\n\ttitleLayer,\r\n\tzoom,\r\n\tapikey,\r\n\tnombreMarcador,\r\n\ttituloheader,\r\n\tdraggable\r\n}) {\r\n\tuseEffect(() => {\r\n\t\t//api key\r\n\t\twindow.L.mapquest.key = apikey;\r\n\r\n\t\tvar container = window.L.DomUtil.get('map');\r\n\t\tif (container != null) {\r\n\t\t\tcontainer._leaflet_id = null;\r\n\t\t}\r\n\r\n\t\t//inicializar el map\r\n\t\tconst map = window.L.mapquest.map('map', {\r\n\t\t\tcenter,\r\n\t\t\tlayers: window.L.mapquest.tileLayer(titleLayer),\r\n\t\t\tzoom\r\n\t\t});\r\n\r\n          window.L.marker(center, {\r\n            icon: window.L.mapquest.icons.marker(),\r\n            draggable: false\r\n          }).bindPopup(nombreMarcador).addTo(map);\r\n\r\n          map.addControl(window.L.mapquest.control());\r\n    })\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{tituloheader ? (\r\n\t\t\t\t<div className=\"principal-productos\">\r\n\t\t\t\t\tENCUENTRA NUESTRA TIENDA\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div id=\"map\" style={{ height, width }} className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"spinner-border display-3\" style={{ width: '10rem', height: '10rem' }} role=\"status\">\r\n\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Spin } from 'antd';\r\nimport './spin.scss';\r\n\r\nexport default function Spinner(props){\r\n    return <Spin className=\"spiner\" size=\"large\" spinning={props.spinning}>{props.children}</Spin>\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input,Button, Alert, notification, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function PoliticasEnvio(props) {\r\n\tconst {setCurrent, current} = props;\r\n\t// const {drawnerClose} = props;\r\n\t// const {next} = props;\r\n\r\n\tconst { datosNegocio } = props;\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ idTienda, setIdTienda ] = useState('');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos();\r\n\t\t\tif (!datosNegocio) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ datosNegocio ]\r\n\t);\r\n\r\n\tasync function obtenerDatos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetControl(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetControl(true);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetIdTienda(res.data._id);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function SendForm() {\r\n\t\tif (control === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(\r\n\t\t\t\t\t'/politicasEnvio/',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tidTienda: datosNegocio._id,\r\n\t\t\t\t\t\tidAdministrador: decoded._id,\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t// setReloadInfo(true);\r\n\t\t\t\t\t// drawnerClose();\r\n\t\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/politicasEnvio/${idTienda}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t// setReloadInfo(true);\r\n\t\t\t\t\t// drawnerClose();\r\n\t\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las políticas de envió sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form onFinish={SendForm} form={form} /* setCurrent={setCurrent} current={current} */ className=\"mt-5\">\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Costo de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, costoEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"costoEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la paqueteria\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"costoEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Promoción de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, promocionEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"promocionEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Se aplica una promoción de envío a clientes que superen esta cantidad\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"promocionEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Descuento\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, descuento: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"descuento\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la promoción\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"descuento\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de envío' : 'Actualizar politicas de envío'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./coberturaEnvios.scss\";\r\nimport {\r\n  Button,\r\n  Select,\r\n  Tag,\r\n  notification,\r\n  Table,\r\n  Spin,\r\n  Modal,\r\n  Tooltip,\r\n  Checkbox,\r\n} from \"antd\";\r\nimport {\r\n  EditOutlined,\r\n  ExclamationCircleOutlined,\r\n  DeleteOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport clienteAxios from \"../../../../../config/axios\";\r\n\r\nconst consultaEstados = axios.create({\r\n  baseURL: `https://api-sepomex.hckdrk.mx/query/`,\r\n});\r\n\r\nexport default function Cobertura_envios(props) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const { confirm } = Modal;\r\n  const { Option } = Select;\r\n  const { Column } = Table;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [reload, setReload] = useState(false);\r\n  const [municipioGuardado, setMunicipioGuardado] = useState([]);\r\n  const [idEstado, setIdEstado] = useState([]);\r\n\r\n  const [todos, setTodos] = useState(false);\r\n\r\n  const [municipiosApi, setMunicipiosApi] = useState([]);\r\n  const [estadosApi, setEstadoApi] = useState([]);\r\n  const [value, setValue] = useState([]);\r\n\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n  const [estado, setEstado] = useState(\"\");\r\n\r\n  const errors = (err) => {\r\n    if (err.response) {\r\n      notification.error({\r\n        message: \"Error\",\r\n        description: err.response.data.message,\r\n        duration: 2,\r\n      });\r\n    } else {\r\n      notification.error({\r\n        message: \"Error de conexion\",\r\n        description: \"Al parecer no se a podido conectar al servidor.\",\r\n        duration: 2,\r\n      });\r\n    }\r\n  };\r\n\r\n  const selectTodos = (e) => {\r\n    setTodos(e.target.checked);\r\n    // console.log(e.target.checked);\r\n    \r\n  };\r\n\r\n  //*******************************Checkeo de datos************************************************************************************ */\r\n  const [covertura, setCovertura] = useState([]);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n\r\n  const onSelectChange = (parametros) => {\r\n    setSelectedRowKeys(parametros);\r\n    const listaMun = parametros.map((res) => {\r\n      return res;\r\n    });\r\n    setCovertura(listaMun);\r\n  };\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: onSelectChange,\r\n    getCheckboxProps: (municipio) => {\r\n      if (value) {\r\n        return {\r\n          disabled: municipio.municipio && municipio.length !== 0,\r\n          // Column configuration not to be checked\r\n          name: municipio.name,\r\n        };\r\n      } else {\r\n        return {\r\n          disabled: municipio.municipio && municipio.length !== 0,\r\n          // Column configuration not to be checked\r\n          name: municipio.name,\r\n        };\r\n      }\r\n    },\r\n    onSelect: (record, selected, selectedRows) => {\r\n      setCovertura(selectedRows);\r\n    },\r\n    onSelectAll: (selected, selectedRows) => {\r\n      setCovertura(selectedRows);\r\n    },\r\n  };\r\n\r\n  const checkearChecks = () => {\r\n    const listaMunicipios = municipioGuardado.map((municipio) => {\r\n      return municipio;\r\n    });\r\n    setSelectedRowKeys(listaMunicipios);\r\n  };\r\n  //*******************************************Consultas de API Externas*************************************************************** */\r\n\r\n  const selectMunicipio = (value) => {\r\n    setValue(value);\r\n    setMunicipioGuardado([]);\r\n    setIdEstado();\r\n\r\n    if (value) {\r\n      setEstado(value);\r\n      setLoading(true);\r\n      consultaEstados\r\n        .get(`/get_municipio_por_estado/${value}`)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          const datosApiMunicipios = res.data.response.municipios;\r\n          setMunicipiosApi(res.data.response.municipios);\r\n          const arrayMunicipio = [];\r\n          dataEstados.forEach((estado) => {\r\n            if (value === estado.estado) {\r\n              setIdEstado(estado._id);\r\n              estado.municipios.map((municipio) => {\r\n                for (let i = 0; i < datosApiMunicipios.length; i++) {\r\n                  if (datosApiMunicipios[i] === municipio.municipio) {\r\n                    arrayMunicipio.push(municipio.municipio);\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          });\r\n          setSelectedRowKeys(arrayMunicipio);\r\n        })\r\n        .catch((err) => {\r\n          notification.error({\r\n            message: \"Error del servidor\",\r\n            description: \"Paso algo en el servidor\",\r\n          });\r\n        });\r\n    }\r\n  };\r\n\r\n  function obtenerEstados() {\r\n    consultaEstados\r\n      .get(`/get_estados/`)\r\n      .then((res) => {\r\n        setEstadoApi(res.data.response.estado);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  }\r\n\r\n  const arrayMunicipio = [];\r\n  for (let i = 0; i < covertura.length; i++) {\r\n    arrayMunicipio.push({ municipio: covertura[i] });\r\n  }\r\n\r\n  // *****************************************ENVIO DE ESTADOS****************************************************************\r\n  const enviarDatos = async () => {\r\n    var nuevoEstado = {};\r\n\r\n    //Condicion de registros y actualizacion\r\n    if (todos && dataEstados.length === 0) {\r\n      nuevoEstado.todos = todos;\r\n      clienteAxios\r\n        .post(`/politicasEnvio/estados/`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setTodos(false);\r\n          notification.success({\r\n            message: \"Registro Exitoso\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (todos && dataEstados.length > 0) {\r\n      nuevoEstado.todos = todos;\r\n      clienteAxios\r\n        .put(`/politicasEnvio/estados/todos`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setTodos(false);\r\n          notification.success({\r\n            message: \"Actualizacion Exitosa a todo mexico\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (selectedRowKeys.length > 0 && !idEstado) {\r\n      nuevoEstado = {\r\n        estado: estado,\r\n        municipios: arrayMunicipio,\r\n      };\r\n      clienteAxios\r\n        .post(`/politicasEnvio/estados/`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          notification.success({\r\n            message: \"Registro Exitoso\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n          limpiar();\r\n          setTodos(false);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (idEstado) {\r\n      nuevoEstado = {\r\n        estado: estado,\r\n        municipios: arrayMunicipio,\r\n      };\r\n      clienteAxios\r\n        .put(`/politicasEnvio/estados/${idEstado}`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          notification.success({\r\n            message: \"Actualizacion Exitosa de estado\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n          setTodos(false);\r\n          limpiar();\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  // ***************************************** Retorno de estados TAGS***************************************************************\r\n  const traerDatos = async () => {\r\n    clienteAxios.get(`/politicasEnvio/estados/`).then((res) => {\r\n      if (res.data.length > 0) {\r\n        res.data.map((todo) => {\r\n          if (todo.todos === true) {\r\n            setTodos(true);\r\n          }\r\n        });\r\n      }\r\n\r\n      setDataEstados(res.data);\r\n      setReload(true);\r\n    });\r\n  };\r\n\r\n  // console.log(todosApi);\r\n  // *****************************************Eliminar estados****************************************************************\r\n  const deleteEstado = (state) => {\r\n    confirm({\r\n      title: \"Eliminando Estado\",\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: `¿Estás seguro que deseas eliminar el Estado?`,\r\n      okText: \"Eliminar\",\r\n      okType: \"danger\",\r\n      cancelText: \"Cancelar\",\r\n      onOk() {\r\n        clienteAxios\r\n          .delete(`/politicasEnvio/estados/${state._id}`, {\r\n            headers: {\r\n              Authorization: `bearer ${token}`,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            notification.success({\r\n              message: \"Estado Eliminado\",\r\n            });\r\n            setReload(res);\r\n            limpiar();\r\n          })\r\n          .catch((err) => {\r\n            if (err.response) {\r\n              notification.error({\r\n                message: \"Error\",\r\n                description: err.response.data.message,\r\n                duration: 2,\r\n              });\r\n            } else {\r\n              notification.error({\r\n                message: \"Error de conexion\",\r\n                description: \"Al parecer no se a podido conectar al servidor.\",\r\n                duration: 2,\r\n              });\r\n            }\r\n          });\r\n      },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    obtenerEstados();\r\n    if (value) {\r\n      checkearChecks();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, [reload]);\r\n\r\n  function limpiar() {\r\n    setValue([]);\r\n    setMunicipiosApi([]);\r\n    setSelectedRowKeys([]);\r\n    setMunicipioGuardado([]);\r\n    setIdEstado();\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-lg-6\">\r\n          \r\n          <Checkbox \r\n            onChange={selectTodos} \r\n            checked={todos} \r\n            className=\"mt-2\"\r\n            style={{fontSize: 16, color: \"green\"}}\r\n          >\r\n            Envio a todo Mexico\r\n          </Checkbox>\r\n\r\n          <Select\r\n            style={{ width: \"70%\" }}\r\n            className=\"mt-3\"\r\n            placeholder=\"Selecciona un estado\"\r\n            onChange={selectMunicipio}\r\n            value={value}\r\n            disabled={todos}\r\n          >\r\n            {estadosApi.length !== 0 ? (\r\n              estadosApi.map((estado) => {\r\n                return (\r\n                  <Option key={estado} value={estado}>\r\n                    {estado}\r\n                  </Option>\r\n                );\r\n              })\r\n            ) : (\r\n              <Option />\r\n            )}\r\n          </Select>\r\n          \r\n          <div className=\"text-center mt-3\">\r\n            {\r\n           \r\n              dataEstados.map((estado) => {\r\n               if (estado.todos) {\r\n\r\n               }else{\r\n                const municipios = [];\r\n                estado.municipios.map((municipio) => {\r\n                  municipios.push(municipio.municipio + \"       -       \");\r\n                });\r\n                return (\r\n                  <Tooltip\r\n                    placement=\"left\"\r\n                    key={estado._id}\r\n                    title={municipios}\r\n                  >\r\n                    <Tag\r\n                      className=\"mt-3 tags-color\"\r\n                      visible={true}\r\n                      closable\r\n                      onClick={() => selectMunicipio(estado.estado)}\r\n                      onClose={() => deleteEstado(estado)}\r\n                      key={estado._id}\r\n                    >\r\n                      {estado.estado}\r\n                    </Tag>\r\n                  </Tooltip>\r\n                );\r\n               }\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{ width: \"50%\", textAlign: \"center\" }}>\r\n          <Spin size=\"large\" spinning={loading}>\r\n            <Table\r\n              className=\"\"\r\n              rowSelection={rowSelection}\r\n              dataSource={municipiosApi}\r\n              rowKey={(municipio) => municipio}\r\n              scroll={{ y: 300 }}\r\n              pagination={false}\r\n            >\r\n              <Column title={\"Municipios\"} />\r\n            </Table>\r\n          </Spin>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"justify-content-center align-items-center text-center mt-4\">\r\n        <Button\r\n          className=\"mt-4 m-3 text-center px-4\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={enviarDatos}\r\n        >\r\n          <EditOutlined style={{ fontSize: 24 }} />\r\n          Agregar\r\n        </Button>\r\n\r\n        <Button\r\n          className=\"mt-4 m-3 text-center px-4\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={limpiar}\r\n          disabled={todos}\r\n        >\r\n          <DeleteOutlined style={{ fontSize: 20 }} />\r\n          Limpiar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Divider,\r\n  Button,\r\n  Upload,\r\n  notification,\r\n  Alert,\r\n  Steps,\r\n  Spin,\r\n} from \"antd\";\r\nimport {\r\n  PlusCircleOutlined,\r\n  EditOutlined,\r\n  UploadOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport clienteAxios from \"../../../../../config/axios\";\r\nimport PoliticasEnvio from \"./politicas_envio\";\r\nimport Cobertura_envio from \"./cobertura_envios\";\r\nimport aws from \"../../../../../config/aws\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMapMarkedAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function RegistroTienda(props) {\r\n  // const { drawnerClose } = props;\r\n  const [current, setCurrent] = props.steps;\r\n\r\n  const { datosNegocio, token, /* setLoading, */ } = props;\r\n\r\n  const [datos, setDatos] = useState({});\r\n  const [control, setControl] = useState(false);\r\n  const [form] = Form.useForm();\r\n  const { Step } = Steps;\r\n\r\n  const [upload, setUpload] = useState(false);\r\n  //Variables que guardan las imagenes\r\n  const [files, setFiles] = useState([]);\r\n  const [imagen, setImagen] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const monstrarInformacionBlog = (e) => {\r\n    form.setFieldsValue(e);\r\n  };\r\n\r\n  /* const [current, setCurrent] = useState(0); */\r\n\r\n  const next = () => {\r\n    setCurrent(current + 1);\r\n  };\r\n\r\n  // const prev = () => {\r\n  //   setCurrent(current - 1);\r\n  // };\r\n\r\n  useEffect(() => {\r\n    if (datosNegocio !== undefined) {\r\n      setImagen(datosNegocio.imagenLogo);\r\n      if (datosNegocio.ubicacion[0].lat === \"undefined\") {\r\n        datosNegocio.ubicacion[0].lat = \"\";\r\n      }\r\n      if (datosNegocio.ubicacion[0].lng === \"undefined\") {\r\n        datosNegocio.ubicacion[0].lng = \"\";\r\n      }\r\n      if (datosNegocio.linkFace === \"undefined\") {\r\n        datosNegocio.linkFace = \"\";\r\n      }\r\n      if (datosNegocio.linkInsta === \"undefined\") {\r\n        datosNegocio.linkInsta = \"\";\r\n      }\r\n      if (datosNegocio.linkTweeter === \"undefined\") {\r\n        datosNegocio.linkTweeter = \"\";\r\n      }\r\n      monstrarInformacionBlog({\r\n        nombre: datosNegocio.nombre,\r\n        telefono: datosNegocio.telefono,\r\n        calle_numero: datosNegocio.direccion[0].calle_numero,\r\n        cp: datosNegocio.direccion[0].cp,\r\n        colonia: datosNegocio.direccion[0].colonia,\r\n        ciudad: datosNegocio.direccion[0].ciudad,\r\n        estado: datosNegocio.direccion[0].estado,\r\n        lat: datosNegocio.ubicacion[0].lat,\r\n        lng: datosNegocio.ubicacion[0].lng,\r\n        politicas: datosNegocio.politicas,\r\n        imagenCorp: datosNegocio.imagenCorp,\r\n        linkFace: datosNegocio.linkFace,\r\n        linkInsta: datosNegocio.linkInsta,\r\n        linkTweeter: datosNegocio.linkTweeter,\r\n      });\r\n      setDatos({\r\n        nombre: datosNegocio.nombre,\r\n        telefono: datosNegocio.telefono,\r\n        calle_numero: datosNegocio.direccion[0].calle_numero,\r\n        cp: datosNegocio.direccion[0].cp,\r\n        colonia: datosNegocio.direccion[0].colonia,\r\n        ciudad: datosNegocio.direccion[0].ciudad,\r\n        estado: datosNegocio.direccion[0].estado,\r\n        lat: datosNegocio.ubicacion[0].lat,\r\n        lng: datosNegocio.ubicacion[0].lng,\r\n        politicas: datosNegocio.politicas,\r\n        imagenCorp: datosNegocio.imagenCorp,\r\n        linkFace: datosNegocio.linkFace,\r\n        linkInsta: datosNegocio.linkInsta,\r\n        linkTweeter: datosNegocio.linkTweeter,\r\n      });\r\n      setControl(true);\r\n    } else {\r\n      setDatos({});\r\n      setControl(false);\r\n    }\r\n  }, [datosNegocio]);\r\n\r\n  const capturarPoliticasEditor = (content, editor) => {\r\n    setDatos({ ...datos, politicas: content });\r\n  };\r\n\r\n  const capturarImagenCorpEditor = (content, editor) => {\r\n    setDatos({ ...datos, imagenCorp: content });\r\n  };\r\n\r\n  const propss = {\r\n    listType: \"picture\",\r\n    beforeUpload: (file) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e) => {\r\n        file.thumbUrl = e.target.result;\r\n        setFiles(file);\r\n      };\r\n      setUpload(true);\r\n      return false;\r\n    },\r\n    onRemove: (file) => {\r\n      setUpload(false);\r\n      setFiles([]);\r\n    },\r\n  };\r\n\r\n  const onError = (error) => {\r\n    error.errorFields.map((err) => {\r\n      notification.error({\r\n        message: `[${err.name}]`,\r\n        description: err.errors,\r\n        duration: 5,\r\n      });\r\n    });\r\n  };\r\n\r\n  const SendForm = async () => {\r\n    const formData = new FormData();\r\n    formData.append(\"nombre\", datos.nombre);\r\n    formData.append(\"telefono\", datos.telefono);\r\n    formData.append(\"calle_numero\", datos.calle_numero);\r\n    formData.append(\"cp\", datos.cp);\r\n    formData.append(\"colonia\", datos.colonia);\r\n    formData.append(\"ciudad\", datos.ciudad);\r\n    formData.append(\"estado\", datos.estado);\r\n    formData.append(\"lat\", datos.lat);\r\n    formData.append(\"lng\", datos.lng);\r\n    formData.append(\"politicas\", datos.politicas);\r\n    formData.append(\"imagenCorp\", datos.imagenCorp);\r\n    formData.append(\"linkFace\", datos.linkFace);\r\n    formData.append(\"linkInsta\", datos.linkInsta);\r\n    formData.append(\"linkTweeter\", datos.linkTweeter);\r\n\r\n    setLoading(true);\r\n\r\n    if (control === false) {\r\n      if (files.length === 0) {\r\n        notification.info({\r\n          message: \"Ups, algo salio mal\",\r\n          description: \"La imagen es obligatoria\",\r\n        });\r\n      } else {\r\n        setLoading(true);\r\n        formData.append(\"imagen\", files);\r\n        await clienteAxios\r\n          .post(\"/tienda/\", formData, {\r\n            headers: {\r\n              \"Content-Type\": \"multipart/form-data\",\r\n              Authorization: `bearer ${token}`,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            setLoading(false);\r\n            // setReloadInfo(true);\r\n            // drawnerClose();\r\n            setCurrent(current + 1);\r\n            next();\r\n            notification.success({\r\n              message: \"Registro exitoso\",\r\n              description: res.data.message,\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            setLoading(false);\r\n            if (err.response) {\r\n              notification.error({\r\n                message: \"Error\",\r\n                description: err.response.data.message,\r\n                duration: 2,\r\n              });\r\n            } else {\r\n              notification.error({\r\n                message: \"Error de conexion\",\r\n                description: \"Al parecer no se a podido conectar al servidor.\",\r\n                duration: 2,\r\n              });\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      setLoading(true);\r\n      if (files.length !== 0) {\r\n        formData.append(\"imagen\", files);\r\n      }\r\n      await clienteAxios\r\n        .put(`/tienda/${datosNegocio._id}`, formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setLoading(false);\r\n          // setReloadInfo(true);\r\n          // drawnerClose();\r\n          setCurrent(current + 1);\r\n          next();\r\n          notification.success({\r\n            message: \"Registro exitoso\",\r\n            description: res.data.message,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          if (err.response) {\r\n            notification.error({\r\n              message: \"Error\",\r\n              description: err.response.data.message,\r\n              duration: 2,\r\n            });\r\n          } else {\r\n            notification.error({\r\n              message: \"Error de conexion\",\r\n              description: \"Al parecer no se a podido conectar al servidor.\",\r\n              duration: 2,\r\n            });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const steps = [\r\n    {\r\n      title: \"Datos de la Tienda\",\r\n      content: (\r\n        //setCurrent={setCurrent} current={current}\r\n        <div className=\"\" /* setCurrent={setCurrent} current={current} */>\r\n          <Spin size=\"large\" spinning={loading}>\r\n            <Form\r\n              onFinish={SendForm}\r\n              form={form}\r\n              onFinishFailed={onError}\r\n            >\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <Divider>Logo del negocio</Divider>\r\n                  <div className=\"d-flex justify-content-center m-2\">\r\n                    <Alert\r\n                      className=\"info-recomended-sizes\"\r\n                      message=\"Tamaño recomendado para la imagen es: 900x300px\"\r\n                      type=\"info\"\r\n                      showIcon\r\n                    />\r\n                  </div>\r\n                  <div className=\"m-auto\">\r\n                    <Form.Item label=\"Logo\">\r\n                      <Upload {...propss} name=\"imagen\">\r\n                        <Button disabled={upload}>\r\n                          <UploadOutlined /> Subir\r\n                        </Button>\r\n                      </Upload>\r\n                    </Form.Item>\r\n                    {control === false ? (\r\n                      \"\"\r\n                    ) : (\r\n                      <div>\r\n                        <p className=\"text-center\">Imagen actual:</p>\r\n                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                          <img\r\n                            className=\"d-block img-fluid mt-2\"\r\n                            width=\"200\"\r\n                            alt=\"imagen de base\"\r\n                            src={aws + imagen}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <Divider>Información de la tienda</Divider>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Nombre\"\r\n                    labelCol={{ offset: 1, span: 5 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, nombre: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Nombre obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"nombre\"\r\n                    >\r\n                      <Input name=\"nombre\" placeholder=\"Nombre del negocio\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Telefono \"\r\n                    labelCol={{ offset: 1, span: 5 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, telefono: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Telefono obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"telefono\"\r\n                    >\r\n                      <Input name=\"telefono\" placeholder=\"Telefono\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Calle\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, calle_numero: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Direccion obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"calle_numero\"\r\n                    >\r\n                      <Input name=\"calle_numero\" placeholder=\"Calle y Numero\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Código Postal \"\r\n                    onChange={(e) => setDatos({ ...datos, cp: e.target.value })}\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Código Postal obligatorio\",\r\n                        },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"cp\"\r\n                    >\r\n                      <Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Colonia \"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, colonia: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Colonia obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"colonia\"\r\n                    >\r\n                      <Input name=\"colonia\" placeholder=\"Colonia\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-3 justify-content-center\">\r\n                <div className=\"col-lg-5 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Ciudad\"\r\n                    labelCol={{ offset: 1, span: 4 }}\r\n                    wrapperCol={{ offset: 1, span: 15 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, ciudad: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Direccion obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"ciudad\"\r\n                    >\r\n                      <Input name=\"ciudad\" placeholder=\"Ciudad\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-5 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Estado\"\r\n                    labelCol={{ offset: 1, span: 4 }}\r\n                    wrapperCol={{ offset: 1, span: 15 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, estado: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Estado obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"estado\"\r\n                    >\r\n                      <Input name=\"estado\" placeholder=\"Estado donde vives\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row d-flex justify-content-center align-items-center\">\r\n                <Divider>Ubicación</Divider>\r\n                <div className=\"row justify-content-center\">\r\n                  <div className=\"col-lg-12 text-center\">\r\n                    <a\r\n                      href=\"https://www.google.com.mx/maps/preview\"\r\n                      target=\"_blank\"\r\n                      style={{ fontSize: 16 }}\r\n                      rel=\"No hay pagina que mostar\"\r\n                    >\r\n                      Ir a Google Maps\r\n                      <FontAwesomeIcon\r\n                        icon={faMapMarkedAlt}\r\n                        style={{ marginLeft: 15, fontSize: \"20px\" }}\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                  <div className=\"col-lg-4 col-12\">\r\n                    <Form.Item\r\n                      className=\"m-2\"\r\n                      label=\"Latitud \"\r\n                      labelCol={{ offset: 1, span: 4 }}\r\n                      wrapperCol={{ offset: 1, span: 12 }}\r\n                      onChange={(e) =>\r\n                        setDatos({ ...datos, lat: e.target.value })\r\n                      }\r\n                    >\r\n                      <Form.Item\r\n                        rules={[\r\n                          { required: true, message: \"Latitud obligatoria\" },\r\n                        ]}\r\n                        noStyle\r\n                        name=\"lat\"\r\n                      >\r\n                        <Input name=\"lat\" placeholder=\"Latitud\" />\r\n                      </Form.Item>\r\n                    </Form.Item>\r\n                  </div>\r\n                  <div className=\"col-lg-4 col-12\">\r\n                    <Form.Item\r\n                      className=\"m-2\"\r\n                      label=\"Longitud\"\r\n                      labelCol={{ offset: 1, span: 4 }}\r\n                      wrapperCol={{ offset: 1, span: 12 }}\r\n                      onChange={(e) =>\r\n                        setDatos({ ...datos, lng: e.target.value })\r\n                      }\r\n                    >\r\n                      <Form.Item\r\n                        rules={[\r\n                          { required: true, message: \"Longitud obligatoria\" },\r\n                        ]}\r\n                        noStyle\r\n                        name=\"lng\"\r\n                      >\r\n                        <Input name=\"lng\" placeholder=\"Latitud\" />\r\n                      </Form.Item>\r\n                    </Form.Item>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <Divider>Redes sociales</Divider>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Facebook \"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkFace: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkFace\">\r\n                      <Input\r\n                        name=\"linkFace\"\r\n                        placeholder=\"https://facebook.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Instagram\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkInsta: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkInsta\">\r\n                      <Input\r\n                        name=\"linkInsta\"\r\n                        placeholder=\"https://instagram.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Tweeter\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkTweeter: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkTweeter\">\r\n                      <Input\r\n                        name=\"linkTweeter\"\r\n                        placeholder=\"https://twitter.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <Divider>Información de Políticas de la empresa</Divider>\r\n                <div className=\"col-12\">\r\n                  <Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n                    <Form.Item\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Politicas de privacidad obligatorias\",\r\n                        },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"politicas\"\r\n                    >\r\n                      <Editor\r\n                        disabled={false}\r\n                        init={{\r\n                          height: 450,\r\n                          menubar: true,\r\n                          plugins: [\r\n                            \"advlist autolink lists link image charmap print preview anchor\",\r\n                            \"searchreplace visualblocks code fullscreen\",\r\n                            \"insertdatetime media table paste code help wordcount\",\r\n                          ],\r\n                          toolbar:\r\n                            \"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n                        }}\r\n                        onEditorChange={capturarPoliticasEditor}\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <Divider>Imagen corporativa</Divider>\r\n                <div className=\"col-12\">\r\n                  <Form.Item className=\"m-2\">\r\n                    <Form.Item\r\n                      /* rules={[ { required: true, message: 'Imagen corporativa es obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle */\r\n                      name=\"imagenCorp\"\r\n                    >\r\n                      <Editor\r\n                        disabled={false}\r\n                        init={{\r\n                          height: 450,\r\n                          menubar: true,\r\n                          plugins: [\r\n                            \"advlist autolink lists link image charmap print preview anchor\",\r\n                            \"searchreplace visualblocks code fullscreen\",\r\n                            \"insertdatetime media table paste code help wordcount\",\r\n                          ],\r\n                          toolbar:\r\n                            \"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n                        }}\r\n                        onEditorChange={capturarImagenCorpEditor}\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n                <Button\r\n                  className=\"text-center\"\r\n                  size=\"large\"\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  icon={\r\n                    control === false ? (\r\n                      <PlusCircleOutlined style={{ fontSize: 24 }} />\r\n                    ) : (\r\n                      <EditOutlined style={{ fontSize: 24 }} />\r\n                    )\r\n                  }\r\n                  // onClick={next}\r\n                >\r\n                  {control === false\r\n                    ? \"Registrar informacion de la tienda\"\r\n                    : \"Actualizar información de la tienda\"}\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </Spin>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Politicas de Envio\",\r\n      content: (\r\n        <div>\r\n          <PoliticasEnvio\r\n            datosNegocio={datosNegocio}\r\n            setCurrent={setCurrent}\r\n            current={current}\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Covertura de envio\",\r\n      content: (\r\n        <div>\r\n          <Cobertura_envio />\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Steps current={current}>\r\n        {steps.map((item) => (\r\n          <Step key={item.title} title={item.title} />\r\n        ))}\r\n      </Steps>\r\n\r\n      <div className=\"steps-content\">{steps[current].content}</div>\r\n\r\n      {/* <div className=\"steps-action\">\r\n        {current < steps.length - 1 && (\r\n          <Button type=\"primary\" onClick={() => next()}>\r\n            Siguiente\r\n          </Button>\r\n        )}\r\n        {current > 0 && (\r\n          <Button style={{ margin: \"0 8px\" }} onClick={() => prev()}>\r\n            Anterior\r\n          </Button>\r\n        )}\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Button, Drawer, Alert, notification, Empty } from 'antd';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Geolocalizacion from '../../../../users/geolocalizacion';\r\nimport './MostrarRegistroTienda.scss';\r\nimport {\r\n\tPlusCircleOutlined,\r\n\tEditOutlined,\r\n\tEyeOutlined,\r\n\tFacebookFilled,\r\n\tInstagramFilled,\r\n\tTwitterCircleFilled\r\n} from '@ant-design/icons';\r\nimport Spin from '../../../../../components/Spin';\r\nimport RegistroTienda from './RegistroTienda';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../../../config/aws';\r\n\r\nfunction MostrarRegistroTienda(props) {\r\n\tconst { token } = props;\r\n\r\n\tconst [ action, setAction ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datosNegocio, setDatosNegocio ] = useState({});\r\n\tconst [ face, setFace ] = useState('');\r\n\tconst [ insta, setInsta ] = useState('');\r\n\tconst [ twitter, setTwitter ] = useState('');\r\n\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\tconst [ politicasEnvio, setPoliticasEnvio ] = useState([]);\r\n\r\n\tconst [ lat, setLat ] = useState('');\r\n\tconst [ lng, setLng ] = useState('');\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst drawnerClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t\tif (res.data[0]) {\r\n\t\t\t\t\tsetAction(true);\r\n\t\t\t\t\tif (res.data[0].ubicacion[0].lat === '' || res.data[0].ubicacion[0].lat === 'undefined') {\r\n\t\t\t\t\t\tsetLat('19.767980');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLat(res.data[0].ubicacion[0].lat);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].ubicacion[0].lng === '' || res.data[0].ubicacion[0].lng === 'undefined') {\r\n\t\t\t\t\t\tsetLng('-104.358159');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLng(res.data[0].ubicacion[0].lng);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== '') {\r\n\t\t\t\t\t\tsetFace(res.data[0].linkFace);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== '') {\r\n\t\t\t\t\t\tsetInsta(res.data[0].linkInsta);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== '') {\r\n\t\t\t\t\t\tsetTwitter(res.data[0].linkTweeter);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLat('19.767980');\r\n\t\t\t\t\tsetLng('-104.358159');\r\n\t\t\t\t}\r\n\t\t\t\t/*             if(res.data[0] !== {}){\r\n                setAction(true)\r\n                setLat(res.data[0].ubicacion[0].lat)\r\n                setLng(res.data[0].ubicacion[0].lng)\r\n            }else{\r\n                setLat(\"19.767980\")\r\n                setLng(\"-104.358159\")\r\n            } */\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetLat('19.767980');\r\n\t\t\t\tsetLng('-104.358159');\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerPoliticasEnvio = useCallback(\r\n\t\tasync () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetPoliticasEnvio(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ token ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tobtenerPoliticasEnvio();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo, obtenerPoliticasEnvio ]\r\n\t);\r\n\r\n\tif (loading) {\r\n\t\treturn <Spin />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"info-tienda\">\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={\r\n\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t'Registrando la información del negocio'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Actualizando la información del negocio'\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t\t\t<Button className=\"mx-1\" onClick={() => prev()}>\r\n\t\t\t\t\t\t\t\tAnterior\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{current < 2 && (\r\n\t\t\t\t\t\t\t<Button className=\"mx-1\" type=\"primary\" onClick={() => next()}>\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button className=\"mx-1\" onClick={drawnerClose} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<RegistroTienda\r\n\t\t\t\t\tdatosNegocio={datosNegocio}\r\n\t\t\t\t\ttoken={token}\r\n\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\tsteps={[current,setCurrent]}\r\n\t\t\t\t\t// setReloadInfo={setReloadInfo}\r\n\t\t\t\t\t// drawnerClose={drawnerClose}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\r\n\t\t\t<div className=\"contenedor-boton-datostienda\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tclassName=\"m-3\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t/* drawnerClose={drawnerClose} */\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{action === false ? 'Agregar información tienda' : 'Editar información tienda'}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t<p className=\"text-center mb-4 font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t'Ey aún no agregas la información de tu negocio.'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Información de tu negocio'\r\n\t\t\t\t\t)}{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"w-50\" style={{ margin: 'auto' }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t<Alert message=\"Nota:\" description={<AlertTienda />} type=\"info\" showIcon />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{action === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">Logo del negocio:</p>\r\n\t\t\t\t\t\t<div className=\"mostrarRegistroTienda-imagen m-3\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid \"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws + datosNegocio.imagenLogo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tNombre del negocio:{' '}\r\n\t\t\t\t\t\t\t<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Nombre de tu negocio' : datosNegocio.nombre}{' '}\r\n\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tTeléfono:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Teléfono' : datosNegocio.telefono}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCódigo Postal:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Código Postal' : datosNegocio.direccion[0].cp}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCalle:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Calle' : datosNegocio.direccion[0].calle_numero}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tColonia:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].colonia}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCiudad:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].ciudad} Ciudad\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row justify-content-around\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tEstado:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Estado' : datosNegocio.direccion[0].estado}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"m-2 h5 font-weight-bold\">Redes sociales:</p>\r\n\t\t\t\t\t\t{face !== '' ? (\r\n\t\t\t\t\t\t\t<a href={face} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<FacebookFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{insta !== '' ? (\r\n\t\t\t\t\t\t\t<a href={insta} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<InstagramFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{twitter !== '' ? (\r\n\t\t\t\t\t\t\t<a href={twitter} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<TwitterCircleFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h5\">Ubicación actual: </p>\r\n\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\theight=\"60vh\"\r\n\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\tcenter={[ lat, lng ]}\r\n\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\tzoom={15}\r\n\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de envío</p>\r\n\t\t\t\t\t\t{politicasEnvio.length === 0 ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"politicas-p mt-4\">\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto por envío de paqueteria: <strong>${politicasEnvio.costoEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tPromoción de envío: <strong>${politicasEnvio.promocionEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto de promocion de envío: <strong>${politicasEnvio.descuento}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de privacidad</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/politicas`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Imagen corporativa</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/quienes_somos`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction AlertTienda() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p className=\"h5\">\r\n\t\t\t\tRecuerda que tener la información de tu negocio es importante, ya que esta informacion ayudará que tu\r\n\t\t\t\tnegocio sea encontrado fácilmente.\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarRegistroTienda);\r\n","import React from 'react'\r\nimport {Helmet} from \"react-helmet\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nimport MostrarRegistroTienda from './services/RegistroTienda/MostrarRegistroTienda';\r\n\r\n\r\nfunction Admin(props) {\r\n\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n\t\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Panel Principal</title>\r\n            </Helmet>\r\n            <div>\r\n                <div>\r\n                    <MostrarRegistroTienda token={token} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Admin)","import { createContext } from 'react'\r\n\r\nexport const ProductoContext = createContext(null);\r\nexport const DisabledContext = createContext(null);\r\nexport const IdProductoContext = createContext(null);\r\n\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport './registrar_galeria.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(ProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst props = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoContext);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoContext}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst [ prev, setPrev ] = useState('');\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block\" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"img\"\r\n\t\t\t\t\t\tsrc={aws+imagenes.url}\r\n\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EyeOutlined style={{ fontSize: 20 }} className=\"ver\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 20 }} className=\"eliminar\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...props} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-registrar-galeria d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-registrar-galeria\"\r\n\t\t\t\t\t\t\t\tsrc={aws+prev}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarTalla(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirTalla = async () => {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarTalla = async (idtalla) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/talla/${idtalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerTalla = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge count={tallas.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%' }} message=\"Ya puedes registrar tallas\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar tallas después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">Escribe la talla y la cantidad de productos disponibles de esa talla.</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirTalla} form={form} className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"talla\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"cantidad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button disabled={disabledForm} type=\"dafault\" htmlType=\"submit\" loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarTalla;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarNumero(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirNumero = async () => {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarNumero = async (idnumero) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/numero/${idnumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerNumero = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numero) => (\r\n\t\t\t<div className=\"m-2\" key={numero._id}>\r\n\t\t\t\t<Badge count={numero.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numero.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numero._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Ya puedes registrar número de calzado\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar el número de calzado después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">\r\n\t\t\t\tEscribe la talla del calzado y la cantidad de productos disponibles de esa talla.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirNumero} form={form}>\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"numero\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cantidad\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\" disabled={disabledForm} loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarNumero;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Select, Steps, notification, Upload, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport './registrar_producto.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport RegistrarGaleria from './registrar_galeria';\r\nimport RegistrarTalla from './registrar_talla';\r\nimport RegistrarNumero from './registrar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\n\r\nconst { Option } = Select;\r\nconst { Step } = Steps;\r\n\r\n///Layout para formulario(columnas)\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nString.prototype.capitalize = function() {\r\n\treturn this.charAt(0).toUpperCase() + this.slice(1);\r\n};\r\n\r\nfunction RegistrarProducto(props) {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ disabled, setDisabled ] = props.disabledButtons;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\t///Autorizacion a la pagina con Token\r\n\tconst token = localStorage.getItem('token');\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ disabledPrev, setDisabledPrev ] = useState(false);\r\n\tconst [ disabledform, setDisabledForm ] = useState(true);\r\n\tconst [ disabledformProductos, setDisabledFormProductos ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([ 'Ropa', 'Calzado' ]);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectSubCat, setValueSelectSubCat ] = useState();\r\n\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetCurrent(0);\r\n\t\t\t\tsetDisabledFormProductos(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledForm(true);\r\n\t\t\t\tsetSubCategoria([]);\r\n\t\t\t\tsetValueSelectSubCat();\r\n\t\t\t\tsetSubcategoriasDefault([]);\r\n\t\t\t\tsetItem('');\r\n\t\t\t\tsetSelect('');\r\n\t\t\t\tsetCategoriasDefault([ 'Ropa', 'Calzado' ]);\r\n\t\t\t\tsetValueSelect();\r\n\t\t\t}\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetCurrent(0);\r\n\t\t\tsetDisabledFormProductos(false);\r\n\t\t\tobtenerCategorias();\r\n\t\t},\r\n\t\t[ reload, form ]\r\n\t);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t\tif (current === 0) {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tsetDisabled(true);\r\n\t\t} else if (current >= 1) {\r\n\t\t\tsetDisabledPrev(true);\r\n\t\t} else {\r\n\t\t\tsetDisabledPrev(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t///capturar datos}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tcodigo: '',\r\n\t\tsubCategoria: '',\r\n\t\tnombre: '',\r\n\t\tcantidad: '',\r\n\t\tprecio: '',\r\n\t\timagen: '',\r\n\t\tcolor: ''\r\n\t});\r\n\t//// Capturar valores de categoria\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ genero, setGenero ] = useState('Ninguno');\r\n\tconst [ tipoCategoria, setTipoCategoria ] = useState('');\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value);\r\n\t\tsetValueSelect(value);\r\n\t\tif (value === 'Calzado' || value === 'Ropa') {\r\n\t\t\tsetTipoCategoria(value);\r\n\t\t} else {\r\n\t\t\tsetTipoCategoria('Otros');\r\n\t\t}\r\n\t\tif (value) {\r\n\t\t\tsetDisabled(false);\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t};\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\t/// Guardar y almacenar en la api REST\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tasync function onFinish() {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('codigo', datos.codigo);\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('categoria', select);\r\n\t\tformData.append('tipoCategoria', tipoCategoria);\r\n\t\tformData.append('subCategoria', subCategoria);\r\n\t\tformData.append('genero', genero);\r\n\t\tformData.append('color', datos.color);\r\n\t\tformData.append('colorHex', color);\r\n\t\tformData.append('cantidad', datos.cantidad);\r\n\t\tformData.append('precio', datos.precio);\r\n\t\tformData.append('descripcion', editor);\r\n\t\tformData.append('imagen', files);\r\n\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/productos/', formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabledPrev(true);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledFormProductos(true);\r\n\t\t\t\tsetDisabledForm(false);\r\n\t\t\t\tsetProductoID(res.data.userStored._id);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tif (tipoCategoria === 'Otros') {\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerSubcategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst addItemCategoria = () => {\r\n\t\tsetCategoriasDefault([ ...categoriasDefault, item ]);\r\n\t\tsetSelect(item);\r\n\t\tsetTipoCategoria('Otros');\r\n\t\tsetDisabled(false);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tsetValueSelectSubCat(item);\r\n\t\tsetSubCategoria(item);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t};\r\n\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t\tsetValueSelectSubCat(value);\r\n\t\tform.setFieldsValue({ subCategoria: value });\r\n\t};\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t////CONTENIDO DE LOS PASOS\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Categoría',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<h2 className=\"mb-5\">Selecciona una categoria para continuar</h2>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\tonChange={onSelect}\r\n\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{categoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t{categoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\tif (item._id === 'Ropa' || item._id === 'Calzado') {\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div style={{ width: 900 }}>\r\n\t\t\t\t\t\t<h2 className=\"mb-5 text-center\">Registrar el producto</h2>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\t\t{...layout}\r\n\t\t\t\t\t\t\t\tname=\"nest-messages\"\r\n\t\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\t\tonFinishFailed={onError}\r\n\t\t\t\t\t\t\t\tinitialValues={{ categoria: select, genero: 'Ninguno' }}\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tref={formRef.current}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Código de barras\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"codigo\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Campo opcional\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectSubCat}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 'auto' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onSubCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"genero\"/* \r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona un género\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" disabled={disabledformProductos} />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input min=\"1\" type=\"number\" disabled={disabledformProductos} name=\"precio\" step=\".01\" />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t/* rules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={resetColor}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Imagen principal\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"imagen\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"filelist\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Upload {...propss}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" disabled={disabledformProductos}>\r\n\t\t\t\t\t\t\t\t\t\tRegistrar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t{select === 'Ropa' ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarTalla disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{select === 'Calzado' ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarNumero disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Galería(opcional)',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"contenedor-galeria d-flex justify-content-center align-items-center mt-4 mb-5\">\r\n\t\t\t\t\t<div className=\"text-center\" style={{ width: '90%' }}>\r\n\t\t\t\t\t\t<h2>Agrega más imágenes para tu producto</h2>\r\n\t\t\t\t\t\t<p>Puedes agregar más imágenes de tu producto para que tus clientes puedan verlas.</p>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tclassName=\"info-recomended-sizes\"\r\n\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<RegistrarGaleria />\r\n\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t<Steps current={current}>{steps.map((item) => <Step key={item.title} title={item.title} />)}</Steps>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t<Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n\t\t\t\t\t\tAtras\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current === steps.length - 1 && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Su producto ha sido guardado',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetCloseDraw(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFinalizar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current < steps.length - 1 && (\r\n\t\t\t\t\t<Button type=\"primary\" onClick={next} disabled={disabled}>\r\n\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProducto);\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal, Alert } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport './actualizar_galeria.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ existeGaleria, setExisteGaleria ] = useState(false);\r\n\tconst [ idImagen, setIdImagen ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ prev, setPrev ] = useState('');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBD();\r\n\t\t\tsetExisteGaleria(false);\r\n\t\t\tsetPrev('');\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst antprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoID);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarBD = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/galeria/${productoID}/imagen/${idImagen}`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\tsetExisteGaleria(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetExisteGaleria(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoID}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block \" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img className=\"img\" src={aws + imagenes.url} alt=\"preview-imagen\" />\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<EyeOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"ver\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload {...propsActualizar}>\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\tclassName=\"modificar\"\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\tsetIdImagen(imagenes._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"eliminar\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...antprops} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t{existeGaleria ? (\r\n\t\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\t<p>No hay Galeria</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-actualizar-galeria d-flex justify-content-center align-items-center mb-5\">\r\n\t\t\t\t\t\t{existeGaleria === false || prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img className=\"imagen-actualizar-galeria\" src={aws + prev} alt=\"preview-imagen\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarTalla() {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idTalla, setIdTalla ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTalla();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarTalla() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/talla/${idTalla}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdTalla('');\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevaTalla() {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarTalla(idTalla) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/talla/${idTalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTalla() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (talla, cantidad, idTallas) => {\r\n\t\tsetIdTalla(idTallas);\r\n\t\tsetDatos({ ...datos, talla, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\ttalla,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\tstyle={tallas.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(tallas.talla, tallas.cantidad, tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} onFinish={actualizarTalla}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"talla\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idTalla ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevaTalla}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarTalla;\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarNumero() {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idNumero, setIdNumero ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerNumero();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarNumero() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/numero/${idNumero}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdNumero('');\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\tnumero: '',\r\n\t\t\t\t\tcantidad: ''\r\n\t\t\t\t});\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevoNumero() {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarNumero(idNumero) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/numero/${idNumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerNumero() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (numero, cantidad, idNumero) => {\r\n\t\tsetIdNumero(idNumero);\r\n\t\tsetDatos({ ...datos, numero, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\tnumero,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numeros) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={numeros._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\tstyle={numeros.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(numeros.numero, numeros.cantidad, numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} ref={formRef.current} onFinish={actualizarNumero}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"numero\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idNumero ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdNumero('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevoNumero}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarNumero;\r\n","import React, { useState, useContext, useEffect, useCallback } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Tabs, Form, Input, Upload, Button, notification, Select, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport ActualizarGaleria from './actualizar_galeria';\r\nimport ActualizarTalla from './actualizar_talla';\r\nimport ActualizarNumero from './actualizar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Option } = Select;\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction ActualizarProducto(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectCat, setValueSelectCat ] = useState();\r\n\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([]);\r\n\tconst [ itemCat, setItemCat ] = useState();\r\n\t/* const [ buttonCat, setButtonCat ] = useState(true); */\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([\r\n\t\t{\r\n\t\t\tcodigo: '',\r\n\t\t\tnombre: '',\r\n\t\t\tprecio: '',\r\n\t\t\tcantidad: '',\r\n\t\t\timagen: '',\r\n\t\t\tcolor: ''\r\n\t\t}\r\n\t]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t\t/* background: `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})` */\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t\tproductos.color = '';\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst antprops = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerDatos = useCallback(async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\tcodigo: res.data.codigo,\r\n\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\tcategoria: res.data.categoria,\r\n\t\t\t\t\tsubCategoria: res.data.subCategoria,\r\n\t\t\t\t\tgenero: res.data.genero,\r\n\t\t\t\t\tprecio: res.data.precio,\r\n\t\t\t\t\tcolor: res.data.color,\r\n\t\t\t\t\tcantidad: res.data.cantidad,\r\n\t\t\t\t\tdescripcion: res.data.descripcion\r\n\t\t\t\t});\r\n\t\t\t\tsetSelect(res.data.categoria);\r\n\t\t\t\tsetEditor(res.data.descripcion);\r\n\t\t\t\tsetFiles(res.data.imagen);\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetColor(res.data.colorHex);\r\n\t\t\t\tsetGenero(res.data.genero);\r\n\t\t\t\tsetSubCategoria(res.data.subCategoria);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, [ form, productoID]);\r\n\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst obtenerValores = (e) => {\r\n\t\tsetProductos({\r\n\t\t\t...productos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItemCat(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst addItemCategoria = () => {\r\n\t\tif (itemCat === 'Ropa' || itemCat === 'Calzado') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Categoria no valida',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ categoria: itemCat });\r\n\t\t\tsetValueSelectCat(itemCat);\r\n\t\t\tsetCategoriasDefault([ ...categoriasDefault, itemCat ]);\r\n\t\t\tsetSelect(itemCat);\r\n\r\n\t\t\t/* reset subcategoria */\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetSubCategoria([]);\r\n\t\t\tform.resetFields([ 'subCategoria' ]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value);\r\n\t\tsetValueSelectCat(value);\r\n\r\n\t\t/* reset subcategoria */\r\n\t\tsetValueSelect();\r\n\t\tsetSubCategoria([]);\r\n\t\tform.resetFields([ 'subCategoria' ]);\r\n\t};\r\n\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t\tsetSubCategoria(item);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value);\r\n\t\t\tsetSubCategoria(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerSubcategorias() {\r\n\t\tif (!select) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirDatos = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tif (productos.tipoCategoria === 'Otros') {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('cantidad', productos.cantidad);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t} else {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t}\r\n\r\n\t\t/* for (var pair of formData.entries()) {\r\n\t\t\tconsole.log(pair[0]+ ', ' + pair[1]); \r\n\t\t} */\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerDatos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetCloseDraw(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetFiles([]);\r\n\t\t\t\tsetUpload(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t}\r\n\t\t\tobtenerDatos();\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tobtenerCategorias();\r\n\t\t},\r\n\t\t[ productoID, reload, form, obtenerDatos ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t},\r\n\t\t[ select ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Tabs defaultActiveKey=\"1\">\r\n\t\t\t<TabPane tab=\"Actualizar datos del producto\" key=\"1\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{productos.categoria === 'Ropa' ? (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">{<ActualizarTalla />}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{productos.categoria === 'Calzado' ? <div>{<ActualizarNumero />}</div> : <div />}\r\n\t\t\t\t\t<Form {...layout} name=\"nest-messages\" onFinish={subirDatos} onFinishFailed={onError} form={form}>\r\n\t\t\t\t\t\t<Form.Item name=\"codigo\" label=\"Código de barras\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input name=\"codigo\" placeholder=\"Campo opcional\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{productos.tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"Categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"categoria\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\tvalue={valueSelectCat}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={onSelect}\r\n\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{categoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t{categoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === 'Ropa' || item._id === 'Calzado') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Form.Item className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" name=\"categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onSubCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"genero\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona género\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item wrapperCol={{ span: 22, offset: 0 }} name=\"color\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button className=\"d-inline ml-2\" size=\"middle\" type=\"text\" onClick={resetColor}>\r\n\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{productos.tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"precio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\" name=\"descripcion\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tvalue={editor}\r\n\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen principal\" name=\"imagen\" valuePropName=\"filelist\">\r\n\t\t\t\t\t\t\t<Upload {...antprops} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws + files}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Spin>\r\n\t\t\t</TabPane>\r\n\t\t\t<TabPane tab=\"Actualizar galería de imágenes\" key=\"2\">\r\n\t\t\t\t<ActualizarGaleria />\r\n\t\t\t</TabPane>\r\n\t\t</Tabs>\r\n\t);\r\n}\r\nexport default ActualizarProducto;\r\n","import React from 'react'\r\nimport {Pagination} from 'antd';\r\nimport './pagination.scss'\r\n\r\nexport default function pagination(props) {\r\n    const {blogs, location, history, limite} = props;\r\n    const currentPage = parseInt(blogs.page);\r\n\r\n    const onChangePage = newPage => {\r\n        history.push(`${location.pathname}?page=${newPage}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination mb-3\">\r\n            <Pagination\r\n                defaultCurrent={currentPage}\r\n                total={blogs.totalDocs}\r\n                onChange={newPage => onChangePage(newPage)}\r\n                defaultPageSize={limite}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n","/* import { parse } from \"dotenv/types\";\r\n */\r\n\r\n\r\nexport const formatoMexico = (number) => {\r\n\tif (!number) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tlet nueva;\r\n\t\tif (number % 1 === 0) {\r\n\t\t\tnueva = number;\r\n\t\t} else {\r\n\t\t\tnueva = parseFloat(number).toFixed(2);\r\n\t\t}\r\n\t\tconst exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\r\n\t\tconst rep = '$1,';\r\n\t\treturn  nueva.toString().replace(exp, rep);\r\n\t}\r\n};\r\n\r\nexport const formatoFecha = (fecha) => {\r\n\tif (!fecha) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newdate = new Date(fecha);\r\n\t\treturn newdate.toLocaleDateString('es-MX', { weekday: 'short', year: 'numeric', month: 'long', day: 'numeric' });\r\n\t}\r\n};\r\n\r\nexport const formatoHora = (hora) => {\r\n\tif (!hora) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newtime = new Date(hora);\r\n\t\treturn newtime.toLocaleTimeString('en-US', { hour12: 'false' });\r\n\t}\r\n};\r\n\r\nexport const agregarPorcentaje = (precio_descuento, precio_producto) => {\r\n\tvar porcentaje = Math.round(precio_descuento / precio_producto * 100);\r\n\tvar descuento = 100 - porcentaje;\r\n\treturn descuento;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport RegistrarProducto from './services/registrar_producto';\r\nimport ActualizarProducto from './services/actualizar_producto';\r\nimport { Card, Row, Input, Button, Modal, Drawer, Result, notification, Spin } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\n/* import { StepsContext, StepsProvider } from '../contexts/stepsContext'; */\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport {\r\n\tExclamationCircleOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tRollbackOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport queryString from 'query-string';\r\nimport './productos.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction RegistrarProductos(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visibleButton, setVisibleButton ] = useState('d-none');\r\n\tconst [ closeDraw, setCloseDraw ] = useState(false);\r\n\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction closeConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de cerrar esta ventana?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst eventoCloseConfirm = () => {\r\n\t\tif (accion) {\r\n\t\t\tdrawnerClose();\r\n\t\t} else {\r\n\t\t\tcloseConfirm();\r\n\t\t}\r\n\t};\r\n\t\r\n\tif(closeDraw){\r\n\t\tdrawnerClose();\r\n\t\tsetCloseDraw(false);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(idproducto) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estas seguro de eliminar este articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Este articulo sera borrado permanentemente',\r\n\t\t\tokText: 'Yes',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tasync onOk() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.delete(`/productos/${idproducto}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(window.screen.width < 768){\r\n\t\t\t\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleButton('d-none');\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetVisibleButton('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosRender(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisibleButton('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ page, reload, reloadData ]\r\n\t);\r\n\r\n\tconst render = productosRender.map((productos) => (\r\n\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Card.Grid hoverable style={gridStyle} className=\"card-card\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tstyle={{ /* width: 200, */ maxHeight: 420 }}\r\n\t\t\t\t\tbodyStyle={{ padding: 5 }}\r\n\t\t\t\t\tclassName=\"card-cover\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center cont-imagen-producto-admin\">\r\n\t\t\t\t\t\t\t<img className=\"imagen-producto-admin\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button> ,\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => showDeleteConfirm(productos._id)}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-producto-admin titulo-producto-admin-responsivo font-weight-bold\">\r\n\t\t\t\t\t\t\t{productos.nombre}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<h2 className=\"h5 \">$ {formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</Card.Grid>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Drawer\r\n\t\t\t\tforceRender\r\n\t\t\t\ttitle={accion === true ? 'Actualizar un producto' : 'Registra un nuevo producto'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={eventoCloseConfirm}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={eventoCloseConfirm} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t<ActualizarProducto reloadProductos={reload} closeDraw={setCloseDraw} />\r\n\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} closeDraw={setCloseDraw}/>\r\n\t\t\t\t\t/* <StepsProvider value={[ disabled, setDisabled ]}>\r\n\t\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} />\r\n\t\t\t\t\t</StepsProvider> */\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={`${visibleButton} mb-1`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tRegistrar un producto\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Row style={{ maxWidth: '95vw' }} className=\"mt-4\">\r\n\t\t\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\trender\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productos}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 28}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProductos);\r\n","import React from 'react';\r\nimport { Tag, Divider } from 'antd';\r\nimport { formatoMexico, formatoFecha, formatoHora } from '../../../config/reuserFunction';\r\nimport aws from '../../../config/aws';\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst pedido = props.datosDetalle;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido._id}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.fecha_envio ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.pedido.length}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.estado_pedido === 'Entregado' ? '#5cb85c' : pedido.estado_pedido === 'Enviado' ? '#0088ff' : '#ffc401'}>\r\n\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.pagado === true ? '#5cb85c' : '#f0ad4e'}>\r\n\t\t\t\t\t{pedido.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t\t<Divider className=\"text-center\">Detalles del cliente</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.nombre}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Email:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.email}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.cliente.direccion.map((direccion) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"my-2\" key={direccion._id}>\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Dirección:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.ciudad}, {direccion.estado},{' CP '}\r\n\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t<Divider className=\"text-center\">Detalles del producto</Divider>\r\n\t\t\t{pedido.pedido.map((pedido, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={pedido._id}>\r\n\t\t\t\t\t\t<div className=\"h6\">\r\n\t\t\t\t\t\t\t<strong>Producto {index + 1}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-detalle\">\r\n\t\t\t\t\t\t\t\t<img alt=\"imagen-producto-detalle\" className=\"imagen-producto-detalle\" src={aws+pedido.producto.imagen} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Código de barras:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.codigo}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Artículo:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.nombre}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Categoría:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.categoria}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cantidad}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'ropa' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Talla:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.talla}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'calzado' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Número de calzado:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.numero}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DetallesPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Menu, Dropdown, Button, notification, Input, Form, Spin } from 'antd';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst EstadoPedido = (props) => {\r\n\tconst { handleCancelEstado } = props;\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst IDpedido = props.datosPedido;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst pedidoID = props.datosPedido;\r\n\tconst setReload = props.reload;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ entregado, setEntregado ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedido();\r\n\t\t\tsetDisabled(false);\r\n\t\t},\r\n\t\t[ IDpedido ]\r\n\t);\r\n\r\n\tconst cambiarEstado = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/info/${pedidoID._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\thandleCancelEstado();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${IDpedido._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction handleMenuClick(e) {\r\n\t\tif (e.key === 'Entregado') {\r\n\t\t\tsetEntregado(true);\r\n\t\t\tsetDatos({ estado_pedido: e.key });\r\n\t\t\tsetPedido({ estado_pedido: e.key });\r\n\t\t} else {\r\n\t\t\tsetEntregado(false);\r\n\t\t\tsetDatos({\r\n\t\t\t\t...datos,\r\n\t\t\t\testado_pedido: e.key\r\n\t\t\t});\r\n\t\t\tsetPedido({\r\n\t\t\t\t...pedido,\r\n\t\t\t\testado_pedido: e.key\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tfunction onChange(e) {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t\tsetPedido({\r\n\t\t\t...pedido,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tconst menu = (\r\n\t\t<Menu onClick={handleMenuClick}>\r\n\t\t\t<Menu.Item key=\"En proceso\" disabled={IDpedido.estado_pedido === 'Enviado' || disabled ? true : false}>\r\n\t\t\t\tEn proceso\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Enviado\">Enviado</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Entregado\">Entregado</Menu.Item>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Divider orientation=\"left\">Actualiza el estado del pedido</Divider>\r\n\t\t\t<Dropdown overlay={menu} disabled={IDpedido.estado_pedido === 'Entregado' || disabled ? true : false}>\r\n\t\t\t\t<Button>\r\n\t\t\t\t\t{pedido.estado_pedido} <DownOutlined />\r\n\t\t\t\t</Button>\r\n\t\t\t</Dropdown>\r\n\t\t\t<Divider orientation=\"left\">Informacion de envio</Divider>\r\n\t\t\t<p style={{ fontSize: 16 }}>Si el producto ya fue enviado puedes agregar la información de envío.</p>\r\n\r\n\t\t\t<Form onFinish={cambiarEstado} form={form} className=\"form-paqueteria\">\r\n\t\t\t\t<h6>Mensaje:</h6>\r\n\t\t\t\t<Form.Item name=\"mensaje_admin\">\r\n\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\tdisabled={entregado}\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\tname=\"mensaje_admin\"\r\n\t\t\t\t\t\tplaceholder=\"Mensaje para el usuario\"\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Url de vinculación:</h6>\r\n\t\t\t\t<Form.Item name=\"url\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"url\" placeholder=\"Url de vinculacion del paquete\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Paquetería:</h6>\r\n\t\t\t\t<Form.Item name=\"paqueteria\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"paqueteria\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Código de seguimiento:</h6>\r\n\t\t\t\t<Form.Item name=\"codigo_seguimiento\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"codigo_seguimiento\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"float-right\" /* onClose={true} */>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default EstadoPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport './pedidos.scss';\r\nimport { Card, Col, Row, Modal, notification, Result, Spin, Radio, Tag } from 'antd';\r\nimport { ContainerOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\nimport DetallesPedido from './detalles_pedido';\r\nimport EstadoPedido from './estado_pedido';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { formatoMexico, formatoFecha } from '../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction Pedidos(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ pedidosPaginacion, setPedidosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t//state modales\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estadoVisible, setEstadoVisible ] = useState(false);\r\n\t//state para mostrar pedido en el modal\r\n\tconst [ detallePedido, setDetallePedido ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedidos(12, page);\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload, page ]\r\n\t);\r\n\r\n\tconst obtenerPedidos = async (limit, page) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\t// setPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedidosFiltrados = async (limit, page, filtro) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin/filtrados?limit=${limit}&page=${page}&filtro=${filtro}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\tsetPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction onChange(e) {\r\n\t\tconst estado = e.target.value;\r\n\t\tswitch (estado) {\r\n\t\t\tcase 'todos':\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'proceso':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'En proceso');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'enviados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Enviado');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'entregados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Entregado');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst showModalEstado = () => {\r\n\t\tsetEstadoVisible(true);\r\n\t};\r\n\tconst handleCancelEstado = () => {\r\n\t\tsetEstadoVisible(false);\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tconst render = pedidos.map((pedidos) => {\r\n\t\treturn (\r\n\t\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={pedidos._id}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow-sm card-p-pedidos\"\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDetalles del pedido\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<EditOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModalEstado();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCambiar estado\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\tclassName=\"contenedor-card-pedidos\"\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos._id}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos fecha-pedidos\">{formatoFecha(pedidos.createdAt)}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{pedidos.fecha_envio ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedidos.fecha_envio)}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.cliente.nombre}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.pedido.length}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.estado_pedido === 'Entregado' ? '#5cb85c' : pedidos.estado_pedido === 'Enviado' ? '#0088ff' : '#ffc401'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.pagado === true ? '#5cb85c' : '#f0ad4e'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(pedidos.total)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE PEDIDOS\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\tEn este apartado puedes ver todos los pedidos de tus clientes, filtrar por estados, si ya están\r\n\t\t\t\t\tpagados o no y cambiar su estado.\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<p className=\"d-lg-inline d-block mr-5\">Mostrar por:</p>\r\n\t\t\t\t\t<Radio.Group name=\"radiogroup\" defaultValue=\"todos\" size=\"mediun\">\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"todos\" onChange={onChange}>\r\n\t\t\t\t\t\t\tTodos\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"proceso\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEn Proceso\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"enviados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEnviados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"entregados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEntregados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t{pedidos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Row gutter={16}>{render}</Row>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<DetallesPedido datosDetalle={detallePedido}  />\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"estado\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"Estado del pedido\"\r\n\t\t\t\tvisible={estadoVisible}\r\n\t\t\t\tonCancel={handleCancelEstado}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<EstadoPedido datosPedido={detallePedido} reload={setReload} handleCancelEstado={handleCancelEstado} />\r\n\t\t\t</Modal>\r\n\t\t\t<Pagination blogs={pedidosPaginacion} location={location} history={history} limite={12} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Pedidos);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport {\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tUpload,\r\n\tList,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tForm,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip\r\n} from 'antd';\r\nimport { RollbackOutlined, ClearOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst demo = { height: '500px', overflow: 'auto' };\r\nconst { Option } = Select;\r\n\r\nconst RegistrarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ content, setContent ] = useState(false);\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ imagen, setImagen ] = useState([]);\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(true);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetContent(false);\r\n\t\t\t\tsetInputValue(0);\r\n\t\t\t\tsetPromocion([]);\r\n\t\t\t\tsetPrecioPromocion();\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t}\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerGeneros();\r\n\t\t\tobtenerProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reload, reloadData, form ]\r\n\t);\r\n\r\n\tconst obtenerProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst propsUpload = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e.target.value >= producto.precio || e.target.value <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e.target.value);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e.target.value / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${promocion._id}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetImagen(res.data.promocionBase.imagenPromocion);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('productoPromocion', producto._id);\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/promocion/`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPromocion(res.data.userStored);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.forEach((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetInputValue(0);\r\n\t\tsetImagen([]);\r\n\t\tform.resetFields();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-lg-flex d-sm-block\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t<div className=\"mt-3 row justify-content-center\">\r\n\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\t/* value={subcategoria} */\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t<ClearOutlined className=\"ml-2\" style={{ fontSize: 20 }} onClick={limpiarFiltros} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div style={demo}>\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={1}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(productos) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={producto._id === productos._id ? 'list-item-promocion' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={productos._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetContent(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiar();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"button-disabled-promocion\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPromoción activa\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={<Avatar size={40} src={aws + productos.imagen} />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={productos.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<div className=\" my-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promocion individual por producto\"\r\n\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{content === false ? (\r\n\t\t\t\t\t\t<h3>Selecciona un productos que quieres aplicarle una promoción</h3>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<List className=\"shadow contenedor-articulo-detalles\">\r\n\t\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"list-item-producto\"\r\n\t\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{producto.nombre}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{promocion.length !== 0 || disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{inputValue}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\t//tooltipVisible\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.precio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={subirPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar promoción\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"row d-none\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\t\t\tSube una imagen para la promoción, esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\t\t\tpromociones\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 1710x330px\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Upload {...propsUpload} className=\"d-flex justify-content-center mt-3 mr-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabled}>Subir</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t{imagen.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm border\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default RegistrarPromocion;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { Button, Input, Space, Upload, Spin, notification, Form, Col, Slider, List, Alert } from 'antd';\r\nimport { IdProductoContext } from '../../../contexts/ProductoContext';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst ActualizarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(false);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(reload){\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t}\r\n\t\t\tobtenerPromocion();\r\n\t\t},\r\n\t\t[ productoContext, reload ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCampo(promocion.precioPromocion);\r\n\t\t},\r\n\t\t[ promocion ]\r\n\t);\r\n\r\n\tconst antDprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\tconst antDpropsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tactualizarImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e >= producto.precio || e <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promocion/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.productoPromocion);\r\n\t\t\t\tsetPromocion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({ precio: res.data.precioPromocion });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarImagen = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/EliminarImagen/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div className=\"col-lg-8 col-12\">\r\n\t\t\t\t\t<List className=\"shadow\">\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h2>{producto.nombre}</h2>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">{inputValue}%OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">${formatoMexico(producto.precio)}</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-2\">\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\ttooltipVisible\r\n\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nuevo precio\"\r\n\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => obtenerCampo(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={actualizarPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-none\">\r\n\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\tActualizar imagen de promoción, recuerda que esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\tpromociónes\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Space className=\"mt-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDprops}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Subir imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDpropsActualizar}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Actualizar imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\teliminarImagen();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tQuitar imagen\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm mt-2\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<div>Sube una imagen</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws+promocion.imagenPromocion}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default ActualizarPromocion;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Button, Row, Input, Drawer, Space, Modal, notification, List, Result, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport RegistrarPromocion from './services/registrar_promocion';\r\nimport ActualizarPromocion from './services/actualizar_promocion';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport '../promociones.scss';\r\nimport '../registrar_promocion.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction PromocionesNormales(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\treturn producto.productoPromocion.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function eliminarPromocion(idProducto) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/${idProducto}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerProductos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(productoID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocion(productoID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tEditar\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t<p className=\"h4 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t$ {formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"h4 precio-rebaja d-inline mr-2\">$ {formatoMexico(productos.precioPromocion)}</p>\r\n\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<Row justify=\"center mt-2\">\r\n\t\t\t\t\t<Search\r\n\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center mb-3\"\r\n\t\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCrear nueva promocion\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{productos.length === 0 || productosFiltrados.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={accion === true ? 'Actualizar promoción' : 'Registrar nueva promoción'}\r\n\t\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\t\tplacement={'right'}\r\n\t\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tbodyStyle={{ paddingBottom: 30 }}\r\n\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={drawnerClose} >\r\n\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<ActualizarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<RegistrarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(PromocionesNormales);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport {\r\n\tDrawer,\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tTable,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip,\r\n\tTag\r\n} from 'antd';\r\nimport { ClearOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\n\r\nexport default function RegistroPromocionMasiva(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reloadData, setReloadData ] = useState(true);\r\n\tconst [ dataPromocion, setDataPromocion ] = useState([]);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst [ actualizar, setActualizar ] = props.actualizar;\r\n\tconst { promoMasiva } = props;\r\n/* \tconst [ checkall, setCheckAll ] = useState(false); */\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t};\r\n\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\tlimpiar();\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetReloadData(!reloadData);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetInputValue(0);\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t\tsetReloadData(!reloadData);\r\n\t\tsetActualizar(false);\r\n\t};\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/sinPaginacion`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => setInputValue(value);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetReloadData(!reloadData);\r\n\t\t} else {\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\r\n\t\t\t\tif(actualizar){\r\n\t\t\t\t\tconst checks = [];\r\n\t\t\t\t\tconst data = [];\r\n\t\t\t\t\tconst listaBD = [];\r\n\t\t\t\t\tres.data.posts.forEach((res) => {\r\n\t\t\t\t\t\tpromoMasiva.forEach((promo) => {\r\n\t\t\t\t\t\t\tif(res._id === promo.productoPromocion._id){\r\n\t\t\t\t\t\t\t\tchecks.push(res._id)\r\n\t\t\t\t\t\t\t\tdata.push(res);\r\n\t\t\t\t\t\t\t\tlistaBD.push({ idProducto: res._id })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetSelectedRowKeys(checks);\r\n\t\t\t\t\tsetDataPromocion(data); \r\n\t\t\t\t\tsetPromocionMasiva(listaBD);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlimpiarChecks()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.forEach((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\t/* Checklist */\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Imagen',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\trender: (imagen) => <Avatar src={aws + imagen} />\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Promoción',\r\n\t\t\tdataIndex: 'promocion',\r\n\t\t\trender: (promocion) =>\r\n\t\t\t\tpromocion && promocion.length !== 0 ? <Tag color=\"green\">activa</Tag> : <div className=\"d-none\" />\r\n\t\t}\r\n\t];\r\n\tconst [ promocionMasiva, setPromocionMasiva ] = useState([]);\r\n\tconst [ selectedRowKeys, setSelectedRowKeys ] = useState([]);\r\n\tconst hasSelected = selectedRowKeys.length > 0;\r\n\r\n\tconst onSelectChange = (selectedRowKeys) => {\r\n\t\tsetSelectedRowKeys(selectedRowKeys);\r\n\t\tconst listaIDs = selectedRowKeys.map((res) => {\r\n\t\t\treturn { idProducto: res };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t};\r\n\r\n\tconst rowSelection = {\r\n\t\tselectedRowKeys,\r\n\t\tonChange: onSelectChange,\r\n\t\tgetCheckboxProps: (producto) => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled:\r\n\t\t\t\t\t\tproducto.promocion &&\r\n\t\t\t\t\t\tproducto.promocion.length !== 0 &&\r\n\t\t\t\t\t\tproducto.promocion[0].idPromocionMasiva !== promoMasiva[0].idPromocionMasiva, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: producto.promocion && producto.promocion.length !== 0, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelect: (record, selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t},\r\n\t\tonSelectAll: (selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t}\r\n\t};\r\n\t/* Checklist fin */\r\n\r\n\t/* Actualizar datos */\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\tcheckearChecks();\r\n\t\t\t}\r\n\t\t\tif(visible){\r\n\t\t\t\tshowDrawer();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ actualizar, promoMasiva ]\r\n\t);\r\n\r\n\tconst limpiarChecks = () => {\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t}\r\n\r\n\tconst checkearChecks = () => {\r\n\t\tsetInputValue(parseInt(promoMasiva[0].porsentajePromocionMasiva));\r\n\t\tconst listaPromosActuales = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion._id;\r\n\t\t});\r\n\t\tsetSelectedRowKeys(listaPromosActuales);\r\n\r\n\t\tconst listaIDs = promoMasiva.map((res) => {\r\n\t\t\treturn { idProducto: res.productoPromocion._id };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t\tconst listaPromosData = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion;\r\n\t\t});\r\n\t\tsetDataPromocion(listaPromosData);\r\n\t};\r\n\t/* Actualizar datos */\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tconst listaPromociones = {\r\n\t\t\tproductos: promocionMasiva,\r\n\t\t\tdescuento: inputValue\r\n\t\t};\r\n\t\tsetLoading(true);\r\n\t\tif (actualizar) {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/promocion/masiva/${promoMasiva[0].idPromocionMasiva}`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/promocion/masiva/`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<PlusOutlined /> Nueva promoción masiva\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Crear promoción masiva\"\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={onClose} style={{ marginRight: 8 }}>\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tdisabled={inputValue > 0 && selectedRowKeys.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\tonClick={subirPromocion}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tGuardar promoción masiva\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<div className=\"row d-flex\">\r\n\t\t\t\t\t\t<div className=\"order-1 order-lg-0  col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\" mt-2 row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t\t\t<ClearOutlined\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={limpiarFiltros}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"tabla-promociones\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{hasSelected ? `Selected ${selectedRowKeys.length} items` : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\t\t\t\t\t\t\t\trowSelection={rowSelection}\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"order-0 order-lg-1 col-12 col-lg-6\">\r\n\t\t\t\t\t\t\t<div className=\" mt-2 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promociones masivas, por categoria elegida\"\r\n\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center my-3\">\r\n\t\t\t\t\t\t\t\t\t{dataPromocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dataPromocion.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<h3>Selecciona los productos que quieres aplicarles una promoción</h3>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box porcentaje-descuento d-inline text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 25 }}> {inputValue} %OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Drawer>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Space, Button, Avatar, notification, Spin, Modal, List } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\nimport RegistroPromocionMasiva from './registrar_promocion_masiva';\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst PromoMasivaPrincipal = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ promo, setPromo ] = useState([]);\r\n\r\n\tconst obtenerPromosMasivas = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/promocion/masiva')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarPromocionMasiva = async (idPromoMasiva) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`promocion/masiva/${idPromoMasiva}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idPromoMasiva) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocionMasiva(idPromoMasiva);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst actualizarActive = (promo) => {\r\n\t\tsetActualizar(true);\r\n\t\tsetPromo(promo);\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPromosMasivas();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<RegistroPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\tvisible={[ visible, setVisible ]}\r\n\t\t\t\tpromoMasiva={promo}\r\n\t\t\t\tactualizar={[ actualizar, setActualizar ]}\r\n\t\t\t/>\r\n\t\t\t{/* <ActualizarPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\t\r\n\t\t\t/> */}\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => actualizarActive(item.productosPromoMasiva)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirm(item.productosPromoMasiva[0].idPromocionMasiva);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item.productosPromoMasiva.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.productoPromocion.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h3 style={{ color: '#22BB33' }}>{`${item.productosPromoMasiva[0]\r\n\t\t\t\t\t\t\t\t\t\t\t.porsentajePromocionMasiva}%`}</h3>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={<h4>De descuento</h4>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PromoMasivaPrincipal;\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport PromocionesNormales from './promos_normales/promociones';\r\nimport PromoMasivaPrincipal from './promos_masivas/promo_masiva';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Promociones() {\r\n\treturn (\r\n\t\t<div className=\"card-container\">\r\n\t\t\t<div className=\"mb-4\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    SISTEMA DE PROMOCIONES\r\n                </p>\r\n                <p className=\"text-center\" style={{ fontSize: 15 }}>\r\n                    En este apartado puedes agregar ofertas especiales a tu producto y aparecer en la página principal\r\n                </p>\r\n            </div>\r\n\t\t\t<Tabs centered>\r\n\t\t\t\t<TabPane tab=\"Promociones individuales\" key=\"1\">\r\n\t\t\t\t\t<PromocionesNormales />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t<TabPane tab=\"Promociones masivas\" key=\"2\">\r\n\t\t\t\t\t<PromoMasivaPrincipal />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t{/* <TabPane tab=\"Promociones unitarias\" key=\"3\">\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t</TabPane> */}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nimport './MostrarDatosTargeta.scss';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nexport default function MostrarDatosTargeta(props) {\r\n\tconst { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n\t\t\t<Card\r\n\t\t\t\tclassName=\"shadow-sm card-body-apartados\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDetalle del pedido\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n\t\t\t\t\t\t<DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tclassName=\"contenedor-card-apartados\"\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado._id}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">\r\n\t\t\t\t\t\t\t\t\t{`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Producto:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.producto[0].nombre}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</Col>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Badge,Select,Form, Button,Spin,notification,Typography,Tag,Input,Card, Divider} from 'antd'\r\nimport './DetalleApartado.scss';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { TextArea } = Input;\r\nconst { Text } = Typography;\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\n\r\nexport default function DetalleApartado(props) {\r\n\r\n    const {detalleApartado,setEstado, setVisible} = props;\r\n    const [selectEstado, setSelectEstado] = useState('')\r\n    const [promocion, setpromocion] = useState([])\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ datosEnvio, setdatosEnvio ] = useState();\r\n\r\n    const [ form ] = Form.useForm();\r\n\r\n    const token = localStorage.getItem('token');\r\n\r\n    let multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto,index) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} index={index} />;\r\n                }\r\n                return (<div />);\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n    }\r\n\r\n    function obtenerApartado(){\r\n        clienteAxios.get(`/apartado/${detalleApartado._id}`,{\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n        .then((res) => {\r\n\t\t\tsetLoading(false);\r\n            setpromocion(res.data.promocion)\r\n        }).catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        monstrarInformacionBlog({\r\n            mensajeUser:detalleApartado.mensajeUser,\r\n            paqueteria:detalleApartado.paqueteria,\r\n            url:detalleApartado.url,\r\n            codigo_seguimiento:detalleApartado.codigo_seguimiento,\r\n        })\r\n        obtenerApartado()\r\n        setSelectEstado(detalleApartado.estado)\r\n        setLoading(true)\r\n    }, [detalleApartado])\r\n\r\n\r\n    const handleonChange = (e) => {\r\n        setSelectEstado(e)\r\n    }\r\n\r\n    const monstrarInformacionBlog = (e) => {\r\n        form.setFieldsValue(e);\r\n     }\r\n\r\n\r\n\r\n    const guardarEstadoApartado = async () => {\r\n        let data = {};\r\n        if(selectEstado === \"ENVIADO\"){\r\n            data = {\r\n                estado: selectEstado,\r\n                codigo_seguimiento: datosEnvio.codigo_seguimiento,\r\n                mensajeUser: datosEnvio.mensajeUser,\r\n                paqueteria: datosEnvio.paqueteria,\r\n                url: datosEnvio.url,\r\n            }\r\n        }else{\r\n            data = {\r\n                estado: selectEstado,\r\n            }\r\n        }\r\n\r\n        setLoading(true)\r\n        await clienteAxios.put(`/apartado/${detalleApartado._id}`,data,{\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setEstado(true)\r\n            setLoading(false)\r\n            notification.success({\r\n                message: 'Hecho!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            });\r\n            setVisible(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className =\"detalle-apartado\">\r\n                <div>\r\n                    <Divider orientation=\"left\">Datos del cliente</Divider>\r\n                   {/*  <p className=\"h4 font-weight-bold mb-4\">Datos Usuario</p> */}\r\n                    <div className=\"row detalle-apartados\">\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Nombre: </h6>\r\n                            <p>{detalleApartado.cliente[0].nombre}</p>\r\n                            <h6 className=\"d-inline\">Teléfono: </h6>\r\n                            <p>{detalleApartado.cliente[0].telefono}</p>\r\n                            <h6 className=\"d-inline\">Calle: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].calle_numero}</p>}\r\n\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Entre las calles: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].entre_calles}</p>}\r\n                            <h6 className=\"d-inline\">Código Postal: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].cp}</p>}\r\n                            <h6 className=\"d-inline\">Colonia: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].colonia}</p>}\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Ciudad: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].ciudad}</p>}\r\n                            <h6 className=\"d-inline\">Estado: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].estado}</p>}\r\n                            <h6 className=\"d-inline\">País: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].pais}</p>}\r\n                        </div>\r\n                    </div>\r\n                    <Divider orientation=\"left\">Datos del producto</Divider>\r\n                    <div className=\"detalle-apartado__border m-2 mb-5\">\r\n                        {/* <p className=\"h4 font-weight-bold\">Datos producto</p> */}\r\n                        {detalleApartado.apartadoMultiple.length !== 0 ? (\r\n                            <div>\r\n                                <div className=\"row\">\r\n                                    {multiple}\r\n                                </div>\r\n                                <div className=\"mt-5\">\r\n                                    <h6 className=\"d-inline\" style={{fontSize: 24}}>Total:</h6>\r\n                                    <p className=\" data-info-pedidos\" style={{fontSize: 24}}>$ {formatoMexico(detalleApartado.total)}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                        ):(\r\n                        <div className=\"\">\r\n                            <div className=\"DetalleApartdado-imagen\">\r\n                                <img\r\n                                    className=\"img-fluid\"\r\n                                    width=\"200\"\r\n                                    alt=\"imagen de base\"\r\n                                    src={aws+detalleApartado.producto[0].imagen}\r\n                                />\r\n                            </div>\r\n                            <h6 className=\" m-2\">Nombre: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.producto[0].nombre}</p>\r\n                            <h6 className=\" m-2\">Código de barras: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].codigo}</p>}\r\n                            <h6 className=\" m-2\">Categoría: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].categoria}</p>}\r\n                            {promocion.length > 0 ? (\r\n                                <div className=\"\">\r\n                                    <h6 className=\"\">Precio:</h6>\r\n                                    <Text className=\"h4 color-precio-apartado\" delete >$ {formatoMexico(detalleApartado.producto[0].precio)}</Text> \r\n                                    <p className=\"h4\">$ {formatoMexico(promocion[0].precioPromocion)}</p>\r\n                                </div>\r\n                            ):(<p className=\" m-2\">$ {formatoMexico(detalleApartado.producto[0].precio)}</p>)}\r\n                                                        <div>\r\n                                {/* <Divider orientation=\"left\">Estatus del pedido</Divider> */}\r\n                                <h6 className=\" m-2\">{detalleApartado.producto[0].categoria === 'calzado' ? 'Numero a apartar:': detalleApartado.producto[0].categoria === 'ropa' ? 'Talla a apartar' : '' }</h6>\r\n                                    {detalleApartado.producto[0].categoria === 'calzado' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                                <p \r\n                                                    className=\"detalle-contenido-talla m-2\"\r\n                                                style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                                >\r\n                                                    {detalleApartado.medida[0].numero}\r\n                                                </p>\r\n                                            </Badge>  \r\n                                    ): detalleApartado.producto[0].categoria === 'ropa' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                            <p \r\n                                                className=\"detalle-contenido-talla m-2\"\r\n                                            style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                            >\r\n                                                {detalleApartado.medida[0].talla}\r\n                                            </p>\r\n                                        </Badge>\r\n                                    ) : '' }\r\n                            </div>\r\n                        </div>\r\n                        )}\r\n                    </div>\r\n                    <Divider>Estatus del pedido</Divider>\r\n                    <div className=\"m-2\">\r\n                        <div>\r\n                           {/*  <h6 className=\" m-2\">Cantidad de artículos por apartar: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cantidad}</p> */}\r\n\r\n                            <h6 className=\" m-2\">Tipo de entrega:</h6>\r\n                            <Tag\r\n                                style={{size:\"50px\",marginBottom: 10}}\r\n                                color={detalleApartado.tipoEntrega === 'ENVIO' ?  '#5cb85c' : '#0275d8'}\r\n                            >\r\n                                {detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                            </Tag>\r\n                            <p></p>\r\n\r\n                            <h6 className=\" m-2\">Actualiza el estado del pedido:</h6>\r\n                            <Form \r\n                                onFinish={guardarEstadoApartado}\r\n                                form={form}\r\n                            >\r\n                            <Form.Item>\r\n                                <Select value={selectEstado} placeholder=\"Seleciona una categoria\" onChange={handleonChange} style={{ width: 300 }}>\r\n                                    <Option value=\"PROCESANDO\">En proceso</Option>\r\n                                    {detalleApartado.tipoEntrega === \"ENVIO\" ? (\r\n                                        <>\r\n                                            <Option value=\"ENVIADO\">Enviado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"CANCELADO\">Cancelado</Option>\r\n                                        </>\r\n\r\n                                    ):(\r\n                                        <>\r\n                                            <Option value=\"ACEPTADO\">Aceptado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"RECHAZADO\">Rechazado</Option>\r\n                                        </>\r\n\r\n                                    )}\r\n\r\n                                </Select>\r\n                            </Form.Item>\r\n                            {selectEstado === 'ENVIADO' ? detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-8\">\r\n                                        <h6>Mensaje:</h6>\r\n                                        <Form.Item  name=\"mensajeUser\">\r\n                                            <TextArea rows={4} name=\"mensajeUser\" onChange={e => setdatosEnvio({ ...datosEnvio, mensajeUser: e.target.value })} />\r\n                                        </Form.Item>\r\n                                        <h6>Paquetería:</h6>\r\n                                        <Form.Item  name=\"paqueteria\">\r\n                                            <Input   name=\"paqueteria\" placeholder=\"Paqueteria\" onChange={e => setdatosEnvio({ ...datosEnvio, paqueteria: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Url de vinculación:</h6>\r\n                                        <Form.Item  name=\"url\">\r\n                                            <Input   name=\"url\" placeholder=\"Url de vinculacion del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, url: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Número de seguimiento:</h6>\r\n                                        <Form.Item  name=\"codigo_seguimiento\">\r\n                                            <Input   name=\"codigo_seguimiento\" placeholder=\"Numero de seguimiento del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, codigo_seguimiento: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                    </div>\r\n                                </div>\r\n                            ) : \"\" : \"\" }\r\n                            <Form.Item wrapperCol={{offset: 10, span: 8}}>\r\n                                 <Button className=\"d-flex justify-content-center align-items-center\" type=\"primary\" htmlType=\"submit\" >\r\n                                    Guardar\r\n                                </Button>\r\n                            </Form.Item>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n\r\nfunction ProductosMultiple({producto,info}){\r\n    return (\r\n        <div className=\"col-12 col-lg-4\">\r\n            <Link to={`/vista_producto/${producto._id}`}>\r\n            <Card\r\n                hoverable\r\n                style={{ width: 250 }}\r\n                cover={\r\n                    <div className=\"contenedor-imagen-detalle-apartado\">\r\n                        <img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n                    </div>\r\n                }\r\n            >\r\n                <Meta\r\n                    title={producto.nombre}\r\n                    description={\r\n                        <div className=\"row\">\r\n                            <h2 className=\"h5 precio-rebaja col-lg-12\">${formatoMexico(info.precio)}</h2>\r\n                            {info.medida ? info.medida.talla ? (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.talla}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.numero}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                                \r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    }\r\n                />\r\n            </Card>\r\n        </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst MostrarDatosMultipleTargeta = (props) => {\r\n    const { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n    \r\n    const deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n    \r\n\treturn (\r\n            <Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n                <Card\r\n                    className=\"shadow-sm card-body-apartados\"\r\n                    actions={[\r\n                        <div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n                            <ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    setDetalleApartado(apartado);\r\n                                    showModal();\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Detalle del pedido\r\n                            </p>\r\n                        </div>,\r\n                        <div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n                            <DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    deleteApartado(apartado._id);\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Eliminar\r\n                            </p>\r\n                        </div>\r\n                    ]}\r\n                >\r\n                    <Meta\r\n                        className=\"contenedor-card-apartados\"\r\n                        description={\r\n                            <div className=\"\">\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n                                    <p className=\"data-info-apartados\">{apartado._id}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n                                    <p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n                                    <p className=\"data-info-apartados\">\r\n                                        {`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={\r\n                                            apartado.estado === 'ACEPTADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'PROCESANDO' ? (\r\n                                                '#ffc401'\r\n                                            ) : apartado.estado === 'ENVIADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'ENTREGADO' ? (\r\n                                                '#5cb85c'\r\n                                            ) : (\r\n                                                '#F75048'\r\n                                            )\r\n                                        }\r\n                                    >\r\n                                        {apartado.estado}\r\n                                    </Tag>\r\n                                </div>\r\n\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n                                    >\r\n                                        {apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                                    </Tag>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n                                    <p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    />\r\n                </Card>\r\n            </Col>\r\n\t);\r\n};\r\n\r\n\r\n\r\nexport default MostrarDatosMultipleTargeta;\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Spin, Result, Row, Modal, Input } from 'antd';\r\nimport queryString from 'query-string';\r\nimport MostrarDatosTargeta from './services/MostrarDatosTargeta';\r\nimport DetalleApartado from './services/DetalleApartado';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport './apartado.scss';\r\nimport MostrarDatosMultiple from './services/MostrarDatosMultiplesTarjeta';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SistemaApartado(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState([]);\r\n\tconst [ apartadoPaginacion, setApartadoPaginacion ] = useState([]);\r\n\r\n\tconst [ filter, setFilter ] = useState('');\r\n\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction obtenerProductosFiltrados(filter) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/filtroCliente/${filter}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerDatos = useCallback(\r\n\t\t(limit, page) => {\r\n\t\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data.posts.docs);\r\n\t\t\t\tsetApartadoPaginacion(res.data.posts);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t[token],\r\n\t)\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos(24, page);\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetEstado(false);\r\n\t\t},\r\n\t\t[ page, filter, estado, obtenerDatos ]\r\n\t);\r\n\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE APARTADO\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Buscar apartados\"\r\n\t\t\t\t\t\t\tonSearch={(value) => {\r\n\t\t\t\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\t\t\t\tobtenerDatos(10, page, filter);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tobtenerProductosFiltrados(value);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t{apartados.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Row gutter={16}>\r\n\t\t\t\t\t\t\t\t{apartados.map((apartado) => apartado.producto ? (\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosMultiple \r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t):(\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosTargeta\r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) )}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tkey=\"detalle\"\r\n\t\t\t\t\twidth={800}\r\n\t\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\t\ttitle=\"Detalles de este pedido\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\tfooter={[ '' ]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DetalleApartado\r\n\t\t\t\t\t\tdetalleApartado={detalleApartado}\r\n\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\tsetFilter={setFilter}\r\n\t\t\t\t\t\tsetVisible={setVisible}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Pagination blogs={apartadoPaginacion} location={location} history={history} limite={24} />\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(SistemaApartado);\r\n","import React, { useState } from 'react';\r\nimport { Button, notification, Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport * as XLSX from 'xlsx';\r\nimport clienteAxios from '../config/axios';\r\n\r\nexport default function GetDataFromExcelJusTInput(props) {\r\n\tconst [ hojas, setHojas ] = useState([]);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ uploading, setUploading ] = useState(false);\r\n\r\n\tconst propsUlpload = {\r\n\t\tmultiple: false,\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel' ||\r\n\t\t\t\tfile.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' ||\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel.sheet.macroEnabled.12' \r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}else {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Solo se admiten archivos csv',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonChange({ file, fileList }) {\r\n\t\t\tsetFileList(fileList);\r\n\t\t\tlet hojas = [];\r\n\t\t\tif (!file.status ) {\r\n\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\treader.readAsArrayBuffer(file);\r\n\t\t\t\treader.onloadend = (e) => {\r\n\t\t\t\t\tvar data = new Uint8Array(e.target.result);\r\n\t\t\t\t\tvar workbook = XLSX.read(data, { type: 'array' });\r\n\r\n\t\t\t\t\tworkbook.SheetNames.forEach(function(sheetName) {\r\n\t\t\t\t\t\t// Here is your object\r\n\t\t\t\t\t\tvar XL_row_object = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[sheetName]);\r\n\t\t\t\t\t\thojas.push({\r\n\t\t\t\t\t\t\tdata: XL_row_object,\r\n\t\t\t\t\t\t\tsheetName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetHojas(hojas);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tfileList: fileList\r\n\t};\r\n\r\n\tconst enviarDatos = () => {\r\n\t\tsetUploading(true);\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tclienteAxios\r\n\t\t\t.put('/productos/inventario/excel/', hojas[0], {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tsetHojas([]);\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Registros actualizados',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'hubo un error al cargar el archivo',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ml-2 mb-3 d-flex\">\r\n\t\t\t<Upload {...propsUlpload} className=\"d-inline-flex mx-3\">\r\n\t\t\t\t<Button size=\"large\" icon={<UploadOutlined />} disabled={fileList.length >= 1}>\r\n\t\t\t\t\tCargar csv\r\n\t\t\t\t</Button>\r\n\t\t\t</Upload>\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"d-inline-flex\"\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tonClick={enviarDatos}\r\n\t\t\t\tdisabled={fileList.length === 0}\r\n\t\t\t\tloading={uploading}\r\n\t\t\t>\r\n\t\t\t\t{uploading ? 'Cargando...' : 'Cargar archivo'}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioOtros(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idSeleccionado, setIdSeleccionado ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetIdSeleccionado(producto);\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdSeleccionado('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Cantidad',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: 'cantidad',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (text) =>\r\n\t\t\t\ttext === null ? (\r\n\t\t\t\t\t<p>-</p>\r\n\t\t\t\t) : text === 0 ? (\r\n\t\t\t\t\t<Badge count={text} showZero />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Badge style={{ backgroundColor: '#52c41a' }} count={text} overflowCount={100000} />\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 230,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form key={producto._id} className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idSeleccionado ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tid={producto._id}\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioOtros);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioTallas(props) {\r\n\tconst { location, history, productos, productosRender, reload, setReload, loading, setLoading, token, limite } = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idTallaSeleccionada, setIdTallaSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ talla, setTalla ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerTallas = (producto, talla) => {\r\n\t\tsetTalla(talla);\r\n\t\tsetIdTallaSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: talla._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTalla([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdTallaSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Talla y Cantidad',\r\n\t\t\tdataIndex: 'tallas',\r\n\t\t\tkey: 'tallas',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (tallas, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!tallas.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\ttallas.map((tallas) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\ttallas.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={talla._id === tallas._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerTallas(producto._id, tallas)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idTallaSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioTallas);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioNumeros(props) {\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idNumeroSeleccionada, setIdNumeroSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ numero, setNumero ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerNumero = (producto, numero) => {\r\n\t\tsetNumero(numero);\r\n\t\tsetIdNumeroSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: numero._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetNumero([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdNumeroSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Número y Cantidad',\r\n\t\t\tdataIndex: 'numeros',\r\n\t\t\tkey: 'numeros',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (numeros, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!numeros.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnumeros.map((numeros) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\tnumeros.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={numero._id === numeros._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerNumero(producto._id, numeros)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idNumeroSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioNumeros);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Input, notification, Row, Tabs } from 'antd';\r\nimport './inventario.scss';\r\nimport queryString from 'query-string';\r\nimport GetDataFromExcelJusTInput from '../../../components/excel';\r\nimport InventarioOtros from './tablas_inventarios/inventario_otros';\r\nimport InventarioTallas from './tablas_inventarios/inventario_tallas';\r\nimport InventarioNumeros from './tablas_inventarios/inventario_numeros';\r\n\r\nconst { Search } = Input;\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Inventario(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst limite = 20;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\t/* const [ tipoCategoria, setTipoCategoria ] = useState(''); */\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst tipoCategoria = props.match.params.tipoCategoria;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCategorias();\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\tuseEffect(() => {\r\n\t\t/* effect */\r\n\t\treturn () => {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page)\r\n\t\t}\r\n\t}, [page, reload, props])\r\n\r\n\t/* useEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page)\r\n\t\t},\r\n\t\t[ page, reload, props ]\r\n\t);\r\n */\r\n\tconst obtenerCategorias = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/tipoCategorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(res.data.length !== 0){\r\n\t\t\t\t\tsetCategorias(res.data);\r\n\t\t\t\t\t/* obtenerProductos(res.data[0]._id, limite, page);  */ \r\n\t\t\t\t\t/* setTipoCategoria(res.data[0]._id); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${res.data[0]._id}`);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page);\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst otros = res.data.posts.filter((element) => element.tipoCategoria === tipoCategoria);\r\n\t\t\t\t\tsetProductosRender(otros);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (tipoCategoria, limit, page) => {\r\n\t\t/* setTipoCategoria(tipoCategoria); */\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter/individuales?tipoCategoria=${tipoCategoria}&limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction error(err) {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst tabs = categorias.map((categorias) => {\r\n\t\tif (categorias._id === 'Otros') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioOtros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Ropa') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario tallas\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioTallas\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Calzado') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario calzado\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioNumeros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (<div/>)\r\n\t});\r\n\r\n\tconst searchBar = (\r\n\t\t<div className=\"row mw-100 search-container\">\r\n\t\t\t<Search\r\n\t\t\t\tclassName=\"col-lg-7 search-width px-0\"\r\n\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\tstyle={{ height: 40, marginBottom: 10, width: 400 }}\r\n\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"col-lg-5 pl-0 pr-4\">\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Row justify=\"center\" className=\"search-container-responsive\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</Row>\r\n\t\t\t<Tabs\r\n\t\t\t\ttabBarExtraContent={searchBar}\r\n\t\t\t\tonChange={(tipoCategoria) => {\r\n\t\t\t\t\t/* obtenerProductos(tipoCategoria, limite, page); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${tipoCategoria}`)\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{tabs}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Inventario);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Space, notification, Modal, List, Avatar, Card, Result, Empty, Spin } from 'antd';\r\nimport { ExclamationCircleOutlined, RollbackOutlined, CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './sugerencia.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\t//states de obtener producto\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//states de obtener productos sugeridos de base, crear producto sugerido y para mapear el producto sugerido\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ productoSugerido, setProductoSugerido ] = useState([]);\r\n\t//modal para crear un producto sugerido\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\t///state para saber si va a actualizar o registrar\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProducto();\r\n\t\t\tobtenerSugerencia();\r\n\t\t},\r\n\t\t[ productoContext ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst obtenerProducto = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((item) => setSugerencia(item.producto));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///// CREAR, ACTUALIZAR Y ELIMINAR SUGERENCIAS DE LA BASE DE DATOS\r\n\tconst crearSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/sugerencia/nueva/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/sugerencia/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/sugerencia/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///MODAL ALERTA ELIMINAR\r\n\tfunction showDeleteConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de eliminar esta sugerencia?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarSugerencia();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t/////MODAL\r\n\tconst showModal = (accion) => {\r\n\t\tif (accion === 'actualizar') {\r\n\t\t\tsetModalVisible(true);\r\n\t\t\tsetActualizar(true);\r\n\t\t} else {\r\n\t\t\tsetModalVisible(true);\r\n\t\t}\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetModalVisible(false);\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t\tsetProductoSugerido([]);\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tclassName={productoSugerido._id === productos._id ? 'list-item-sugerencia' : ''}\r\n\t\t\tkey={productos._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProductoSugerido(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAgregar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Modal\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tstyle={{ top: 30 }}\r\n\t\t\t\ttitle=\"Sugerencias de producto\"\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button danger key=\"back\" onClick={handleCancel}>\r\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t<CloseOutlined className=\"mr-1\" />Cerrar\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t\tactualizar === false ? (\r\n\t\t\t\t\t\t<Button key=\"crear\" type=\"primary\" onClick={crearSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Crear\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Button key=\"actualizar\" type=\"primary\" onClick={actualizarSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Actualizar\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto que quieres sugerir.</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t\t<div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 18 }}>\r\n\t\t\t\t\t\t¡Que esperas, crea una sugerencia ahora mismo!.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\tCrea sugerencias de productos para tu tienda.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\t\t\tEstas sugerencias aparecerán en la vista del producto.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Button onClick={showModal}>Crear sugerencia</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tshowModal('actualizar');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEditar sugerencia\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={showDeleteConfirm}>Quitar sugerencia</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"d-lg-flex d-sm-block justify-content-center align-items-center mt-4\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta title={producto.nombre} />\r\n\t\t\t\t</Card>\r\n\t\t\t\t<div className=\"contenedor-span d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<span>+</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<Empty description=\"No hay sugerencia\" />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto sugerido\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws + sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta title={sugerencia.nombre} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default Sugerencia;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Row, Input, Button, Drawer, notification, Space, List, Result, Spin } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport Sugerencia from './services/sugerencia';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './sugerencias.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Sugerencias(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ visibleReload, setVisibleReload ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t}\r\n\tfunction drawnerOpen() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleReload('d-none');\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t} else {\r\n\t\t\tsetVisibleReload('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetVisibleReload('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center mt-3\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdrawnerOpen();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tVer / Crear Sugerencia\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.nombre}</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPRODUCTOS SUGERIDOS\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes agregar sugerencias de compra de otro producto a un producto\r\n\t\t\t</p>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visibleReload}\r\n\t\t\t\t\tonClick={() => obtenerProductos(20, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} limite={20} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={'Sugerencias'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Button onClick={drawnerClose}>Cancelar</Button>\r\n\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t<Sugerencia drawnerClose={drawnerClose}/>\r\n\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t</Drawer>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Sugerencias);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, List, Avatar, Input, Space, Result, notification, Spin, Alert, Form } from 'antd';\r\nimport { UploadOutlined, PictureOutlined, RollbackOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './carousel.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst layout = {\r\n\tlabelCol: { span: 10 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction CarouselImages(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ imagen, setImagen ] = useState();\r\n\tconst [ imagenPreview, setImagenPreview ] = useState('');\r\n\t//states de obtener producto y obtener todos los productos\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//modal para crear una imagen de carousel\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ nombreImagen, setNombreImagen ] = useState('');\r\n\r\n\tconst reload = props.reload;\r\n\r\n\tconst formData = new FormData();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetImagenPreview('');\r\n\t\t\t}\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData, reload ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tclienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst antdProps = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tsetImagen(file);\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = function() {\r\n\t\t\t\tsetImagenPreview(reader.result);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerNombreImagen = (e) => {\r\n\t\tsetNombreImagen(e.target.value);\r\n\t};\r\n\r\n\tconst crearCarousel = async () => {\r\n\t\tsetLoading(true);\r\n\t\tif (producto.length !== 0) {\r\n\t\t\tformData.append('producto', producto._id);\r\n\t\t\tformData.append('nombre', producto.nombre);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t} else {\r\n\t\t\tformData.append('nombre', nombreImagen);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t}\r\n\t\tif (producto.length === 0 && nombreImagen === '') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: 'El nombre de la imagen no debe ir vacío',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetLoading(false);\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/carousel/nuevo/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName={producto._id === productos._id ? 'list-item-carousel' : ''}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tSeleccionar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Puedes subir una imagen de carousel ya sea que esta tenga referencia a un producto o no. Si hace referencia a un producto selecciona uno de la lista, si no hace referencia, la imagen debe llevar un nombre.\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row d-sm-block d-lg-flex\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto y después una imagen</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center mt-1\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-width-modal\"\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t{!producto.nombre ? (\r\n\t\t\t\t\t\t<Form {...layout}>\r\n\t\t\t\t\t\t\t<Form.Item label=\"Nombre de la imagen\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"nombreImagen\"\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'El nombre de la imagen no puede ir vacío' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"nombre de la imagen\" onChange={(e) => obtenerNombreImagen(e)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h5>{producto.nombre}</h5>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center my-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Upload {...antdProps} className=\"upload-text-display\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" /* disabled={producto.length !== 0 ? false : true} */>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined />Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcrearCarousel();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={imagenPreview !== '' ? false : true}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCrear\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"shadow imagen-preview-carousel d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{imagenPreview === '' ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen\"\r\n\t\t\t\t\t\t\t\tsrc={imagenPreview}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default CarouselImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Input, Space, Modal, List, Row, Upload, Result, notification, Spin, Alert } from 'antd';\r\nimport {\r\n\tEyeOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport CarouselImages from './services/carousel';\r\nimport './carousel.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction Carousel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t/* const [ productoCarousel, setProductoCarousel ] = useState([]); */\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ modalCrearVisible, setModalCrearVisible ] = useState(false);\r\n\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCarouseles();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\tif (producto.nombre) {\r\n\t\t\t\t\t\treturn producto.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn producto;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerCarouseles = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carousel/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\t/* res.data.forEach((item) => {\r\n\t\t\t\t\tif(item.producto){\r\n\t\t\t\t\t\tsetProductoCarousel(item.producto)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsetProductoCarousel('')\r\n\t\t\t\t\t}\r\n\t\t\t\t}); */\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ACTUALIZAR IMAGEN\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarImagen(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/carousel/${producto}/`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR IMAGEN\r\n\tconst eliminarImagen = async (carouselID) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/carousel/${carouselID}/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst showModal = () => {\r\n\t\tsetModalVisible(true);\r\n\t};\r\n\tconst closeModal = () => {\r\n\t\tsetModalVisible(false);\r\n\t};\r\n\r\n\tfunction closeModalCrear() {\r\n\t\tsetModalCrearVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction showModalCrear() {\r\n\t\tsetModalCrearVisible(true);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(carouselID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminarla?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarImagen(carouselID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((carousel) => (\r\n\t\t<List.Item\r\n\t\t\tkey={carousel._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetProducto(carousel);\r\n\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EyeOutlined />\r\n\t\t\t\t\t\tVer\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Upload {...propsActualizar} className=\"upload-text-display d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetProducto(carousel._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(carousel._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + carousel.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\t{carousel.nombre ? carousel.nombre : 'imagen sin nombre'}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tBanner principal\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn esta sección puedes subir una imagen al banner en la pagina principal.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showModalCrear}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tNueva imagen de publicidad\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productosFiltrados.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<List>{render}</List>\r\n\t\t\t)}\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={producto.nombre ? producto.nombre : 'Imagen sin nombre'}\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tonCancel={closeModal}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\twidth={1200}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\talt=\"imagen-promocion-modal\"\r\n\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Crear nueva imagen publicitaria para el Carousel\"\r\n\t\t\t\tvisible={modalCrearVisible}\r\n\t\t\t\tonCancel={closeModalCrear}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\tcentered\r\n\t\t\t\twidth={800}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<CarouselImages reload={reload} />\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Carousel);\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Alert, Form, Modal, Select, Checkbox, message } from 'antd';\r\nimport { PlusOutlined, PlusCircleOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 16 }\r\n};\r\nconst { Option } = Select;\r\nconst { confirm } = Modal;\r\n\r\nfunction getBase64(file) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onload = () => resolve(reader.result);\r\n\t\treader.onerror = (error) => reject(error);\r\n\t});\r\n}\r\n\r\nfunction RegistroPublicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\tconst { bannerSeleccionado } = props;\r\n\tconst [ control, setControl ] = props.control;\r\n\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState('');\r\n\tconst [ vincular, setVincular ] = useState(false);\r\n\tconst [ mostrarProductos, setMostrarProductos ] = useState(false);\r\n\tconst [ mostrarTitulo, setMostrarTitulo ] = useState(false);\r\n\tconst [ disabledCheck, setDisabledCheck ] = useState(true);\r\n\r\n\t/* UPLOAD ANTD */\r\n\tconst [ visible, setVisible ] = props.modalVisible;\r\n\tconst [ previewVisible, setPreviewVisible ] = useState(false);\r\n\tconst [ previewImage, setPreviewImage ] = useState('');\r\n\tconst [ previewTitle, setPreviewTitle ] = useState('');\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState('');\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tconst handleCancel = () => setPreviewVisible(false);\r\n\tconst uploadProps = {\r\n\t\tfileList: fileList,\r\n\t\tlistType: 'picture-card',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg') {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Formato de imagen no válido',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetDisabled(true);\r\n\t\t},\r\n\t\tonChange: ({ fileList, file }) => {\r\n\t\t\tif (fileList.length !== 0) {\r\n\t\t\t\tsetImagen(file);\r\n\t\t\t} else {\r\n\t\t\t\tsetImagen('');\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tform.resetFields([ 'imagen' ]);\r\n\t\t\t}\r\n\t\t\tsetFileList(fileList);\r\n\t\t},\r\n\t\tonRemove: () => {\r\n\t\t\tshowDeleteConfirm();\r\n\t\t},\r\n\t\tonPreview: async (file) => {\r\n\t\t\tif (!file.url && !file.preview) {\r\n\t\t\t\tfile.preview = await getBase64(file.originFileObj);\r\n\t\t\t}\r\n\t\t\tsetPreviewImage(file.url || file.preview);\r\n\t\t\tsetPreviewVisible(true);\r\n\t\t\tsetPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n\t\t}\r\n\t};\r\n\t/* UPLOAD ANTD */\r\n\r\n\tfunction closeModalCrear() {\r\n\t\tsetVisible(false);\r\n\t\tlimpiarCampos();\r\n\t\tsetReload(!reload);\r\n\t}\r\n\tfunction showModalCrear() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetDisabledCheck(false);\r\n\t\tsetCategoria(categoria);\r\n\t};\r\n\tconst onChangeVincular = (e) => setVincular(e.target.checked);\r\n\tconst onChangeMostrar = (e) => setMostrarProductos(e.target.checked);\r\n\tconst onChangeTitulo = (e) => setMostrarTitulo(e.target.checked);\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (!categoria && !imagen) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Selecciona uno',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!imagen && categoria && mostrarProductos === false) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'si una categoria esta seleccionada, \"mostrar productos\" es obligatorio',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\tif (imagen.length !== 0) {\r\n\t\t\t\t\tformData.append('imagen', imagen);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tformData.append('imagenBanner', \"\");\r\n\t\t\t\t}\r\n\t\t\t\tformData.append('categoria', categoria);\r\n\t\t\t\tformData.append('vincularCategoria', vincular);\r\n\t\t\t\tformData.append('mostrarProductos', mostrarProductos);\r\n\t\t\t\tformData.append('mostrarTitulo', mostrarTitulo);\r\n\r\n\t\t\t\tif (control) {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.put(`/banner/${bannerSeleccionado._id}`, formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tcloseModalCrear();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.post('/banner/', formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tcloseModalCrear();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarImagen = async () => {\r\n\t\tawait clienteAxios\r\n\t\t.delete(`/banner/imagen/${bannerSeleccionado._id}`, {\r\n\t\t\theaders: {\r\n\t\t\t\t Authorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tsetLoading(false);\r\n\t\t\tmessage.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tsetLoading(false);\r\n\t\t\terrors(err);\r\n\t\t});\r\n\t}\r\n\tfunction showDeleteConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminar la imagen?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarImagen();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst llenarCampos = useCallback(\r\n\t\t() => {\r\n\t\t\tif (bannerSeleccionado.imagenBanner || bannerSeleccionado.imagenBanner !== '') {\r\n\t\t\t\tsetImagen(bannerSeleccionado.imagenBanner);\r\n\t\t\t\tsetFileList([\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuid: '-1',\r\n\t\t\t\t\t\tname: 'imagen actual',\r\n\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\turl: aws + bannerSeleccionado.imagenBanner\r\n\t\t\t\t\t}\r\n\t\t\t\t]);\r\n\t\t\t} else {\r\n\t\t\t\tsetImagen('');\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t}\r\n\r\n\t\t\tform.setFieldsValue({\r\n\t\t\t\tcategoria: bannerSeleccionado.categoria\r\n\t\t\t});\r\n\t\t\tif (bannerSeleccionado.categoria.length === 0) {\r\n\t\t\t\tform.resetFields([ 'categoria' ]);\r\n\t\t\t} else {\r\n\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\tsetCategoria(bannerSeleccionado.categoria);\r\n\t\t\t}\r\n\t\t\tsetVincular(bannerSeleccionado.vincularCategoria);\r\n\t\t\tsetMostrarProductos(bannerSeleccionado.mostrarProductos);\r\n\t\t\tsetMostrarTitulo(bannerSeleccionado.mostrarTitulo);\r\n\t\t},\r\n\t\t[ form, bannerSeleccionado ]\r\n\t);\r\n\r\n\tconst limpiarCampos = () => {\r\n\t\tsetVincular(false);\r\n\t\tsetMostrarProductos(false);\r\n\t\tsetMostrarTitulo(false);\r\n\t\tsetDisabledCheck(true);\r\n\t\tsetImagen('');\r\n\t\tsetFileList([]);\r\n\t\tsetCategoria('');\r\n\t\tform.resetFields();\r\n\t\tsetControl(false);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCategorias();\r\n\t\t\tif (reload) {\r\n\t\t\t\tlimpiarCampos();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (control) {\r\n\t\t\t\tllenarCampos();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ control, llenarCampos ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={showModalCrear}\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t>\r\n\t\t\t\tNueva imagen de publicidad\r\n\t\t\t</Button>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Crear nueva imagen publicitaria para el Carousel\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={closeModalCrear}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\tcentered\r\n\t\t\t\tforceRender={true}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\tmessage=\"Puedes subir solo una imagen para que aparezca de banner secundario o puedes configurar para que sea una sección completa con productos y redirecciones\"\r\n\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row d-sm-block d-lg-flex\">\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<Form {...layout} form={form} hideRequiredMark onFinish={enviarDatos}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Categoria\" name=\"categoria\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona una categoria\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{categoriasBD.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriasBD.map((categoria) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={categoria.categoria} value={categoria.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{categoria.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Imagen\" name=\"imagen\">\r\n\t\t\t\t\t\t\t\t\t<Upload {...uploadProps}>\r\n\t\t\t\t\t\t\t\t\t\t{fileList.length >= 1 ? null : (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: 8 }}>Upload</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={vincular}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeVincular}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tVincular Categoria\r\n\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={mostrarProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeMostrar}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tMostrar Productos\r\n\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={mostrarTitulo}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeTitulo}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tMostrar Titulo\r\n\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button htmlType=\"submit\" type=\"primary\" disabled={disabled}>\r\n\t\t\t\t\t\t\t\t\t\t\t{control ? 'Actualizar datos' : 'Crear banner'}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Modal\r\n\t\t\t\t\t\tforceRender\r\n\t\t\t\t\t\tvisible={previewVisible}\r\n\t\t\t\t\t\ttitle={previewTitle}\r\n\t\t\t\t\t\tfooter={null}\r\n\t\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default RegistroPublicidad;\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Space, Modal, List, notification, Spin, Checkbox, message, Alert } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n    PictureOutlined,\r\n    ThunderboltOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport RegistroPublicidad from './services/registro_publicidad';\r\nimport aws from '../../../config/aws';\r\nimport './publicidad.scss';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function Publicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ bannerBD, setBannerBD ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ bannerSeleccionado, setBannerSeleccionado ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBannersBD();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerBannersBD = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/banner/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBannerBD(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarChecks = async (e, banner) => {\r\n\t\tconst checkName = e.target.name;\r\n\t\tconst checkValue = e.target.checked;\r\n\t\tswitch (checkName) {\r\n\t\t\tcase 'vinculacion':\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.put(\r\n\t\t\t\t\t\t`/banner/${banner}`,\r\n\t\t\t\t\t\t{ vincularCategoria: checkValue },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tmessage.success('Vinculación actualizada');\r\n\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'mostrarProductos':\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.put(\r\n\t\t\t\t\t\t`/banner/${banner}`,\r\n\t\t\t\t\t\t{ mostrarProductos: checkValue },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tmessage.success('Mostrar productos actualizado');\r\n\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'mostrarTitulo':\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.put(\r\n\t\t\t\t\t\t`/banner/${banner}`,\r\n\t\t\t\t\t\t{ mostrarTitulo: checkValue },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tmessage.success('Mostrar titulo actualizado');\r\n\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t///ELIMINAR BANNER\r\n\tconst eliminarBanner = async (banner) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/banner/${banner}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(banner) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminar este banner?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBanner(banner);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst actualizar = (banner) => {\r\n\t\tsetVisible(true);\r\n\t\tsetControl(true);\r\n\t\tsetBannerSeleccionado(banner);\r\n    };\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst ListaBanners = (props) => {\r\n\t\tconst { banner } = props;\r\n\t\treturn (\r\n\t\t\t<List.Item\r\n\t\t\t\tclassName=\"list-publicidad\"\r\n\t\t\t\tkey={banner._id}\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<Space className=\"list-publicidad-botones\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => actualizar(banner)}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(banner._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\tclassName=\"list-publicidad-meta-container\"\r\n\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2 list-publicidad-imagen-container\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{banner.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws + banner.imagenBanner}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ color: '#CFCFCF', fontSize: 50 }} />\r\n\t\t\t\t\t\t\t\t\t<h6 style={{ color: '#CFCFCF' }}>No hay imagen</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t<div className=\"mt-4 titulo-producto list-publicidad-titulos-container\">\r\n\t\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\t\t{banner.categoria ? banner.categoria : 'Sin categoria'}\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<div className=\"list-publicidad-checks-container\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-inline mr-4\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"d-inline mr-2 checktitle\">Vinculación:</h6>\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"check-check\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={banner.categoria.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\tname=\"vinculacion\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => actualizarChecks(e, banner._id)}\r\n\t\t\t\t\t\t\t\t\t\tchecked={banner.vincularCategoria}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-inline mr-4\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"d-inline mr-2 checktitle\">Mostrar productos:</h6>\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"check-check\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={banner.categoria.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\tname=\"mostrarProductos\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => actualizarChecks(e, banner._id)}\r\n\t\t\t\t\t\t\t\t\t\tchecked={banner.mostrarProductos}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-inline mr-4\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"d-inline mr-2 checktitle\">Mostrar titulo:</h6>\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"check-check\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={banner.categoria.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\tname=\"mostrarTitulo\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => actualizarChecks(e, banner._id)}\r\n\t\t\t\t\t\t\t\t\t\tchecked={banner.mostrarTitulo}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</List.Item>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPublicidad\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes subir una sección completa con un banner y los productos de una categoria en\r\n\t\t\t\tespecial en la pagina principal.\r\n\t\t\t</p>\r\n            <div className=\"d-flex justify-content-center\">\r\n                <Alert showIcon icon={<ThunderboltOutlined style={{fontSize: 20}} />} message=\"¡Puedes editar mas rapido los checkbox con solo hacer clic sobre ellos!\" type=\"info\" />\r\n            </div>\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3\">\r\n\t\t\t\t<RegistroPublicidad\r\n\t\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\t\tmodalVisible={[ visible, setVisible ]}\r\n                    bannerSeleccionado={bannerSeleccionado}\r\n                    control={[ control, setControl ]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<List dataSource={bannerBD} renderItem={(banner) => <ListaBanners banner={banner} />} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { List, Button, Modal, notification, Avatar } from 'antd';\r\nimport { EyeOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './blogList.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function blogList(props) {\r\n\tconst { blogs, setReloadBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst deleteBlog = (blog) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Blog',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el blog ${blog.nombre}?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.delete(`/blog/${blog._id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'aplication/json',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Blog Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"blogs-list\">\r\n\t\t\t<List\r\n\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => (\r\n\t\t\t\t\t<Blog\r\n\t\t\t\t\t\tblog={blog}\r\n\t\t\t\t\t\tdeleteBlog={deleteBlog}\r\n\t\t\t\t\t\tshowDrawer={showDrawer}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t\tsetInfoBlog={setInfoBlog}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog, deleteBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tactions={[\r\n\t\t\t\t<Link to={`/blog/${blog.url}`} target=\"_blank\">\r\n\t\t\t\t\t<Button type=\"dashed\" size={window.screen.width > 768 ? 'middle' : 'small'}>\r\n\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Link>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetInfoBlog(blog);\r\n\t\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t</Button>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tdanger\r\n\t\t\t\t\tonClick={() => deleteBlog(blog)}\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteOutlined /> Eliminar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={<Avatar src={aws + blog.imagen} />}\r\n\t\t\t\ttitle={<p className=\"h5 font-weight-bold\">{blog.nombre}</p>}\r\n\t\t\t\tdescription={<p className=\"h6\">{blog.administrador}</p>}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nexport const BlogContext = createContext();","import React, { useContext, useState, useEffect } from 'react';\r\nimport { BlogContext } from '../../contexts/BlogContext';\r\nimport { Form, Input, Button, notification, Upload, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\n\r\nexport default function ActualizarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\tconst blogContext = useContext(BlogContext);\r\n\tconst [ form ] = Form.useForm();\r\n\tvar urlGuion = '';\r\n\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\t///capturar datos maualmente}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnombre: blogContext.nombre,\r\n\t\tadministrador: blogContext.administrador,\r\n\t\turl: blogContext.url,\r\n\t\tdescripcion: blogContext.descripcion\r\n\t});\r\n\r\n\tconst monstrarInformacionBlog = () => {\r\n\t\tform.setFieldsValue({\r\n\t\t\tnombre: blogContext.nombre,\r\n\t\t\tadministrador: blogContext.administrador,\r\n\t\t\turl: blogContext.url,\r\n\t\t\tdescripcion: blogContext.descripcion\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tmonstrarInformacionBlog();\r\n\t\t},\r\n\t\t[ blogContext ]\r\n\t);\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t\t/* setUrl(urlSinGion); */\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (datos.nombre === '' || datos.administrador === '' || datos.url === '' || datos.descripcion === '') {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'Todos los datos son obligatorios'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(datos.url);\r\n\t\t\t} else {\r\n\t\t\t\turlGuion = blogContext.url;\r\n\t\t\t}\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tif (files.length === 0) {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t} else {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t}\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/blog/${blogContext._id}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t Authorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Actualización exitosa',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerValores = (e) => {\r\n\t\tif (e.target.name === 'url') {\r\n\t\t\tsetAccion(false);\r\n\t\t}\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} form={form} onFinish={enviarDatos}>\r\n\t\t\t\t<Form.Item label=\"Titulo del blog:\" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Autor: \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"administrador\">\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Url (Campo unico) \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\tsrc={aws + blogContext.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Form, Input, Button, notification, Upload, message, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nexport default function RegistrarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\t//Variablo que trae la informacion del post\r\n\tconst [ blogData, setBlogData ] = useState({});\r\n\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\tvar urlGuion = '';\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst processPost = async (e) => {\r\n\t\tif (blogData.descripcion === undefined) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La descripcion del blog es obligatoria'\r\n\t\t\t});\r\n\t\t} else if (files.length === 0) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La imagen es obligatoria'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(blogData.url);\r\n\t\t\t}\r\n\t\t\tconst hide = message.loading('Accion en proceso....', 0);\r\n\t\t\tsetTimeout(hide, 2000);\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('nombre', blogData.nombre);\r\n\t\t\tformData.append('administrador', blogData.administrador);\r\n\t\t\tformData.append('url', urlGuion);\r\n\t\t\tformData.append('descripcion', blogData.descripcion);\r\n\t\t\tformData.append('imagen', files);\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/blog/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t//Funcion que quita los espacios y los remplasa por guiones\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t}\r\n\r\n\t//Funcion que captura la imagen seleccionada por el usuario\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t//Funcion que escucha la variable que trae la informacion del blog\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetBlogData({ ...blogData, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} onFinish={processPost} onFinishFailed={onError}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Crea un título llamativo: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, nombre: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Titulo obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input value={blogData.nombre} name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Autor: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, administrador: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Autor obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"administrador\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Url (Campo unico) \"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetAccion(false);\r\n\t\t\t\t\t\tsetBlogData({ ...blogData, url: e.target.value });\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'La url es obligatoria' } ]} noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tvalue={blogData.descripcion ? blogData.descripcion : ''}\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" size=\"large\" icon={<CheckOutlined />}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, {useState,useEffect } from 'react';\r\nimport {Button,notification,Drawer} from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport {PlusCircleOutlined } from '@ant-design/icons';\r\nimport './blog.scss';\r\nimport queryString from 'query-string';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Spin from '../../../components/Spin';\r\nimport BlogsList from './services/blogList';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport { BlogContext } from '../contexts/BlogContext';\r\nimport ActualizarBlog from './services/ActualizarBlog';\r\nimport RegistrarBlog from './services/RegistrarBlog';\r\n\r\n\r\n\r\n\r\nfunction BlogAdmin(props) {\r\n\r\n    //Tomar la paginacion actual\r\n    const {location,history} = props;\r\n    const {page = 1} = queryString.parse(location.search);\r\n    \r\n    //Uses\r\n    const [ accion, setAccion ] = useState(false);\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [blogs,setBlogs] = useState([]);\r\n    const [reloadBlog, setReloadBlog] = useState(false);\r\n\r\n    const [infoBlog,setInfoBlog] = useState({});\r\n    \r\n\r\n    //Obtener token de localStorage\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n    \r\n    //Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n            return jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\n    //Traer todos los blogs\r\n    function getBlogsApi(limit,page){\r\n        setLoading(true);\r\n        clienteAxios.get(`/blog?limit=${limit}&page=${page}`)\r\n        .then((res) => {\r\n                setBlogs(res.data.posts);\r\n                setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        });\r\n    }\r\n    //Ejecutar funcion traer blogs\r\n    useEffect(() => {\r\n        getBlogsApi(20,page);\r\n        setReloadBlog(false);\r\n\t}, [page,reloadBlog]);\r\n\r\n    //Verificar el JWT\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n    \r\n    //Fuciones para abrir y cerrar el Drawer\r\n    const showDrawer = () => {\r\n      setVisible(true);\r\n    };\r\n    const drawnerClose = () => {\r\n        setVisible(false);\r\n        setInfoBlog({});\r\n      };\r\n\r\n    //Mostrar el Spin\r\n    if (loading) {\r\n        return <Spin/>;\r\n    }\r\n    \r\n    if(!blogs){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n            <div className=\"blog\">\r\n                <Drawer\r\n                    title={accion === true ? 'Actualizar Blog' : 'Registra nuevo Blog'}\r\n                    width={window.screen.width > 768 ? 1000 : window.screen.width}\r\n                    placement={'right'}\r\n                    onClose={drawnerClose}\r\n                    visible={visible}\r\n                    bodyStyle={{ paddingBottom: 80 }}\r\n                    footer={\r\n                        <div\r\n                            style={{\r\n                                textAlign: 'right'\r\n                            }}\r\n                        >\r\n                            <Button onClick={drawnerClose} type=\"primary\">\r\n                                Cerrar\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    { accion === true ? (\r\n                        <BlogContext.Provider value={infoBlog}>\r\n                            <ActualizarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible}  />\r\n                        </BlogContext.Provider>\r\n                        \r\n                    ):(\r\n\r\n                            <RegistrarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible} />\r\n\r\n                    )}\r\n                </Drawer>\r\n                \r\n                <div className=\"blog__add-post\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    Tus blogs\r\n                </p>\r\n                    <Button \r\n                        type=\"primary\"\r\n                        size=\"large\"\r\n                        onClick={() => {\r\n                            setAccion(false);\r\n                            showDrawer()\r\n                            setInfoBlog({});\r\n                        }}\r\n                        className=\"ml-3\"\r\n                        icon={<PlusCircleOutlined style={{ fontSize: 24 }} />}>\r\n                            Crear Blog\r\n                    </Button>\r\n                </div>\r\n\r\n                <BlogsList \r\n                    blogs={blogs} \r\n                    setReloadBlog={setReloadBlog} \r\n                    showDrawer={showDrawer} \r\n                    setAccion={setAccion} \r\n                    setInfoBlog={setInfoBlog} \r\n                />\r\n\r\n                <Pagination \r\n                    blogs={blogs} \r\n                    location={location}  \r\n                    history={history}\r\n                    limite={20}\r\n                />\r\n            </div>\r\n    )\r\n}\r\nexport default withRouter(BlogAdmin);","import React, { useState, useEffect, Fragment } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport { Row, Button } from 'antd';\r\n\r\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\r\nimport { withRouter } from 'react-router-dom';\r\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\r\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\r\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\r\n\r\nfunction ConsutaExcel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ consulta, setConsulta ] = useState([]);\r\n\t//const [data, setData] = useState([]);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tconst obtenerConsulta = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/todos/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetConsulta(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerConsulta();\r\n\t}, []);\r\n\r\n\tconst datos = consulta.map((datos) => {\r\n\t\tconst clientes = {};\r\n\r\n\t\tclientes.nombre = `${datos.nombre} ${datos.apellido}`;\r\n\t\tclientes.telefono = datos.telefono;\r\n\t\tclientes.email = datos.email;\r\n\r\n\t\tif (datos.direccion.length === 0) {\r\n\t\t\tclientes.direccion = '';\r\n\t\t\tclientes.ciudad = '';\r\n\t\t} else {\r\n\t\t\tclientes.direccion = `${datos.direccion[0].calle_numero} ${datos.direccion[0].colonia}`;\r\n\t\t\tclientes.ciudad = `${datos.direccion[0].ciudad}, ${datos.direccion[0].estado}, ${datos.direccion[0].pais}`;\r\n\t\t}\r\n\r\n\t\treturn clientes;\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<ExcelFile\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<Button size=\"large\" type=\"primary\">\r\n\t\t\t\t\t\t\tDescargar datos de clientes\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfilename=\"Datos Clientes\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExcelSheet data={datos} name=\"Datos de clientes\">\r\n\t\t\t\t\t\t<ExcelColumn label=\"Nombre\" value=\"nombre\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Telefonos\" value=\"telefono\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"E-mail\" value=\"email\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Domicilio\" value=\"direccion\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Ciudad\" value=\"ciudad\" />\r\n\t\t\t\t\t</ExcelSheet>\r\n\t\t\t\t</ExcelFile>\r\n\t\t\t</Row>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default withRouter(ConsutaExcel);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Input, notification, Avatar, Spin, Row, Button } from 'antd';\r\nimport { RollbackOutlined, UserOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './clientes.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nimport ConsutaExcel from './consutaExcel';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Clientes(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ clientes, setClientes ] = useState([]);\r\n\tconst [ clientesPaginados, setClientesPaginados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else if (decoded['rol'] !== true) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}else{\r\n\t\t\t\tobtenerClientes(20, page);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Foto de perfil',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\tkey: 'imagen',\r\n\t\t\trender: (imagen) => {\r\n\t\t\t\treturn !imagen ? (\r\n\t\t\t\t\t<Avatar icon={<UserOutlined />} />\r\n\t\t\t\t) : imagen.includes('https') ? (\r\n\t\t\t\t\t<Avatar src={imagen} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar src={aws + imagen} />\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Nombre',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (nombre) => <p className=\"h5\">{nombre}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Apellido',\r\n\t\t\tdataIndex: 'apellido',\r\n\t\t\tkey: 'apellido',\r\n\t\t\trender: (apellido) => (!apellido ? <p className=\"h5\">-</p> : <p className=\"h5\">{apellido}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Telefono',\r\n\t\t\tdataIndex: 'telefono',\r\n\t\t\tkey: 'telefono',\r\n\t\t\trender: (telefono) => (!telefono ? <p className=\"h5\">-</p> : <p className=\"h5\">{telefono}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\tdataIndex: 'email',\r\n\t\t\tkey: 'email',\r\n\t\t\trender: (email) => <p className=\"h5\">{email}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dirección',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (direccion) => {\r\n\t\t\t\treturn direccion.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.calle_numero}, {res.colonia}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ciudad',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (ciudad) => {\r\n\t\t\t\treturn ciudad.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.ciudad}, {res.estado}, {res.pais}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\tasync function obtenerClientes(limit, page) {\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetClientes(res.data.posts.docs);\r\n\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerClientesFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tobtenerClientes(10, page);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/cliente/filtrados?nombre=${busqueda}&apellido=${busqueda}&direccion=${busqueda}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\t\tsetClientes(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Buscar un cliente\"\r\n\t\t\t\t\tonSearch={(value) => obtenerClientesFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\tonClick={() => obtenerClientes(10, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<ConsutaExcel />\r\n\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario mt-5\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={clientes}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(clientes) => clientes._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={clientesPaginados} location={location} history={history} limite={20} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Clientes;\r\n","import React, { useState, useEffect } from 'react';\r\n//import Carousel from 'react-bootstrap/Carousel';\r\nimport './ofertas.scss';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\n\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\n\r\nconst BgElement = Element.BgElement;\r\n\r\nfunction CarouselOfertas(props) {\r\n\t/* const [ index, setIndex ] = useState(0); */\r\n\tconst [ carousels, setCarousels ] = useState([]);\r\n\t/* const [ esPromocion, setEsPromocion ] = useState(false); */\r\n\r\n\tuseEffect(() => {\r\n\t\tconst obtenerCarousel = async () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/carousel/limite')\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetCarousels(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {});\r\n\t\t};\r\n\t\t\r\n\t\tobtenerCarousel();\r\n\t}, []);\r\n\r\n\t/* const handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t}; */\r\n\r\n\tconst render = carousels.map((carousel) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Element prefixCls=\"banner-user-elem\" key={carousel._id}>\r\n\t\t\t\t\t<BgElement\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\t/* esPromocion\r\n\t\t\t\t\t\t\t? `/vista_producto/${carousel.productoPromocion._id}`\r\n\t\t\t\t\t\t\t:  */carousel.producto ? `/vista_producto/${carousel.producto}` : '/'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tkey=\"bg\"\r\n\t\t\t\t\t\tclassName=\"bg banner-elemento\"\r\n\t\t\t\t\t\talt=\"img-oferta\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundImage: `url(${aws + carousel.imagen})`,\r\n\t\t\t\t\t\t\tcursor: 'pointer' \r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</BgElement>\r\n\t\t\t\t</Element>\r\n\t\t\t\t\r\n\t\t\t);\r\n\t});\r\n\r\n\tif (carousels.length === 0) {\r\n\t\treturn null\r\n\t}\r\n\treturn (\r\n\t\t<BannerAnim autoPlay /* activeIndex={index} */ /* onSelect={handleSelect} */ prefixCls=\"banner-user\" delay={200}>\r\n\t\t\t\t{render}\r\n\t\t</BannerAnim>\r\n\t);\r\n}\r\n\r\nexport default withRouter(CarouselOfertas);\r\n","import React from 'react';\r\nimport aws from '../../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './componente_producto_grande.scss'\r\n\r\n// import { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function ComponenteProductoGrande(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} >\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-oferta-especial color-contenedor-oferta-especial\" \r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-oferta-especial\">\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta-especial\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-especial text-center\">\r\n\t\t\t\t\t\t\t\t<h1 >{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-especial d-flex justify-content-center mt-4\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<h2 className=\"precio-producto rebajado mt-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport {withRouter } from 'react-router-dom';\r\nimport '../ofertas.scss';\r\nimport ComponenteProductoGrande from '../../Productos/Card_Grande/componente_producto_grande';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction ConsultaOfertasEspecial(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProductos();\r\n\t}, []);\r\n\r\n\tasync function obtenerProductos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${1}&page=${1}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<ComponenteProductoGrande key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif(productos.length === 0){\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(ConsultaOfertasEspecial);\r\n","import React from 'react';\r\nimport aws from '../../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './productos.scss';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\n\r\nconst gridStyle = { width: '100%', marginBottom: '1.5rem' };\r\n\r\nexport default function CardSecundaria(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-3 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-secundario\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos-sec titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"margen\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"color-boton\" \r\n\t\t\t\t\t\t\t\t\ticon={<ShoppingCartOutlined style={{fontSize: 25}}/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-secundario\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t{/* <h5 className=\"shadow\">OFERTA</h5> */}\r\n\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos-sec titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"margen\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"color-boton\" \r\n\t\t\t\t\t\t\t\t\ticon={< ShoppingCartOutlined\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 25 }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport '../ofertas.scss';\r\nimport CardSecundaria from '../../Productos/Card_Secundaria/card_secundaria';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction ConsultaOfertas(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProductos();\r\n\t}, []);\r\n\r\n\tasync function obtenerProductos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${6}&page=${1}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<CardSecundaria key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif(productos.length === 0){\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Row gutter={10} style={{ maxWidth: '100vw' }} className=\" mt-4\">\r\n\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\trender\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(ConsultaOfertas);\r\n","import React from 'react'\r\nimport { Tabs, Row } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport ConsultaOfertasEspecial from './consultaOfertaEspecial';\r\nimport ConsultaOfertas from './consultaOfertas'\r\n// import Productos from '../../Productos/productos'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction OfertasIzquierda() {\r\n    return (\r\n\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n        <Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n            <div className=\"col-lg-3 mt-3\">\r\n                <ConsultaOfertasEspecial />\r\n            </div>\r\n            <div className=\"col-lg-9\">\r\n                <Tabs defaultActiveKey=\"1\" className=\"tabs-colors\" centered style={{ fontSize: 18 }}>\r\n                    <TabPane tab=\"Ofertas\" key=\"1\" >\r\n                        <ConsultaOfertas />\r\n                    </TabPane>\r\n                </Tabs>\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <Link to={`/ofertas`} style={{ fontSize: 18 }}>\r\n                        Ver todas las ofertas\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(OfertasIzquierda);\r\n","import React from 'react'\r\nimport { Tabs, Row } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport ConsultaOfertasEspecial from './consultaOfertaEspecial';\r\nimport ConsultaOfertas from './consultaOfertas'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction  OfertasDerecha() {\r\n    return (\r\n\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n        <Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n            <div className=\"col-lg-9\">\r\n                <Tabs defaultActiveKey=\"1\" className=\"tabs-colors\" centered style={{ fontSize: 18 }}>\r\n                    <TabPane tab=\"Ofertas\" key=\"1\" >\r\n                        <ConsultaOfertas />\r\n                    </TabPane>\r\n                </Tabs>\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <Link to={`/ofertas`} style={{ fontSize: 18 }}>\r\n                        Ver todas las ofertas\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-lg-3 mt-3\">\r\n                <ConsultaOfertasEspecial />\r\n            </div>\r\n        </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter( OfertasDerecha);","import React from 'react';\r\nimport aws from '../../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './productosGrandes.scss';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\n\r\nconst gridStyle = { marginBottom: '1rem' };\r\n\r\nexport default function CardSecundaria(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"col-lg-6 conta-card-sec\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-secundario\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos-sec titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"margen\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"color-boton\" \r\n\t\t\t\t\t\t\t\t\ticon={<ShoppingCartOutlined style={{fontSize: 25}}/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-secundario\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t{/* <h5 className=\"shadow\">OFERTA</h5> */}\r\n\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos-sec titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"margen\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"color-boton\" \r\n\t\t\t\t\t\t\t\t\ticon={< ShoppingCartOutlined\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 25 }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport '../ofertas.scss';\r\nimport CardSecundaria from './card_secundaria';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction ConsultaOfertas(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProductos();\r\n\t}, []);\r\n\r\n\tasync function obtenerProductos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${4}&page=${1}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<CardSecundaria key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif(productos.length === 0){\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Row gutter={5} style={{ maxWidth: '90vw' }} className=\" mt-4\">\r\n\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\trender\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(ConsultaOfertas);\r\n","import React from 'react'\r\nimport { Tabs, Row } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport ConsultaOfertaEspecial from '../OfertasHome/consultaOfertaEspecial';\r\nimport ConsultaOfertas from './consultaOfertas'\r\n// import Productos from '../../Productos/productos'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction OfertasCentral() {\r\n    return (\r\n\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n            <Row gutter={10} style={{ maxWidth: '95vw' }} className=\"mt-4\">\r\n                <div className=\"col-lg-4\">\r\n                    <ConsultaOfertas />\r\n                </div>\r\n                <div className=\"col-lg-4 mt-5\">\r\n                    <ConsultaOfertaEspecial />\r\n                </div>\r\n                <div className=\"col-lg-4\">\r\n                    <ConsultaOfertas />\r\n                </div> \r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(OfertasCentral);\r\n","import React from 'react';\r\nimport aws from '../../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './card_producto_gigante.scss';\r\n\r\n// import { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function CardProductoGigante(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"mt-2\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-oferta-gigante\"\r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-oferta-gigante\">\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta-gigante\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-especial text-center\">\r\n\t\t\t\t\t\t\t\t<h1 >{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-gigantes d-flex justify-content-center mt-4\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<h2 className=\"precio-producto rebajado mt-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport {withRouter } from 'react-router-dom';\r\nimport '../ofertas.scss';\r\nimport CardProductoGigante from '../../Productos/Cards_Gigantes/card_producto_gigante';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction ConsultaOfertaGigante (props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProductos();\r\n\t}, []);\r\n\r\n\tasync function obtenerProductos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${1}&page=${1}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<CardProductoGigante key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif(productos.length === 0){\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter( ConsultaOfertaGigante );\r\n","import React from 'react';\r\nimport aws from '../../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './productosGigantes.scss';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\n\r\nconst gridStyle = { marginBottom: '1rem' };\r\n\r\nexport default function CardSecundaria(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"col-lg-12 conta-card-sec\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-secundario\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"margen\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos-sec titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"color-boton\" \r\n\t\t\t\t\t\t\t\t\ticon={<ShoppingCartOutlined style={{fontSize: 25}}/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-secundario\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t{/* <h5 className=\"shadow\">OFERTA</h5> */}\r\n\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos-sec titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"margen\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"color-boton\" \r\n\t\t\t\t\t\t\t\t\ticon={< ShoppingCartOutlined\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 25 }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport '../ofertas.scss';\r\nimport CardSecundaria from './card_secundaria';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction ConsultaOfertas(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProductos();\r\n\t}, []);\r\n\r\n\tasync function obtenerProductos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${2}&page=${1}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<CardSecundaria key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif(productos.length === 0){\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Row gutter={5} style={{ maxWidth: '90vw' }} className=\" mt-4\">\r\n\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\trender\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(ConsultaOfertas);\r\n","import React from 'react'\r\nimport { Row } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ConsultaOfertaGigante from './consultaOfertaGigante'\r\nimport ConsultaOfertas from './consultaOfertas'\r\n// import Productos from '../../Productos/productos'\r\n\r\nfunction OfertasGigantes() {\r\n    return (\r\n\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n            <Row gutter={10} style={{ maxWidth: '95vw' }} className=\"mt-4\">\r\n                <div className=\"col-lg-3\">\r\n                    <ConsultaOfertas />\r\n                </div>\r\n                <div className=\"col-lg-6 mt-5\">\r\n                    <ConsultaOfertaGigante/>\r\n                </div>\r\n                <div className=\"col-lg-3\">\r\n                    <ConsultaOfertas />\r\n                </div> \r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(OfertasGigantes);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result } from 'antd';\r\n// import Pagination from '../../../components/Pagination/pagination';\r\n// import queryString from 'query-string';\r\n\r\nimport '../Productos/productos.scss';\r\nimport './bannerPromocion.scss'\r\nimport CardSecundaria from '../Productos/Card_Secundaria/card_secundaria';\r\nimport Spin from '../../../components/Spin';\r\n\r\n/* const gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' }; */\r\n\r\nfunction CardsProductos(props) {\r\n    const {categoria} = props;\r\n\t//const { location, history } = props.propiedades;\r\n\t//const { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n    const [ loading, setLoading ] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        async function obtenerProductos(limit, page) {\r\n            setLoading(true);\r\n            await clienteAxios\r\n                .get(`/productos/filter?categoria=${categoria}`)\r\n                .then((res) => {\r\n                    setProductos(res.data.posts);\r\n                    setProductosPaginacion(res.data.posts);\r\n                    setLoading(false);\r\n                })\r\n                .catch((err) => {\r\n                    if(err.response){\r\n                        notification.error({\r\n                            message: 'Error',\r\n                            description: err.response.data.message,\r\n                            duration: 2\r\n                        });\r\n                    }else{\r\n                        notification.error({\r\n                            message: 'Error de conexion',\r\n                            description: 'Al parecer no se a podido conectar al servidor.',\r\n                            duration: 2\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n\r\n       obtenerProductos()\r\n    }, [categoria])\r\n\r\n\r\n\tconst render = productos.map((productos, index) => {\r\n\t\tif(index <= 5){\r\n\t\t\treturn (\r\n\t\t\t\t<CardSecundaria key={productos._id} productos={productos} />\r\n\t\t\t)\r\n\t\t}\t\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{/* <div className=\"principal-productos\"><p>NUESTROS PRODUCTOS</p></div> */}\r\n\t\t\t<div className=\"mt-2 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"justify-content-center align-items-center\">\r\n\t\t\t\t\t<div style={{ maxWidth: '95vw' }} className=\"row d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* <Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/> */}\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default CardsProductos;","import React, { useState, useEffect } from 'react';\r\n//import {useSpring, animated} from 'react-spring'\r\n\r\nimport './bannerPromocion.scss'\r\nimport CardsProductos from './cardsProductos';\r\nimport { Tabs} from 'antd';\r\nimport clienteAxios from '../../../config/axios';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\n\r\n// import TweenOne from 'rc-tween-one';\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst BgElement = Element.BgElement;\r\n\r\n function Banner_Promocion(props) {\r\n\r\n   /*  const [ index, setIndex ] = useState(0); */\r\n    const [ bannerPro, setBannerPro ] = useState([]);\r\n\r\n    useEffect(() => {\r\n\t\tconst obtenerBanner = async () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/banner/')\r\n\t\t\t\t.then((res) => {\r\n                    setBannerPro(res.data);\r\n\t\t\t\t})\r\n                .catch((res) => {});\r\n\t\t};\r\n\t\tobtenerBanner();\r\n    }, []);\r\n    \r\n\r\n\r\n    /* const handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n    }; */\r\n  \r\n    \r\n    const render = bannerPro.map((banner) => {\r\n        \r\n        return (\r\n            <div key={banner._id} className=\"mt-5 cont-principal\">\r\n                {banner.mostrarTitulo !== false ? (\r\n                    // <TweenOne key=\"demo\" animation={{ y: 30, opacity: 0, type: 'from', delay: 800 }}>\r\n                    <div className=\"tit-banner\">\r\n                        <Tabs className=\"tabs-colors\"  >\r\n                            <TabPane tab={banner.categoria}>\r\n                                {/* <div className=\"div-titulo-banner\">\r\n                                    <h1 className=\"mt-5 tit-banner\">{}</h1>\r\n                                </div> */}\r\n                            </TabPane>\r\n                        </Tabs>\r\n                    </div>\r\n                    // </TweenOne>\r\n                 ) : \"\"}\r\n\r\n                {banner.imagenBanner || banner.imagenBanner !== '' ? (\r\n                    <div className=\"banner-prin\"> \r\n                     <BannerAnim autoPlay /* activeIndex={index} onSelect={handleSelect} */ prefixCls=\"banner-prin mx-auto\" >\r\n                     <Element prefixCls=\"banner-user-elem\" animation={{ y: 30, opacity: 0, type: 'from', delay: 800 }}>\r\n                         <BgElement\r\n                             onClick={() =>\r\n                                 {if (banner.vincularCategoria !== false) {\r\n                                     props.history.push(`/searching/${banner.categoria}`);\r\n                                 }\r\n                             }}\r\n \r\n                             key=\"bg\"\r\n                             className=\"bg banner-prom mx-auto\"\r\n                             alt=\"img-oferta\"\r\n                             style={{\r\n                                 backgroundImage: `url(${aws + banner.imagenBanner})`,\r\n                                 cursor: 'pointer'\r\n                             }}\r\n                         >\r\n                         </BgElement>\r\n                     </Element>\r\n                     </BannerAnim>\r\n                    </div>\r\n                    ) : \r\n                    null\r\n                    }\r\n\r\n                <div>\r\n                    {banner.mostrarProductos !== false ? (\r\n                        <div className=\"mx-auto div-cards\">\r\n                            <CardsProductos className=\"mx-auto\" categoria={banner.categoria} />\r\n                            <div className=\"d-flex justify-content-center\">\r\n                                <Link to={`/searching/${banner.categoria}`} style={{ fontSize: 18 }}>\r\n                                    Ver todos los productos\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    ) : \"\"}\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    })\r\n\r\n    return (\r\n        <div className=\"cont-principal\">\r\n           {render}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Banner_Promocion);\r\n","import React from 'react'\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button} from 'antd';\r\nimport {UserOutlined} from '@ant-design/icons';\r\nimport './banner.scss'\r\n\r\nexport default function BannerInformativo() {\r\n    return (\r\n        <div className=\" container-fluid container-mini-banner\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-8 card-informativa\">\r\n                    <p className=\"mr-5 mt-2 \">\r\n                        Regístrate para una mayor experiencia, en nuestra tienda\r\n                    </p>    \r\n                    <UserOutlined className style={{fontSize: 45}}/>\r\n                  \r\n                </div>\r\n                <div className=\"col-lg-4 card-informativa\">\r\n                    <Link to=\"/perfiles\">\r\n                        <Button \r\n                            className=\"mt-2 color-boton\"\r\n                            shape=\"round\"\r\n                            size='large'\r\n                            style={{fontSize: 20}}\r\n                        >\r\n                            Registrarse\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Form, Input, Button, Checkbox } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 12 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Registro(props) {\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Nombre\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El nombre es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Apellido\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El apellido es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Correo\">\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio' } ]} noStyle>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Contraseña\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"contrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contraseña es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Confirmar contraseña\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"repeatContrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contraseña es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center\"\r\n\t\t\t\t\tname=\"aceptarPoliticas\"\r\n\t\t\t\t\tvaluePropName=\"checked\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalidator: (_, value) =>\r\n\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t? Promise.resolve()\r\n\t\t\t\t\t\t\t\t\t: Promise.reject('Debes aceptar las políticas para registrarte')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Checkbox>Acepto las políticas, terminos y condiciones.</Checkbox>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n\t\t\t\t\t\tRegistrarse\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Registro);\r\n","import React,{useState} from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { notification, Form, Input, Button, Alert } from 'antd';\r\n\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 14 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Login(props) {\r\n\r\n\tconst [mostrarDiv, setMostrarDiv] = useState('d-none');\r\n\tconst [mostrarMensaje, setmostrarMensaje] = useState('d-none');\r\n\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/auth', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/admin');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst onRecuperar = async (email) => {\r\n\t\t\tawait clienteAxios.post('/cliente/restablecer/pass',email)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetmostrarMensaje(\"\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tconst mostrarDivClick = () => {\r\n\t\tsetMostrarDiv(\"\")\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"contrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\" >\r\n\t\t\t\t\t\tContinuar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<p onClick={mostrarDivClick} style={{cursor: 'pointer',color: '#0084ff'}}>¿Has olvidado tu contrasena?</p>\t\t\t\t\r\n\t\t\t</Form>\r\n\t\t\t<div  className={`${mostrarDiv} col-12 mt-2`}>\r\n\t\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onRecuperar}>\r\n\t\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t\t<Form.Item name=\"emailCliente\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\" >\r\n\t\t\t\t\t\tEnviar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName={`${mostrarMensaje}`}\r\n\t\t\t\t\t\tmessage=\"Correo enviado\"\r\n\t\t\t\t\t\tdescription=\"Se a enviado un correo para actualizar su contraseña\"\r\n\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Login);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { notification } from 'antd';\r\nimport firebaseConfig from '../../config/firebase';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport clienteAxios from '../../config/axios';\r\nimport * as firebase from 'firebase/app';\r\n/* import * as firebaseui from 'firebaseui'; */\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n/* var ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nui.disableAutoSignIn(); */\r\n\r\nfunction Firebase() {\r\n\tconst [ user, setUser ] = useState(false);\r\n\r\n\tconst uiConfig = {\r\n\t\tsignInFlow: 'popup',\r\n\t\tsignInOptions: [ firebase.auth.GoogleAuthProvider.PROVIDER_ID ],\r\n\t\tcallbacks: {\r\n\t\t  // Avoid redirects after sign-in.\r\n\t\t  signInSuccessWithAuthResult: () => false\r\n\t\t}\r\n\t};\r\n \r\n\tuseEffect(() => {\r\n\t\tlet valores = {\r\n\t\t\tnombre: '',\r\n\t\t\tapellido: '',\r\n\t\t\temail: '',\r\n\t\t\tcontrasena: '',\r\n\t\t\timagen: ''\r\n\t\t};\r\n\t\tfunction onAuthStateChange() {\r\n\t\t\treturn firebase.auth().onAuthStateChanged(async (user) => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tconst displayname = user.displayName.split(' ');\r\n\t\t\t\t\tvalores = {\r\n\t\t\t\t\t\tnombre: displayname[0],\r\n\t\t\t\t\t\tapellido: displayname[1],\r\n\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\timagen: user.photoURL\r\n\t\t\t\t\t};\r\n\t\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.post('/cliente/auth/firebase/', valores)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t//Usuario creado correctamente\r\n\t\t\t\t\t\t\tsetUser(!!user);\r\n\t\t\t\t\t\t\tconst token = res.data.token;\r\n\t\t\t\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\tif (vista) {\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\t\twindow.location.href = `${vista}`\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\twindow.location.href = '/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tif(err.response){\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetUser(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonAuthStateChange();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t{user ? (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>Signed In!</div>\r\n\t\t\t\t</span>\r\n\t\t\t) : (\r\n\t\t\t\t<StyledFirebaseAuth uiCallback={ui => ui.disableAutoSignIn()} uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Firebase;\r\n","\r\nexport default {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATA_BASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROYECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n  };","import React, { useEffect } from 'react'\r\nimport Registro from '../Registro/registro'\r\nimport Login from '../Login/login'\r\nimport Firebase from '../../../components/Firebase/firebase'\r\nimport { Tabs, Divider } from 'antd'\r\nimport './entrar.scss'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Entrar(props) {\r\n    const token = localStorage.getItem('token')\r\n\r\n    useEffect( () => {\r\n        if(token){\r\n            props.history.push('/')\r\n        }\r\n    })\r\n\r\n    return(\r\n        <div>\r\n            <p className=\"text-center mb-4 mt-4\">\r\n                Si aun no tienes cuenta regístrate dando click en <strong>Crear cuenta</strong>\r\n            </p>\r\n            <div className=\"tabs\">\r\n                <Tabs centered className=\"shadow col-12 col-lg-4 bg-white rounded tabs-colors\" defaultActiveKey=\"1\">\r\n                    <TabPane className=\"tab-color\" tab=\"Iniciar Sesión\" key=\"1\">\r\n                        <div className=\"mt-3\">\r\n                            <Login />\r\n                        </div>\r\n                        <Divider />\r\n                        <div>\r\n                            <p >Accede con tu cuenta de Google o Facebook.</p>\r\n                            <Firebase />\r\n                        </div>\r\n                    </TabPane>\r\n                    <TabPane className=\"tab-color\" tab=\"Crear cuenta\" key=\"2\">\r\n                        <div className=\"mt-3\">\r\n                            <Registro />\r\n                        </div>\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Entrar)","import React, { createContext, useState } from \"react\"\r\n\r\nexport const CarritoContext = createContext()\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n    const [ activador, setActivador ] = useState(true);\r\n    const [ validacion, setValidacion ] = useState(false);\r\n\r\n  return (\r\n    <CarritoContext.Provider value={{activador, setActivador, validacion, setValidacion}}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  );\r\n};","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedidoCarrito(idcliente, token) {\r\n\t/* idcliente, idproducto, categoria, cantidad, talla, precio, total, token */\r\n\tconst res = await clienteAxios\r\n        .get(`/carrito/${idcliente}`, {\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n\t\t})\r\n\t\r\n\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\tif(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if(res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n\t});\r\n\r\n\tvar carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\tvar pedido = [];\r\n\r\n\tcarrito.forEach((carrito) => {\r\n\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\tif (res.talla) {\r\n\t\t\t\treturn res.talla;\r\n\t\t\t} else if (res.numero) {\r\n\t\t\t\treturn res.numero;\r\n            }\r\n            return null;\r\n        });\r\n\t\tvar precio;\r\n\t\t\r\n        if(!carrito.promocion){\r\n            precio = carrito.idarticulo.precio\r\n        }else{\r\n            precio = carrito.promocion.precioPromocion\r\n        }\r\n\r\n\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\tcase 'Ropa':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Calzado':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Otros':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n        }\r\n\t});\r\n\r\n\tvar subtotal = 0;\r\n\tvar total = 0;\r\n\r\n\tcarrito.forEach((res) => {\r\n\t\tif(res.promocion){\r\n\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad\r\n\t\t}else{\r\n\t\t\tsubtotal += res.idarticulo.precio * res.cantidad\r\n\t\t}\r\n\t\ttotal = subtotal;\r\n\t});\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso',\r\n\t\t\t\tcarrito: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Form, Divider, notification, Input, Row, Col, Alert } from 'antd';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport axios from 'axios';\r\n\r\nconst consultaCodigos = axios.create({\r\n\tbaseURL: `https://api-sepomex.hckdrk.mx/query/`\r\n});\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nexport default function DatosCliente(props) {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst { token, clienteID, tipoEnvio } = props;\r\n\tconst [ handleOk ] = props.enviarDatos;\r\n\r\n\tconst [ controlBoton, setControlBoton ] = useState(true);\r\n\tconst [ estadoBoton, setEstadoBoton ] = useState('Completa tus datos');\r\n\tconst [ mensajeRechazo, setMensajeRechazo ] = useState('');\r\n\r\n\tconst [ envioTotal, setEnvioTotal ] = useState(false);\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${clienteID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (res.data.direccion.length !== 0) {\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tapellido: res.data.apellido,\r\n\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\ttelefono: res.data.telefono,\r\n\t\t\t\t\t\tcalle_numero: res.data.direccion[0].calle_numero,\r\n\t\t\t\t\t\tentre_calles: res.data.direccion[0].entre_calles,\r\n\t\t\t\t\t\tcp: res.data.direccion[0].cp,\r\n\t\t\t\t\t\tcolonia: res.data.direccion[0].colonia,\r\n\t\t\t\t\t\tciudad: res.data.direccion[0].ciudad,\r\n\t\t\t\t\t\testado: res.data.direccion[0].estado,\r\n\t\t\t\t\t\tpais: res.data.direccion[0].pais\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tapellido: res.data.apellido,\r\n\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\ttelefono: res.data.telefono,\r\n\t\t\t\t\t\tcalle_numero: '',\r\n\t\t\t\t\t\tentre_calles: '',\r\n\t\t\t\t\t\tcp: '',\r\n\t\t\t\t\t\tcolonia: '',\r\n\t\t\t\t\t\tciudad: '',\r\n\t\t\t\t\t\testado: '',\r\n\t\t\t\t\t\tpais: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data.telefono.length === 0 || res.data.direccion.length === 0) {\r\n\t\t\t\t\tsetEstadoBoton('Completa tus datos');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst control = () => {\r\n\t\tswitch (estadoBoton) {\r\n\t\t\tcase 'Completa tus datos':\r\n\t\t\t\tsetControlBoton(false);\r\n\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tasync function envios() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.map((total) => {\r\n\t\t\t\t\tsetEnvioTotal(total);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tenvios();\r\n\t}, []);\r\n\r\n\tasync function envioDatos(valores) {\r\n\t\tsetLoading(true);\r\n\t\tconst estado = await editarDatosUsuario(valores);\r\n\t\tif (estado) {\r\n\t\t\tconst municipio_aceptado = await checarEnvios(valores.cp);\r\n\t\t\tif (municipio_aceptado !== 'municipioRechazado') {\r\n\t\t\t\thandleOk();\r\n\t\t\t} else {\r\n\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\tsetControlBoton(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function editarDatosUsuario(valores) {\r\n\t\treturn await clienteAxios\r\n\t\t\t.put(`/cliente/${clienteID}`, valores, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetControlBoton(true);\r\n\t\t\t\treturn true;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function checarEnvios(cp) {\r\n\t\tif (tipoEnvio !== 'ENVIO') {\r\n\t\t\treturn 'NoEnvio';\r\n\t\t} else {\r\n\t\t\tif (envioTotal.todos === true || envioTotal === false) {\r\n\t\t\t\treturn 'TodosEstados';\r\n\t\t\t} else {\r\n\t\t\t\tconst estado = await consultaCodigos.get(`/info_cp/${cp}`).then((res) => {\r\n\t\t\t\t\treturn clienteAxios\r\n\t\t\t\t\t\t.get(`/politicasEnvio/estado/municipio/${res.data[0].response.municipio}`)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\treturn 'MunicipioAceptado';\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tsetMensajeRechazo(err.response.data.message);\r\n\t\t\t\t\t\t\treturn 'municipioRechazado';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\treturn estado;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerDatosUser();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<Form {...layout} form={form} onFinish={envioDatos}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre\" name=\"nombre\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Apellido\" name=\"apellido\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Email\" name=\"email\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"email\" placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Teléfono\" name=\"telefono\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"telefono\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Divider>Datos de envío</Divider>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Calle y número\" name=\"calle_numero\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\tdisabled={controlBoton}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Entre calles\" name=\"entre_calles\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Código postal\" name=\"cp\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Colonia\" name=\"colonia\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Ciudad\" name=\"ciudad\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Estado\" name=\"estado\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"País\" name=\"pais\">\r\n\t\t\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'País obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t{mensajeRechazo !== '' ? (\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName=\"text-center mb-2\"\r\n\t\t\t\t\t\tmessage=\"Lo sentimos\"\r\n\t\t\t\t\t\tdescription={mensajeRechazo}\r\n\t\t\t\t\t\ttype=\"error\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form.Item />\r\n\t\t\t\t)}\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t{estadoBoton === 'Apartar' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{estadoBoton}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\t\t\t\tonClick={control}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{estadoBoton}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Divider, notification, Modal, Select, Alert, Avatar, List } from 'antd';\r\n/* import { ShoppingCartOutlined, TagsOutlined, BellOutlined, WhatsAppOutlined } from '@ant-design/icons'; */\r\nimport aws from '../../../../config/aws';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport DatosCliente from '../../Vista_Producto/subs/datos_cliente';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ApartadoCarrito(props) {\r\n\tconst { cliente, token } = props;\r\n\tconst [ visible, setVisible ] = props.modal;\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ apartadoMultiple, setApartadoMultiple ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${cliente}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst apartadoMultiple = [];\r\n\t\t\t\tconst apartadoMultipleCompleto = [];\r\n\t\t\t\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\t\t\t\tif (res.idarticulo.activo === false) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\t\t\t\tcarrito.forEach((carrito) => {\r\n\t\t\t\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\treturn res.talla;\r\n\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\treturn res.numero;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar precio;\r\n\r\n\t\t\t\t\tif (!carrito.promocion) {\r\n\t\t\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\t\t\t\tcase 'Ropa':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Calzado':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Otros':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar subtotal = 0;\r\n\t\t\t\tvar total = 0;\r\n\r\n\t\t\t\tcarrito.forEach((res) => {\r\n\t\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttotal = subtotal;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetApartadoMultiple(apartadoMultiple);\r\n\t\t\t\tsetProducto(apartadoMultipleCompleto);\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst apartarCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/apartado/multiple',\r\n\t\t\t{\r\n\t\t\t\tcliente: cliente,\r\n\t\t\t\tapartadoMultiple: apartadoMultiple,\r\n                total: total,\r\n                estado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEnvio\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n            notification.success({\r\n                message: '¡Listo!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            })\r\n            setTimeout(() => {\r\n                window.location.href = '/pedidos';\r\n            }, 1000);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n        });\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetVisible(false);\r\n\t\t\tapartarCarrito();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tobtenerCarrito();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ visible ]\r\n\t);\r\n\r\n\tconst articulos = producto.map((res, index) => {\r\n\t\treturn (\r\n\t\t\t<List.Item key={index} className=\"row\">\r\n\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t<Avatar size={64} src={aws + res.producto.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t<h5>{res.producto.nombre}</h5>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Cantidad: {res.cantidad}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{res.medida ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{res.medida.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.numero}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.talla}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(res.precio)}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</List.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Apartar carrito\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tfooter={null}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>{articulos}</List>\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t<h4>Total: ${formatoMexico(total)}</h4>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t<div className=\"col-lg-6 text-center\">\r\n\t\t\t\t\t<h6 className=\"font-weight-bold\">Elegir tipo de envío: </h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envío por paquetería</Option>\r\n\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t{cliente ? (\r\n\t\t\t\t<DatosCliente token={token} clienteID={cliente} tipoEnvio={tipoEnvio} enviarDatos={[ handleOk ]} />\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { message } from 'antd';\r\n\r\nexport async function actualizarCantidad(cliente, articulo, categoria, cantidad, medida, token) {\r\n    var datos = {};\r\n\tswitch (categoria) {\r\n\t\tcase 'Otros':\r\n            datos = {\r\n                cantidad: cantidad\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Ropa':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                talla: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                numero: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.put(`/carrito/${cliente}/articulo/${articulo}`, datos, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n            message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((err) => {\r\n        });\r\n        return true;\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification, message } from 'antd';\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, categoria, cantidad, talla, precio, total, token) {\r\n\tvar pedido = [];\r\n\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null;\r\n\t});\r\n\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, tipoEntrega, token, categoria) {\r\n\tvar apartado = [];\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null\r\n\t});\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { talla: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { numero: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(`/apartado/nuevo/${idcliente}`, apartado, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function EliminarArticuloCarrito(idcliente, articulo, token) {\r\n\tawait clienteAxios\r\n\t\t.delete(`/carrito/${idcliente}/articulo/${articulo}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n","import React, { useState } from 'react';\r\nimport { notification, Modal, Select, Divider, Alert, Avatar, List } from 'antd';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { AgregarApartado } from './services/consultas_individuales';\r\nimport DatosCliente from '../Vista_Producto/subs/datos_cliente';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ModalApartado(props) {\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\r\n\tconst handleOk = (e) => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlet precio;\r\n\t\t\tif(carrito.promocion && carrito.promocion.length !== 0){\r\n\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t}else{\r\n\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t}\r\n\t\t\tAgregarApartado(\r\n\t\t\t\tcliente._id,\r\n\t\t\t\tcarrito.idarticulo._id,\r\n\t\t\t\tcarrito.cantidad,\r\n\t\t\t\tprecio,\r\n\t\t\t\tcarrito.medida,\r\n\t\t\t\ttipoEnvio,\r\n\t\t\t\ttoken,\r\n\t\t\t\tcarrito.idarticulo.tipoCategoria\r\n\t\t\t);\r\n\t\t\tsetVisible(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Nuevo Apartado\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\t/* cancelText=\"Cancelar\"\r\n\t\t\tokText={false}\r\n\t\t\tonOk={false} */\r\n\t\t\tfooter={false}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>\r\n\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t<Avatar size={64} src={aws + carrito.idarticulo.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t<h5>{carrito.idarticulo.nombre}</h5>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t<h6>Cantidad: {carrito.cantidad}</h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{carrito.medida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{carrito.medida.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.talla}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.numero}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.idarticulo.precio)}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.promocion.precioPromocion)}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List.Item>\r\n\t\t\t</List>\r\n\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.idarticulo.precio * carrito.cantidad)}</h4>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.promocion.precioPromocion * carrito.cantidad)}</h4>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t<div className=\"col-lg-6 text-center\">\r\n\t\t\t\t\t<h6 className=\"font-weight-bold\">Elegir tipo de envío: </h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envío por paquetería</Option>\r\n\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t<DatosCliente token={token} clienteID={cliente._id} tipoEnvio={tipoEnvio} enviarDatos={[ handleOk ]} />\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","\r\nexport function verificarArticulos(carrito) {\r\n\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\tconst talla = carrito.idarticulo.tallas.map((tallas) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].talla === tallas.talla) {\r\n\t\t\t\treturn carrito.medida[0].talla;\r\n\t\t\t}else {\r\n                return null\r\n            }\r\n        });\r\n        return talla.filter((talla) => talla !== null);\r\n\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\tconst numero = carrito.idarticulo.numeros.map((numeros) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].numero === numeros.numero) {\r\n\t\t\t\treturn carrito.medida[0].numero\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n        });\r\n        return numero.filter((talla) => talla !== null);\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, InputNumber, Button, Select, Form, Tag, Modal } from 'antd';\r\nimport { ShoppingCartOutlined, ExportOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport { actualizarCantidad } from './services/consultasCarrito';\r\nimport { obtenerSubtotal } from './services/obtenerStock';\r\nimport { AgregarPedido, EliminarArticuloCarrito } from './services/consultas_individuales';\r\nimport ModalApartado from './modal_apartado';\r\nimport aws from '../../../config/aws';\r\nimport { verificarArticulos } from './verificarArticulos';\r\n\r\nconst { Option } = Select;\r\nconst styles = { fontSize: 20 };\r\nconst { confirm } = Modal;\r\n\r\nfunction ListaCarrito(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidad, setCantidad ] = useState();\r\n\tconst [ disponible, setDisponible ] = useState('');\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ medidaDisponible, setMedidaDisponible ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst { activador, setActivador, setValidacion } = useContext(CarritoContext);\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ precio, setPrecio ] = useState(0);\r\n\tconst [ eliminado, setEliminado ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetDisponible('');\r\n\t\t\tsetCantidad(carrito.cantidad);\r\n\t\t\tverificar();\r\n\r\n\t\t\tif (carrito.idarticulo.activo === false) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t} else if (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t\tsetEliminado(true);\r\n\t\t\t}\r\n\r\n\t\t\tif (carrito.promocion) {\r\n\t\t\t\tsetPrecio(carrito.promocion.precioPromocion);\r\n\t\t\t} else {\r\n\t\t\t\tsetPrecio(carrito.idarticulo.precio);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tfunction verificar() {\r\n\t\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\t\tconst talla = carrito.idarticulo.tallas.filter((tallas) => carrito.medida[0].talla === tallas.talla);\r\n\t\t\tconst tallaCantidad = carrito.idarticulo.tallas.filter(\r\n\t\t\t\t(tallas) => carrito.medida[0].talla === tallas.talla && tallas.cantidad !== 0\r\n\t\t\t);\r\n\t\t\tif (talla.length === 0 || tallaCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetMedida([ talla[0].talla, tallaCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\t\tconst numero = carrito.idarticulo.numeros.filter((numeros) => carrito.medida[0].numero === numeros.numero);\r\n\t\t\tconst numeroCantidad = carrito.idarticulo.numeros.filter(\r\n\t\t\t\t(numeros) => carrito.medida[0].numero === numeros.numero && numeros.cantidad !== 0\r\n\t\t\t);\r\n\r\n\t\t\tif (numero.length === 0 || numeroCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetMedida([ numero[0].numero, numeroCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction medidaChange(medida) {\r\n\t\tsetCantidad(carrito.cantidad);\r\n\t\tsetMedida(medida);\r\n\t\tsetValidacion(true);\r\n\t\tsetMedidaDisponible('');\r\n\t\tsetValidateStatus('warning');\r\n\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t}\r\n\tfunction cantidadChange(cantidad) {\r\n\t\tsetCantidad(cantidad);\r\n\t\tif (cantidad !== 0) {\r\n\t\t\tsetValidacion(true);\r\n\t\t\tsetValidateStatus('warning');\r\n\t\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction actualizar(articulo, categoria) {\r\n\t\tif (actualizarCantidad(cliente._id, articulo, categoria, cantidad, medida[0], token)) {\r\n\t\t\tsetActivador(!activador);\r\n\t\t\tsetValidacion(false);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetMedidaDisponible('');\r\n\t\t}\r\n\t}\r\n\tfunction comprar() {\r\n\t\tAgregarPedido(\r\n\t\t\tcliente._id,\r\n\t\t\tcarrito.idarticulo._id,\r\n\t\t\tcarrito.idarticulo.tipoCategoria,\r\n\t\t\tcarrito.cantidad,\r\n\t\t\tcarrito.medida,\r\n\t\t\tprecio,\r\n\t\t\tcarrito.subtotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction eliminar() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminar articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tif (EliminarArticuloCarrito(cliente._id, carrito._id, token)) {\r\n\t\t\t\t\tsetActivador(!activador);\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction apartado() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<List.Item className=\"d-block p-4\" key={carrito._id}>\r\n\t\t\t<div className={`row ${disponible}`}>\r\n\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-vista-carrito\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt=\"articulo producto\"\r\n\t\t\t\t\t\t\tclassName=\"imagen-vista-carrito\"\r\n\t\t\t\t\t\t\tsrc={aws + carrito.idarticulo.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-lg-9\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Link to={`/vista_producto/${carrito.idarticulo._id}`}>\r\n\t\t\t\t\t\t\t\t\t<h3>{carrito.idarticulo.nombre}</h3>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-carrito\">${formatoMexico(carrito.idarticulo.precio)}</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-anterior-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.idarticulo.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-promocion-carrito mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-promocion-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.promocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.precio\r\n\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"d-block d-lg-flex\">\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tCategoria: {carrito.idarticulo.categoria}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tGénero: {carrito.idarticulo.genero}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.color && carrito.idarticulo.color !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\t\tColor: {carrito.idarticulo.color}\r\n\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.colorHex && carrito.idarticulo.colorHex !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: carrito.idarticulo.colorHex,\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 30\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{disponible.length ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible\">Producto no disponible</p>\r\n\t\t\t\t\t\t\t\t) : eliminado === true ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible\">Este producto ya no existe</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t<div className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<Form form={form} initialValues={{ cantidad: carrito.cantidad }} className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\thelp={medidaDisponible}\r\n\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={carrito.idarticulo.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito-talla col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={verificarArticulos(carrito)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 90 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={medidaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.tallas.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.talla}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : carrito.idarticulo.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.numeros.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.numero}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option>-</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{/* <Form.Item className=\"inputs-carrito\" />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Subtotal\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 10 }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito\"\r\n\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"color-boton-sec color-font-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => actualizar(carrito._id, carrito.idarticulo.tipoCategoria)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tModificar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-vista-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(obtenerSubtotal(carrito.cantidad, precio))}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"float-right\" /> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t{disponible.length !== 0 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"d-block d-lg-inline\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar producto\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"color-fonts\"\r\n\t\t\t\t\t\t\tonClick={() => comprar()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} />Comprar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"color-fonts\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"color-fonts\"\r\n\t\t\t\t\t\t\tonClick={() => apartado()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ExportOutlined style={styles} />Apartar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<ModalApartado visible={[ visible, setVisible ]} carrito={carrito} cliente={cliente} token={token} />\r\n\t\t</List.Item>\r\n\t);\r\n}\r\nexport default ListaCarrito;\r\n","\r\nexport function obtenerStockCarrito(carrito){\r\n    var nuevo = carrito.articulos.map((res) => {\r\n        if(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n    });\r\n    return nuevo\r\n}\r\n\r\nexport function obtenerSubtotal(cantidad, precio){\r\n    const subtotal = precio * cantidad\r\n   return subtotal;\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, Button, message, Result, Space } from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { obtenerStockCarrito } from './services/obtenerStock';\r\nimport { AgregarPedidoCarrito } from './services/pedido_carrito';\r\nimport ApartadoCarrito from './services/apartado_carrito';\r\nimport ListaCarrito from './lista_carrito';\r\nimport Spin from '../../../components/Spin';\r\n\r\nconst styles = { fontSize: 20 };\r\n\r\nfunction MostrarDatosProductos(props) {\r\n\tconst [ carrito, setCarrito ] = useState([]);\r\n\tconst [ cliente, setCliente ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ nuevoCarrito, setNuevoCarrito ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst { activador, setActivador, validacion } = useContext(CarritoContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\r\n\t//toma del token para el usuario\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerDatosCarrito() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCliente(res.data.cliente);\r\n\t\t\t\tsetCarrito(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerDatosCarrito();\r\n\t\t\t\tsetActivador(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ activador ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (carrito.articulos) {\r\n\t\t\t\tvar nuevo = obtenerStockCarrito(carrito);\r\n\t\t\t\tconst result = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetNuevoCarrito(result);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tvar subtotal = 0;\r\n\t\t\tvar total = 0;\r\n\r\n\t\t\tnuevoCarrito.forEach((res) => {\r\n\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t}\r\n\t\t\t\ttotal = subtotal;\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ nuevoCarrito ]\r\n\t);\r\n\r\n\tfunction crearPedido() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tAgregarPedidoCarrito(cliente._id, token);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction apartarCarrito() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\t}\r\n\r\n\tif (carrito.length === 0 || carrito.articulos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<Result\r\n\t\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\ttitle=\"Aun no tienes articulos en tu carrito\"\r\n\t\t\t\t\textra={<Link to=\"/productos\">¡Empieza a comprar ahora!</Link>}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<h1 className=\"principal navbar-menu-general\">Bievenido a tu carrito {cliente.nombre}</h1>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={carrito.articulos}\r\n\t\t\t\t\trenderItem={(carrito) => <ListaCarrito carrito={carrito} cliente={cliente} token={token} />}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"row mt-5 justify-content-center p-5\">\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline' }}>Cantidad de productos: </p>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{nuevoCarrito.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline' }}>Total: </p>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${total !== 0 ? formatoMexico(total) : 0}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => crearPedido()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} /> Comprar ahora\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => apartarCarrito()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} /> Apartar carrito\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ApartadoCarrito cliente={cliente._id} token={token} modal={[ visible, setVisible ]} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarDatosProductos);\r\n","import React from 'react';\r\nimport aws from '../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function ComponenteProductos(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-principal\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t\t{/* <div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.productoPromocion.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\tclassName=\"color-boton\" \r\n\t\t\t\t\t\t\t\ticon={<ShoppingCartOutlined style={{fontSize: 25}}/>} \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-principal\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t{/* <h5 className=\"shadow\">OFERTA</h5> */}\r\n\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t{/* <div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"h5 card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\tclassName=\"color-boton\" \r\n\t\t\t\t\t\t\t\ticon={< ShoppingCartOutlined\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 25 }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './productos.scss';\r\nimport ComponenteProductos from './componente_productos';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction ConsultaProductos(props) {\r\n\tconst { location, history } = props.propiedades;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(40, page);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => {\r\n\t\treturn (<ComponenteProductos key={productos._id} productos={productos} />);\r\n\t});\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row float-left\">\r\n\t\t\t\t\t<h4 className=\"mb-0 text-center font-weight-bold\">¡Conoce nuestros productos!</h4>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ConsultaProductos;\r\n","import React from 'react';\r\nimport ConsultaProductos from './consulta_productos';\r\n\r\nfunction Productos(props) {\r\n\treturn (\t\r\n\t\t<ConsultaProductos propiedades={props} />\r\n\t);\r\n}\r\n\r\nexport default Productos;\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport queryString from 'query-string';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport { List } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport DOMPurify from 'dompurify';\r\nimport './BlogList.scss';\r\n\r\nexport default function BlogList(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ blogs, setBlogs ] = useState([]);\r\n\r\n\tfunction getBlogsApi(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/blog?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBlogs(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tgetBlogsApi(10, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div id=\"blog\" className=\"container\">\r\n\t\t\t\t<h1 className=\"text-center p-3\">Nuestro Blog!</h1>\r\n\t\t\t\t<div className=\"container-fluid bg-white shadow-lg\">\r\n\t\t\t\t\t<div id=\"cards\">\r\n\t\t\t\t\t\t<BlogsList2 blogs={blogs} setLoading={setLoading} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Pagination blogs={blogs} location={location} history={history} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction BlogsList2(props) {\r\n\tconst { blogs } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List\r\n\t\t\t\tclassName=\"p-3\"\r\n\t\t\t\titemLayout=\"vertical\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => <Blog blog={blog} />}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog } = props;\r\n\r\n\treturn (\r\n\t\t<Link to={`/blog/${blog.url}`} className=\"blogList\">\r\n\t\t\t<List.Item\r\n\t\t\t\tclassName=\"blogList__lista list-hover  mb-5\"\r\n\t\t\t\tkey={blog.nombre}\r\n\t\t\t\textra={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-blog-list\">\r\n\t\t\t\t\t\t<img className=\"imagen-blog-list\" alt={blog.nombre} src={aws + blog.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\ttitle={<p className=\"blogList__title titulo-blog\">{blog.nombre}</p>}\r\n\t\t\t\t\tdescription={<p className=\"blogList__author\">Autor: {blog.administrador}</p>}\r\n\t\t\t\t/>\r\n\t\t\t\t{\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={'blogList__content-description m-0'}\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(blog.descripcion) }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p>Leer mas</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</List.Item>\r\n\t\t</Link>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport Spin from '../../../../components/Spin';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport './ShowBlog.scss';\r\n\r\nexport default function ShowBlog(props) {\r\n\tconst { url } = props;\r\n\tconst [ infoBlog, setInfoBlog ] = useState({});\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tasync function ObtenerBlog() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/blog/${url}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetInfoBlog(res.data.post);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tObtenerBlog();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\t/* var styleDivImagen = {\r\n\t\theight: '400px',\r\n\t\tbackgroundImage: `url(https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${infoBlog.imagen})`,\r\n\t\tbackgroundSize: 'cover cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundPosition: '50% 50%'\r\n\t}; */\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"info-blog bg-white shadow\">\r\n\t\t\t\t{/* <div className=\"info-blog__div-imagen\" style={styleDivImagen} /> */}\r\n\t\t\t\t<div className=\"contenedor-imagen-blog-principal\">\r\n\t\t\t\t\t<img className=\"imagen-blog-principal\" alt=\"imagen blog principal\" src={aws+infoBlog.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-5\">\r\n\t\t\t\t\t<h1 className=\"info-blog__titulo m-3\"> {infoBlog.nombre} </h1>\r\n\t\t\t\t\t<div className=\"info-blog__fecha m-3\"> {formatoFecha(infoBlog.createdAt)} </div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"info-blog__descripcion\"\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: infoBlog.descripcion }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport BlogList from './services/BlogList'\r\nimport ShowBlog from './services/ShowBlog';\r\n\r\nimport {useParams} from 'react-router-dom'\r\n    \r\nexport default function Blog(props) {\r\n\r\n    const {location,history} = props;\r\n    const {url} = useParams();\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            {url ? (\r\n                <ShowBlog  url={url} />\r\n            ):(\r\n                <BlogList location={location} history={history} />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Tag, Divider, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst { detallePedido } = props;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detallePedido._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detallePedido.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">No. de productos:</h6>\r\n\t\t\t\t\t<p className=\"\">x {detallePedido.pedido.length} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus del pedido:</h6>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\tclassName=\"my-2\"\r\n\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\tdetallePedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t) : detallePedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{detallePedido.estado_pedido}\r\n\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t\t\t<p className=\"text-danger my-2\">Pedido cancelado</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p className=\"text-success my-2\">Pedido realizado</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 \">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t<p className=\"\"> $ {formatoMexico(detallePedido.total)} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del pedido</Divider>\r\n\t\t\t<div className=\"row d-flex justify-content-center\">{detallePedido.pedido.map((producto) => <Producto key={producto._id} producto={producto} />)}</div>\r\n\r\n\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de pedido</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detallePedido.cliente.direccion[0].calle_numero} Colonia ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].colonia} ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detallePedido.cliente.direccion[0].estado} ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detallePedido.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Código de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detallePedido.url}${detallePedido.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detallePedido.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos h4 mt-3\">Total: $ {formatoMexico(detallePedido.total)}</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction Producto(props) {\r\n\tconst { producto } = props;\r\n\r\n\treturn (\r\n\t\t<div key={producto.producto._id} className=\"col-lg-4 col-sm-12 mb-3\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-pedido\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-pedido\" src={aws + producto.producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h6 className=\"precio-rebaja\">Cantidad de articulos: {producto.cantidad}</h6>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t{producto.talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.talla}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DetallesPedido;\r\n","import React from 'react';\r\nimport { Tag, Divider, Col, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function detalleApartado(props) {\r\n\tconst { detalleApartado } = props;\r\n\tlet multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} />;\r\n\t\t\t\t}\r\n\t\t\t\treturn (<div key={producto._id} />)\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del Apartado</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del Apartado: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detalleApartado._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de apartado:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detalleApartado.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\tdetalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de entrega:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={detalleApartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Paqueteria:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.paqueteria} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envio:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.fecha_envio} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del apartado</Divider>\r\n\r\n\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">{multiple}</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">\r\n\t\t\t\t\t<Producto producto={detalleApartado} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de Apartado</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detalleApartado.cliente.direccion[0].calle_numero} Colonia ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].colonia} ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detalleApartado.cliente.direccion[0].estado} ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detalleApartado.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Codigó de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detalleApartado.url}${detalleApartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detalleApartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t\t<div className=\"mt-3 d-flex justify-content-end\">\r\n\t\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t\t<h3>Total: $ {formatoMexico(detalleApartado.total)}</h3>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h3>Total: $ {detalleApartado.precio ? formatoMexico(detalleApartado.precio) : formatoMexico(detalleApartado.producto.precio)}</h3>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Producto({ producto }) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Col span={4} key={producto.producto._id} className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\t/* hoverable */\r\n\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-detalle-apartado\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{producto.precio ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(producto.precio)}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.promocion && producto.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.promocion[0].precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.producto.precio)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{producto.medida && producto.medida.length !== 0 ? producto.medida[0].talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].talla}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ProductosMultiple({ producto, info }) {\r\n\treturn (\r\n\t\t<div key={producto._id} className=\"col-lg-4 col-sm-12\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(info.precio)}</h2>\r\n\t\t\t\t\t\t\t{info.medida ? info.medida.talla ? (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.talla}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.numero}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { Tag, Button, List, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\n\r\nexport default function ApartadoMultiple({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top color-boton m-2 w-100\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envío por paquetería' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={80}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{apartado.productosMultiple.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res._id} title={res.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSeguír envío\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport DetallesPedido from './detalles';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport './pedidos.scss';\r\nimport DetalleApartado from './detalleApartado';\r\nimport { Modal, Tag, Button, List, Result, Tabs, notification, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\nimport ApartadoMultiple from './apartadoMultiple';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n\r\nexport default function PedidosUsuario(props) {\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ Elige, setElige ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ showInfo, setshowInfo ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\t//modal del pedido\r\n\tconst [ detallePedido, setDetallePedido ] = useState({});\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState({});\r\n\r\n\tconst showModal = (e) => {\r\n\t\tsetVisible(e);\r\n\t};\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst obtenerPedidos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetPedidos(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerApartados() {\r\n\t\t/* setLoading(true); */\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/apartado/cliente/apartados/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetApartados(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerPedidos();\r\n\t\t\t\tobtenerApartados();\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tsetPedidos([]);\r\n\t\t\t\tsetshowInfo(false);\r\n\t\t\t\tsetEstado(false);\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ estado, token, props ]\r\n\t);\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h4 className=\"text-center m-3\">Mis Compras</h4>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tcentered\r\n\t\t\t\t\tclassName=\"shadow bg-white rounded tabs-colors\"\r\n\t\t\t\t\tdefaultActiveKey=\"1\"\r\n\t\t\t\t\ttype=\"card\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<TabPane tab=\"Mis compras\" key=\"1\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras. ¿Que esperas?\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={pedidos}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(pedido) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Pedido\r\n\t\t\t\t\t\t\t\t\t\t\t\tpedido={pedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDetallePedido={setDetallePedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"Mis apartados\" key=\"2\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras para poder verlas\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={apartados}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(apartado) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (apartado.apartadoMultiple && apartado.apartadoMultiple.length !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ApartadoMultiple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Apartado\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</Tabs>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={900}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tshowModal(false);\r\n\t\t\t\t}}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t{Elige === true ? (\r\n\t\t\t\t\t<DetalleApartado detalleApartado={detalleApartado} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<DetallesPedido detallePedido={detallePedido} />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction Pedido(props) {\r\n\tconst { pedido, showModal, setDetallePedido, setElige } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={pedido._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top color-boton\"\r\n\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetElige(false);\r\n\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\tsetDetallePedido(pedido);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\tVer mi pedido\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t{/* <p className=\"h6\"><span className=\"font-weight-bold\">Pedido el:</span> {formatoFecha(pedido.createdAt)}</p> */}\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Pedido:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\" d-flex justify-content-center\" style={{ width: 200 }}>\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={90}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{pedido.pedido.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res.producto._id} title={res.producto.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.producto.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\tProductos: <span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estatus:</span>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total de la compra:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Fecha de pedido:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(pedido.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* \t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">Pedido no realizado </p>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-success\">Pedido realizado</p>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Seguimiento: {pedido.codigo_seguimiento} </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${pedido.url}${pedido.codigo_seguimiento}`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeguir envio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{pedido.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tpedido.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n\r\nfunction Apartado({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top m-2 w-100 color-boton\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t<span className=\"ml-1\">{apartado.producto.nombre}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t$ {apartado.precio ? (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t</span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envío por paquetería' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar src={aws + apartado.producto.imagen} size={80} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"\"> {apartado.producto.nombre}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${' '}\r\n\t\t\t\t\t\t\t\t\t{apartado.precio ? (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSeguír envío\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './ofertas.scss';\r\nimport ComponenteProductos from '../Productos/componente_productos';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Ofertas(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(40, page);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<ComponenteProductos key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<h4 className=\"mb-0 text-center\">¡Encuentra ofertas todos los días!</h4>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Ofertas);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport ComponenteProductos from '../Productos/componente_productos';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction ResultadoBusqueda(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst url = props.match.params.url;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerProductosFiltrados() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(\r\n\t\t\t\t\t\t`/productos/search?nombre=${url}&categoria=${url}&subcategoria=${url}&genero=${url}&color=${url}`\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerProductosFiltrados();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => <ComponenteProductos key={productos._id} productos={productos} />);\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<h3 className=\"ml-5 mt-4 mb-4\">\r\n\t\t\t\t{productos.length} resultados de la busqueda \"{url}\"\r\n\t\t\t</h3>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ResultadoBusqueda;\r\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\r\nimport { Form, Input, Divider, Button, Avatar, notification } from 'antd';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../../../config/aws';\r\nimport './ActualizarUsuario.scss';\r\n\r\nexport default function ActualizarUsuario(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosUser, decoded, token, setLoading, setAccion } = props;\r\n\r\n\tconst [ avatar, setAvatar ] = useState(null);\r\n\tconst [ enviarFile, setEnviarFile ] = useState([]);\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [ password, setPassword ] = useState({});\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tif (decoded.imagen) {\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function enviarDatosUser() {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tif (password.contrasenaActual) {\r\n\t\t\tif (password.contrasena && password.repeatContrasena) {\r\n\t\t\t\tif (password.contrasena === password.repeatContrasena) {\r\n\t\t\t\t\tformData.append('contrasena', password.contrasena);\r\n\t\t\t\t\tformData.append('repeatContrasena', password.repeatContrasena);\r\n\t\t\t\t\tformData.append('contrasenaActual', password.contrasenaActual);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Las contrasenas no son iguales',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tif (decoded.tipoSesion === 'APIRestAB') {\r\n\t\t\tformData.append('imagen', enviarFile);\r\n\t\t}\r\n\t\tsetAccion(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\t\t/* window.location.reload(); */\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\tconst decoded = jwt_decode(res.data.token);\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst datosPassword = (e) => {\r\n\t\tsetPassword({\r\n\t\t\t...password,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form layout=\"horizontal\" size={'large'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t{decoded.tipoSesion !== 'APIRestAB' ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"upload-user-perfil\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={decoded.imagenFireBase}\r\n\t\t\t\t\t\t\t\tstyle={{ width: '200px' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<UploadAvatar\r\n\t\t\t\t\t\tavatar={avatar}\r\n\t\t\t\t\t\tsetAvatar={setAvatar}\r\n\t\t\t\t\t\tnombre={decoded.nombre}\r\n\t\t\t\t\t\tsetEnviarFile={setEnviarFile}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Divider style={{ fontSize: 22 }}>Información Personal</Divider>\r\n\r\n\t\t\t\t<h5>Nombre:</h5>\r\n\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Nombre obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Apellidos:</h5>\r\n\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Email:</h5>\r\n\t\t\t\t<Form.Item name=\"email\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"email\" placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Telefono:</h5>\r\n\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Telefono obligatorio' } ]} noStyle name=\"telefono\">\r\n\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Divider className=\"mt-5\" style={{ fontSize: 22 }}>\r\n\t\t\t\t\tDatos domiciliarios\r\n\t\t\t\t</Divider>\r\n\r\n\t\t\t\t<h5>Direccion:</h5>\r\n\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"calle_numero\" placeholder=\"Calle y numero de calle\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Referencia:</h5>\r\n\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Codigo postal:</h5>\r\n\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Codigo postal obligatorio' } ]} noStyle name=\"cp\">\r\n\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Colonia:</h5>\r\n\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Colonia obligatoria' } ]} noStyle name=\"colonia\">\r\n\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Ciudad: </h5>\r\n\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Localidad obligatoria' } ]} noStyle name=\"ciudad\">\r\n\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Estado:</h5>\r\n\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Estado obligatoria' } ]} noStyle name=\"estado\">\r\n\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>País:</h5>\r\n\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'País obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{decoded.tipoSesion === 'FireBase' ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider style={{ fontSize: 22 }}>Contraseña</Divider>\r\n\t\t\t\t\t\t<h5>Contraseña Actual:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasenaActual\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasenaActual\" placeholder=\"Contraseña actual\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasena\" placeholder=\"Contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Confirmar Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"repeatContrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"repeatContrasena\" placeholder=\"Confirmar contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"d-flex justify-content-center pb-3\">\r\n\t\t\t\t\t<Button htmlType=\"submit\" className=\"color-boton color-font-boton\" size=\"large\" style={{ width: 150, fontSize: 20 }}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction UploadAvatar(props) {\r\n\tconst { avatar, setAvatar, nombre, setEnviarFile } = props;\r\n\r\n\tconst onDrop = useCallback(\r\n\t\t(acceptedFiles) => {\r\n\t\t\tconst file = acceptedFiles[0];\r\n\t\t\tsetAvatar({ file, preview: URL.createObjectURL(file) });\r\n\t\t\tsetEnviarFile(file);\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ setAvatar ]\r\n\t);\r\n\r\n\tconst { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n\t\taccept: 'image/jpg, image/png, image/jpeg',\r\n\t\tnoKeyboard: true,\r\n\t\tonDrop\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Divider className=\"\" style={{ fontSize: 22 }}>\r\n\t\t\t\tImagen de perfil\r\n\t\t\t</Divider>\r\n\t\t\t<div className=\"upload-user-perfil\" {...getRootProps()}>\r\n\t\t\t\t<input {...getInputProps()} />\r\n\t\t\t\t{isDragActive ? (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p className=\"\" style={{ fontSize: 150 }}>\r\n\t\t\t\t\t\t\t{nombre.charAt(0)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : avatar ? (\r\n\t\t\t\t\t<Avatar size={200} src={avatar.preview} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport axios from 'axios'\r\n\r\nimport { Form, Input, Button, Result, notification, Alert } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../../components/Spin';\r\n\r\n\r\nimport '../confirmacion.scss';\r\n\r\nconst consultaCodigos = axios.create({\r\n    baseURL : `https://api-sepomex.hckdrk.mx/query/`\r\n})\r\n\r\nexport default function Traer_datos(props) {\r\n\r\n\tconst {setValue} =  props;\r\n\r\n\tconst { datosUser, decoded, setCurrent, current, setDatosActualizados, token } = props;\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [envioRechadazo, setEnvioRechazado] = useState(\"\");\r\n\tconst [envioTotal, setEnvioTotal] = useState(false);\r\n    const [alertRechazo, setAlertRechazo] = useState(false);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function envios() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.map((total) => {\r\n\t\t\t\t\tsetEnvioTotal(total);\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: ''\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tenvios();\r\n\t}, [])\r\n\r\n\tconsole.log(envioTotal);\r\n\r\n\tfunction enviarDatosUser() { \r\n\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tsetLoading(true);\r\n\t\tif (envioTotal.todos === true || envioTotal === false) {\r\n\t\t\tclienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(error.response){\r\n\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tconsultaCodigos\r\n\t\t\t.get(`/info_cp/${datosFormulario.cp}`)\r\n\t\t\t.then((res) => {\r\n\t\t\tconst data = res.data[0].response.municipio;\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.get(`/politicasEnvio/estado/municipio/${data}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tclienteAxios\r\n\t\t\t\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tif(error.response){\r\n\t\t\t\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t\t\t\t'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetEnvioRechazado(err.response.data.message);\r\n\t\t\t\t\t\tsetAlertRechazo(true);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: 'El codigo postal insertado no existe'\r\n\t\t\t\t});\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded\">\r\n\t\t\t\t<Form className=\"mt-5\" layout=\"horizontal\" size={'middle'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"m-0\"\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faUser} style={{ fontSize: '100px' }} />}\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Nombre:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Apellidos:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Teléfono:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Referencia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Código postal:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Colonia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Ciudad:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Estado:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">País:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'País obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pais\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t {\r\n                    alertRechazo === true ? (\r\n                        <Alert\r\n                            className=\"mt-2 text-center\"\r\n                            message=\"Lo sentimos\"\r\n                            description={envioRechadazo}\r\n                            type=\"error\"\r\n                            showIcon\r\n                        />\r\n                    ) : (\r\n                        <div />\r\n                    )\r\n                \t}\r\n\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center p-3\">\r\n\t\t\t\t\t\t<Button className=\"color-boton\" htmlType=\"submit\" size=\"large\">\r\n\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tCardNumberElement,\r\n\tCardCvcElement,\r\n\tCardExpiryElement,\r\n\tElements,\r\n\tuseElements,\r\n\tuseStripe\r\n} from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\nimport { Form, Button, notification } from 'antd';\r\n\r\nimport './Animacion_Tarjeta.scss';\r\n\r\nimport img_visa from '../img/logos/visa.png';\r\nimport img_mastercard from '../img/logos/mastercard.png';\r\nimport chip_tarjeta from '../img/chip-tarjeta.png';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nexport default function Verificacion_Tarjeta(props) {\r\n    const {setIdPago,prev,setCurrent,current} = props;\r\n    const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_LLAVE);\r\n    return (\r\n        <div>\r\n            <Elements stripe={stripePromise}>\r\n                <CheckoutForm prev={prev} setCurrent={setCurrent} current={current} setIdPago={setIdPago} />\r\n            </Elements>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CheckoutForm = (props) => {\r\n\tconst { prev, setCurrent, current, setIdPago } = props;\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst [ name, setName ] = useState('');\r\n\tconst [ postal, setPostal ] = useState('');\r\n\t/* \tconst [ loading, setLoading ] = useState(false); */\r\n\r\n\tconst [ typeCard, setTypeCard ] = useState('visa');\r\n\tconst [ numbrerCard, setNumbrerCard ] = useState('');\r\n\tconst [ dateCard1, setDateCard1 ] = useState('');\r\n\tconst [ dateCard2, setDateCard2 ] = useState('');\r\n\tconst [ activeCard, setActiveCard ] = useState('');\r\n\tconst [ controlClick, setcontrolClick ] = useState(false);\r\n\tconst [ cvvCard, setCvvCard ] = useState('---');\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTypeCard('visa');\r\n\t\tsetNumbrerCard('');\r\n\t\tsetActiveCard('');\r\n\t}, []);\r\n\r\n\tconst rotartarjeta = () => {\r\n\t\tif (!controlClick) {\r\n\t\t\tsetActiveCard('active');\r\n\t\t\tsetcontrolClick(true);\r\n\t\t} else {\r\n\t\t\tsetActiveCard('');\r\n\t\t\tsetcontrolClick(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardOnChage = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.brand === 'visa') {\r\n\t\t\tsetTypeCard('visa');\r\n\t\t} else {\r\n\t\t\tsetTypeCard('mastercard');\r\n\t\t}\r\n\t\tif (!e.complete) {\r\n\t\t\tsetNumbrerCard('#### ### - incomplet');\r\n\t\t} else {\r\n\t\t\tsetNumbrerCard('#### #### #### ####');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardDateOnChange = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.complete) {\r\n\t\t\tsetDateCard2('AA');\r\n\t\t} else {\r\n\t\t\tsetDateCard1('MM');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cvvChange = (e) => {\r\n\t\tsetActiveCard('active');\r\n\t\tif (e.complete) {\r\n\t\t\tsetCvvCard('###');\r\n\t\t} else {\r\n\t\t\tsetCvvCard('##-');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tif (!stripe || !elements) {\r\n\t\t\t// Stripe.js has not loaded yet. Make sure to disable\r\n\t\t\t// form submission until Stripe.js has loaded.\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst cardElement = elements.getElement(CardNumberElement);\r\n\r\n\t\tconst payload = await stripe.createPaymentMethod({\r\n\t\t\ttype: 'card',\r\n\t\t\tcard: cardElement,\r\n\t\t\tbilling_details: {\r\n\t\t\t\tname,\r\n\t\t\t\taddress: {\r\n\t\t\t\t\tpostal_code: postal\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (payload.error) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Parece que hubo un error con tu tarjeta.'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetIdPago(payload.paymentMethod);\r\n\t\t\tsetCurrent(current + 1);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={!stripe}>\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"contenedor \">\r\n\t\t\t\t\t<section\r\n\t\t\t\t\t\tclassName={`tarjeta ${activeCard} d-none d-md-none d-lg-block`}\r\n\t\t\t\t\t\tid=\"tarjeta\"\r\n\t\t\t\t\t\tonClick={rotartarjeta}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"delantera\">\r\n\t\t\t\t\t\t\t<div className=\"logo-marca\" id=\"logo-marca\">\r\n\t\t\t\t\t\t\t\t<img src={typeCard === 'visa' ? img_visa : img_mastercard} alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img src={chip_tarjeta} className=\"chip\" alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"numero\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Número Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"numero\"> {numbrerCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flexbox\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"nombre\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Nombre Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"nombre\"> {name} </p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Expiración</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mes\"> {dateCard1} </span> {dateCard1 ? '/' : ''}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"year\"> {dateCard2} </span>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"trasera w-100\">\r\n\t\t\t\t\t\t\t<div className=\"barra-magnetica\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"firma\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Firma</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"firma\">\r\n\t\t\t\t\t\t\t\t\t\t<p>{name}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"ccv\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">CCV</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ccv\"> {cvvCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\r\n\t\t\t\t\t<Form onFinish={handleSubmit} className=\"active mt-5\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cardNumber\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNúmero Tarjeta\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardNumberElement\r\n\t\t\t\t\t\t\t\t\tid=\"cardNumber\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardOnChage(e)}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '18px',\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#424770',\r\n\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.025em',\r\n\t\t\t\t\t\t\t\t\t\t'::placeholder': {\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#aab7c4'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"name\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNombre\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre del propietario\"\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetName(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"expiry\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tExpiración\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardExpiryElement\r\n\t\t\t\t\t\t\t\t\tid=\"expiry\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardDateOnChange(e)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cvc\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCVC\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardCvcElement\r\n\t\t\t\t\t\t\t\t\tid=\"cvc\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tcvvChange(e);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('active')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"postal\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCódigo postal\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"postal\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"12345\"\r\n\t\t\t\t\t\t\t\t\tvalue={postal}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetPostal(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tonClick={prev}\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={!stripe}\r\n\t\t\t\t\t\t\t\tclassName=\"m-1 color-boton\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button htmlType=\"submit\" size=\"large\" disabled={!stripe} className=\"m-1 color-boton\">\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport React from 'react';\r\nimport { List } from 'antd';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport '../confirmacion.scss';\r\n\r\nexport default function Traer_pedido(props) {\r\n\tconst { datosPedido, pedidoCompleto, datosEnvio } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <h1 className=\"text-center\">Tu pedido:</h1> */}\r\n\t\t\t<div className=\"d-flex justify-content-end text-right px-4 mr-2 mt-3 info-pedido\">\r\n\t\t\t\t<div className=\"__subs\">\r\n\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"h6 font-weight-bold\">Descuento de: $ {datosEnvio.descuento}</p> */}\r\n\t\t\t\t\t\t\t{/* <p className=\"text-success h6 font-weight-bold\">El descuento si aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{datosEnvio.costoEnvio ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold d-inline\">\r\n\t\t\t\t\t\t\t\tCosto envío:{' '}\r\n\t\t\t\t\t\t\t\t{/* <p className=\"d-inline\" style={{ textDecoration: 'line-through' }}>\r\n\t\t\t\t\t\t\t\t\t$ {datosEnvio.costoEnvio}\r\n\t\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold text-success d-inline\">Envío gratis </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">Costo envío: $ {datosEnvio.costoEnvio} </p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<p className=\"mt-4 h4 font-weight-bold\">\r\n\t\t\t\t\t\tTotal: ${' '}\r\n\t\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio - datosEnvio.descuento)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclassName=\"p-3 info-pedido\"\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={datosPedido}\r\n\t\t\t\t\trenderItem={(producto) => <Productos pedido={producto} />}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Productos(props) {\r\n\tconst { pedido } = props;\r\n\treturn (\r\n\t\t<List.Item className=\"c0\">\r\n\t\t\t<div className=\"row c1\">\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t\t\t\t\theight=\"80\"\r\n\t\t\t\t\t\t\t\twidth=\"80\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={<p className=\"__nombres\">{pedido.producto.nombre}</p>}\r\n\t\t\t\t\t\tdescription={<p className=\"__categ\">{pedido.producto.categoria}</p>}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\" col-lg-3\">\r\n\t\t\t\t\t<p className=\"__tupedido\">Cantidad: {pedido.cantidad}</p>\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'calzado' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Medida: {pedido.numero}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'ropa' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Talla: {pedido.talla}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\" col-lg-2\">\r\n\t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t${formatoMexico(pedido.cantidad * pedido.precio)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport Traer_pedido from './traer_pedido';\r\nimport { Button ,notification} from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCcVisa, faCcMastercard } from '@fortawesome/free-brands-svg-icons';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport './Confirnacion_Final.scss';\r\n\r\nexport default function Confirmacion_Final(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosPedido, idPago, pedidoCompleto, token, history,datosActualizados } = props;\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ datosEnvio, setDatosEnvio ] = useState({});\r\n\tconst [ total, setTotal ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDireccion(datosActualizados);\r\n\t\ttraerCostosEnvio();\r\n\t\tsetLoading(true);\r\n\t}, []);\r\n\r\n\tconst traerCostosEnvio = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosEnvio(res.data);\r\n\t\t\t\tif (res.data.descuento) {\r\n\t\t\t\t\tif (pedidoCompleto.total >= res.data.promocionEnvio) {\r\n\t\t\t\t\t\tsetTotal(\r\n\t\t\t\t\t\t\tparseFloat(pedidoCompleto.total) +\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.costoEnvio) -\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.descuento)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst crearPago = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\ttotal\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/pedido/total/${pedidoCompleto._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tlet centavo = Math.round(100 * parseFloat(total));\r\n\t\t\t\tconst newPedido = pedidoCompleto;\r\n\t\t\t\tnewPedido.total = total;\r\n\t\t\t\tconst datosPago = {\r\n\t\t\t\t\tsesionStripe: idPago,\r\n\t\t\t\t\tpedidoCompleto: newPedido,\r\n\t\t\t\t\tamount: centavo\r\n\t\t\t\t};\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/pago/', datosPago, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\thistory.push(`/success/${pedidoCompleto._id}`);\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(error.response){\r\n\t\t\t\t\t\t\thistory.push(`/error/${pedidoCompleto._id}/${error.response.data.err.code}`);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t  });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\thistory.push(`/error/${pedidoCompleto._id}`);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<h3 className=\"font-weight-bold\">Resumen de compra</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded confirmacion_final\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6 info-domicilio\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-direccion-conf shadow-sm\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Dirección de envío</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row m-0\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-none text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faTruck}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-9 col-sm-12 m-sm-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.entre_calles}, {direccion.colonia},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.ciudad}, {direccion.estado}, {direccion.pais}, CP{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"shadow-sm contenedor-info-pago\">\r\n\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Información de pago</p>\r\n\t\t\t\t\t\t\t\t<div className=\"row my-3 mx-0\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-12 text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={'visa'}\r\n\t\t\t\t\t\t\t\t\t\t\ticon={idPago.card.brand === 'visa' ? faCcVisa : faCcMastercard}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-7 m-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo tarjeta:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{idPago.card.funding}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tarjeta:</span> *********{idPago.card.last4}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Expira:</span> {idPago.card.exp_month}/{idPago.card.exp_year}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Traer_pedido\r\n\t\t\t\t\t\t\tsetTotal={setTotal}\r\n\t\t\t\t\t\t\tdatosEnvio={datosEnvio}\r\n\t\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex flex-row-reverse justify-content-center align-items-center text-center pb-3 mr-5 mt-5\">\r\n\t\t\t\t\t<Button size=\"large\" className=\"color-boton\" style={{ width: 200, textAlign: 'center' }} onClick={crearPago}>\r\n\t\t\t\t\t\t<ShoppingCartOutlined /> COMPRAR AHORA\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport { Steps } from 'antd';\r\n\r\nimport Traer_datos from './services/traer_datos';\r\nimport Verificacion_tarjeta from './services/Verificacion_Tarjeta';\r\nimport Confirmacion_Final from './services/Confirmacion_Final';\r\nimport Spin from '../../../components/Spin';\r\n\r\nimport './confirmacion.scss';\r\n\r\nconst { Step } = Steps;\r\n\r\nexport default function Confirmacion_compra(props) {\r\n\tconst { history } = props;\r\n\r\n\tconst { url } = useParams();\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\t/* const [ disabled, setDisabled ] = useState(true); */\r\n\tconst [ datosPedido, setPedido ] = useState([]);\r\n\tconst [ pedidoCompleto, setPedidoCompleto ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ datosActualizados, setDatosActualizados ] = useState([]);\r\n\tconst [ idPago, setIdPago ] = useState([]);\r\n\t/*     const [ disabledPrev, setDisabledPrev ] = useState(false); */\r\n\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t/* const next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t}; */\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${url}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data.cliente);\r\n\t\t\t\tsetPedido(res.data.pedido);\r\n\t\t\t\tsetPedidoCompleto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Datos de envío',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Traer_datos\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\tsetCurrent={setCurrent}\r\n\t\t\t\t\t\tcurrent={current}\r\n\t\t\t\t\t\tsetDatosActualizados={setDatosActualizados}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Datos de compra',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Verificacion_tarjeta setIdPago={setIdPago} prev={prev} setCurrent={setCurrent} current={current} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Comprar',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Confirmacion_Final\r\n\t\t\t\t\t\tidPago={idPago}\r\n\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\tdatosActualizados={datosActualizados}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!token) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\r\n\t\t\tsetAccion(false);\r\n\t\t\t/* setDisabled(false); */\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\t<div className=\"container prinpales p-3 mt-5\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-3\">\r\n\t\t\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t\t\t<Steps className=\"steps-colors\"  current={current}>\r\n\t\t\t\t\t\t\t\t{steps.map((item) => <Step key={item.title} title={item.title} />)}\r\n\t\t\t\t\t\t\t</Steps>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*                     <div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n                        {current > 0 && (\r\n                            <Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n                                Atras\r\n                            </Button>\r\n                        )}\r\n                        {current === steps.length - 1 && (\r\n                            <Button\r\n                                type=\"primary\"\r\n                                onClick={() => {\r\n                                    notification.success({\r\n                                        message: 'su producto ha sido creado!',\r\n                                        duration: 2\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        window.location.reload();\r\n                                    }, 2000);\r\n                                }}\r\n                            >\r\n                                Comprar\r\n                            </Button>\r\n                        )}\r\n                        {current < steps.length - 1 && (\r\n                            <Button type=\"primary\" onClick={next} disabled={disabled}>\r\n                                Siguiente \r\n                            </Button>\r\n                        )}\r\n                    </div> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport {notification} from 'antd'\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Politicas() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [politicas, setPoliticas] = useState([]);\r\n\r\n    function peticionPoliticas(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                setLoading(false);\r\n                if (res.data[0].politicas !== \"\") {\r\n                    setPoliticas(res.data[0].politicas)\r\n                }\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        peticionPoliticas();\r\n    }, []);\r\n    \r\n\r\n\r\n    return(\r\n        <Spin spinning={loading} >\r\n            <div className=\"container\">\r\n                <div className=\"m-5\">\r\n                        <h1 className=\"text-center mt-4\">Politicas de Privacidad</h1>\r\n                        <h3 className=\"text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de privacidad.\r\n                        </h3>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas}} className='mt-5 px-4 ' />\r\n                    </div>             \r\n                </div> \r\n        </Spin>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Politicas;","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport '../vistas.scss';\r\nimport { Card, Col } from 'antd';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction'\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction Scroll(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst producto = props.productos;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/search?nombre=${producto.nombre}&categoria=${producto.categoria}&subcategoria=${producto.subCategoria}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t}, [producto]);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"d-inline-flex mr-2 contenedor-card-tamaño\">\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${productos._id}`)}\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7' }}\r\n\t\t\t\t\t\tstyle={{ maxHeight: '100%', width: '100%', cursor: 'pointer' }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+productos.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja\">${formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<p className=\"titulos-vista-productos producto-descripcion mb-3\">Quienes vieron este producto también compraron</p>\r\n\t\t\t\t<div className=\"contenedor-scroller\">\r\n\t\t\t\t\t{render}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Scroll;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedido(\r\n\tidcliente,\r\n\tproducto,\r\n\tsugerencia,\r\n\tcategoriaProducto,\r\n\tcategoriaSugerencia,\r\n\tcantidadProducto,\r\n\tcantidadSugerencia,\r\n\tmedidaProducto,\r\n\tmedidaSugerencia,\r\n\tprecioProducto,\r\n\tprecioSugerencia,\r\n\ttotal,\r\n\ttoken\r\n) {\r\n\tvar pedido = [];\r\n\tif (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Ropa') {\r\n\t\t// ambas tallas\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Calzado') {\r\n\t\t// talla producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Otros') {\r\n\t\t// talla producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Calzado') {\r\n\t\t// numero producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Ropa') {\r\n\t\t// numero producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Otros') {\r\n\t\t// numero producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Otros') {\r\n\t\t// sin medida producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Ropa') {\r\n\t\t// sin medida producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Calzado') {\r\n\t\t// sin medida producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport clienteAxios from \"../../../config/axios\";\r\n\r\nimport { notification, Tooltip, Tag } from \"antd\";\r\n\r\nexport default function Estados_disponibles() {\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n\r\n  const traerDatos = async () => {\r\n    clienteAxios\r\n      .get(`/politicasEnvio/estados/`)\r\n      .then((res) => {\r\n        setDataEstados(res.data);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, []);\r\n\r\n\r\n  const municipios = [];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"text-center \">\r\n      <h3>Tenemos envios a:</h3>\r\n        {\r\n          dataEstados.map((estados) => {\r\n            estados.municipios.map((municipio) => {\r\n              municipios.push(municipio.municipio + \"       -       \");\r\n            });\r\n\r\n            if (estados.todos || dataEstados.length === 0) {\r\n              \r\n            }else{\r\n              return( \r\n                <Tooltip\r\n                  placement=\"left\"\r\n                  key={estados._id}\r\n                  title={municipios}\r\n                >\r\n                  <Tag\r\n                    style={{ fontSize: 16 }}\r\n                    className=\"mt-2 tags-color\"\r\n                    visible={true}\r\n                    key={estados._id}\r\n                  >\r\n                    {estados.estado}\r\n                  </Tag>\r\n                </Tooltip>\r\n                )\r\n            }\r\n          })\r\n      } \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification, Button, Select, Card, Form, InputNumber, Modal, Alert } from 'antd';\r\nimport { IssuesCloseOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { AgregarPedido } from './servicesSugerencia';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\nimport Estados_disponibles from '../../Consulta_covertura/estados_disponibles'\r\n\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst idproducto = props.producto;\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t///PRODUCTO\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productoPromocion, setProductoPromocion ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidadFinalProducto, setCantidadFinalProducto ] = useState(1);\r\n\tconst [ disponibilidad, setDisponibilidad ] = useState('');\r\n\r\n\tconst [dataEstados, setDataEstados] = useState([]);\r\n\r\n\tconst traerDatos = async () => {\r\n\t  clienteAxios\r\n\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t.then((res) => {\r\n\t\t\tres.data.map((todos)=>{\r\n\t\t\t\tsetDataEstados(todos);\r\n\t\t\t})\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t});\r\n\t};\r\n\r\n\tfunction selectTallaProducto(value) {\r\n\t\tsetMedida(value);\r\n\t}\r\n\tfunction obtenerCantidadProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medida[1]) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\t///SUGERENCIA\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ sugerenciaPromocion, setSugerenciaPromocion ] = useState([]);\r\n\tconst [ validateStatusSug, setValidateStatusSug ] = useState('validating');\r\n\tconst [ medidaSugerencia, setMedidaSugerencia ] = useState([]);\r\n\tconst [ cantidadFinalSugerencia, setCantidadFinalSugerencia ] = useState(1);\r\n\tconst [ disponibilidadSugerencia, setDisponibilidadSugerencia ] = useState('');\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tfunction selectTallaSugerencia(value) {\r\n\t\tsetMedidaSugerencia(value);\r\n\t}\r\n\tfunction obtenerCantidadSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medidaSugerencia[1]) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerSugerencia();\r\n\t\ttraerDatos();\r\n\t}, []);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTotal();\r\n\t\t\tobtenerDisponibilidad();\r\n\t\t},\r\n\t\t[ obtenerSugerencia ]\r\n\t);\r\n\tfunction obtenerTotal() {\r\n\t\tif (sugerencia.length !== 0) {\r\n\t\t\tif (productoPromocion.length !== 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length !== 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerencia.precio * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproducto.precio * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(producto.precio * cantidadFinalProducto + sugerencia.precio * cantidadFinalSugerencia);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction obtenerDisponibilidad() {\r\n\t\t///disponibilidad Productos\r\n\t\tif (producto && producto.activo === false) {\r\n\t\t\tsetDisponibilidad('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\r\n\t\t//// Disponibilidad Sugerencias\r\n\t\tif (sugerencia && sugerencia.activo === false) {\r\n\t\t\tsetDisponibilidadSugerencia('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerSugerencia() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${idproducto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.producto);\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((element) => setSugerencia(element.producto));\r\n\t\t\t\t\tif (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionSugerencia.length !== 0 && res.data.promocionProducto.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length !== 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\r\n\t\tlet productoPrecio;\r\n\t\tlet sugerenciaPrecio;\r\n\r\n\t\tif(productoPromocion.length !== 0){\r\n\t\t\tproductoPrecio = productoPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tproductoPrecio = producto.precio;\r\n\t\t}\r\n\r\n\t\tif(sugerenciaPromocion.length !== 0){\r\n\t\t\tsugerenciaPrecio = sugerenciaPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tsugerenciaPrecio = sugerencia.precio;\r\n\t\t}\r\n\t\t\r\n\t\tAgregarPedido(\r\n\t\t\tdecoded._id,\r\n\t\t\tproducto._id,\r\n\t\t\tsugerencia._id,\r\n\t\t\tproducto.tipoCategoria,\r\n\t\t\tsugerencia.tipoCategoria,\r\n\t\t\tcantidadFinalProducto,\r\n\t\t\tcantidadFinalSugerencia,\r\n\t\t\tmedida[0],\r\n\t\t\tmedidaSugerencia[0],\r\n\t\t\tproductoPrecio,\r\n\t\t\tsugerenciaPrecio,\r\n\t\t\ttotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction showConfirm() {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem(\"vistas\", `/vista_producto/${producto._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!medida[0] || !medidaSugerencia[0]) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconfirm({\r\n\t\t\t\t\ttitle: 'Comprar los siguientes articulos:',\r\n\t\t\t\t\ticon: <IssuesCloseOutlined />,\r\n\t\t\t\t\tokText: 'Continuar con la compra',\r\n\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p>{producto.nombre}</p>\r\n\t\t\t\t\t\t\t<p>{sugerencia.nombre}</p>\r\n\t\t\t\t\t\t\t<p>Precio total: ${formatoMexico(total.toFixed(2))} + envio</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\tPedido();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t{\r\n\t\t\t\t\tdataEstados.todos !== true || dataEstados !== false ? (\r\n\t\t\t\t\t\t<Estados_disponibles />\r\n\t\t\t\t\t):(\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row mw-100 mt-3\">\r\n\t\t\t\t{!producto || !sugerencia ? (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t<p className=\"my-3 text-center titulos-vista-productos producto-descripcion\">\r\n\t\t\t\t\t\t\t¡Llévalos juntos!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"row\" style={{ justifyContent: 'center' }}>\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex d-sm-block px-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tallas && producto.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : producto.numeros && producto.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Solo hay {medida[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medida.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p>Solo hay {producto.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${producto._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-lg-flex justify-content-center align-items-center d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"display-1 text-center mx-4\">+</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tallas && sugerencia.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : sugerencia.numeros && sugerencia.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatusSug}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedidaSugerencia.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Solo hay {medidaSugerencia[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medidaSugerencia[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medidaSugerencia.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p>Solo hay {sugerencia.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={sugerencia.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${sugerencia._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={sugerencia.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerenciaPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerencia.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerencia.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerenciaPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerenciaPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidadSugerencia}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulos-vista-productos producto-descripcion\">\r\n\t\t\t\t\t\t\t\t\t\tPrecio total: ${formatoMexico(total.toFixed(2))}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block m-1 color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => showConfirm()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sugerencia);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport ReactImageMagnify from 'react-image-magnify';\r\nimport 'react-image-gallery/styles/scss/image-gallery.scss';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport './galeria_custom.scss';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction Galeria(props) {\r\n\tconst [ count, setCount ] = useState(0);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst idproducto = props.id;\r\n\tconst [ galeria, setGaleria ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState([\r\n\t\t{\r\n\t\t\toriginal: '',\r\n\t\t\tthumbnail: ''\r\n\t\t}\r\n\t]);\r\n\r\n\tconst [ imagenZoom, setImagenZoom ] = useState();\r\n\r\n\tfunction onLoad(imagen) {\r\n\t\tif(imagen.target.src){\r\n\t\t\tvar url = imagen.target.src.split('.com/');// se hace asi porque al poner la variable con la url saltaban warnings del src estaba undefind\r\n\t\t\tsetImagenZoom(url[1]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst galery = {\r\n\t\tshowPlayButton: false,\r\n\t\tshowNav: false,\r\n\t\tshowFullscreenButton: false,\r\n\t\trenderItem: myRenderItem,\r\n\t\tonThumbnailClick: onLoad,\r\n\t\tdisableKeyDown: true\r\n\t};\r\n\r\n\tif (count < galeria.length) {\r\n\t\tsetCount(count + 1);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerImagen() {\r\n\t\t\t\tawait clienteAxios.get(`/productos/${idproducto}`).then((res) => {\r\n\t\t\t\t\tsetImagenZoom(res.data.imagen);\r\n\t\t\t\t\tsetImagen([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toriginal: aws+res.data.imagen,\r\n\t\t\t\t\t\t\tthumbnail: aws+res.data.imagen\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tasync function obtenerGaleria() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(`/galeria/${idproducto}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerImagen();\r\n\t\t\tobtenerGaleria();\r\n\t\t},\r\n\t\t[ idproducto ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tgaleria.forEach((res) => {\r\n\t\t\t\treturn imagen.push({\r\n\t\t\t\t\toriginal: aws+res.url,\r\n\t\t\t\t\tthumbnail: aws+res.url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ count, galeria, imagen ]\r\n\t);\r\n\r\n\tconst [ zoomHeight, setZoomHeight ] = useState('');\r\n\tconst [ zoomWidth, setZoomWidth ] = useState('');\r\n\tvar img = new Image();\r\n\timg.onload = function() {\r\n\tsetZoomWidth(img.naturalWidth);\r\n\tsetZoomHeight(img.naturalHeight);\r\n\t}\r\n\timg.src = aws+imagenZoom;\r\n\r\n\tconst propiedadesImageMagnify= {\r\n\t\tsmallImage: {\r\n\t\t\talt: 'imagen-producto',\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\tisFluidWidth: true\r\n\t\t},\r\n\t\tlargeImage: {\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\twidth: zoomWidth*1.6,\r\n\t\t\theight: zoomHeight*1.6\r\n\t\t},\r\n\t\tenlargedImagePortalId: 'zoom-render'\r\n\t}\r\n\r\n\tfunction myRenderItem() {\r\n\t\treturn (\r\n\t\t\t<ReactImageMagnify\r\n\t\t\t\timageClassName=\"image-gallery-image\"\r\n\t\t\t\tenlargedImageContainerClassName=\"image-gallery-image-large-container\"\r\n\t\t\t\tenlargedImageClassName=\"image-gallery-image-large\"\r\n\t\t\t\tclassName=\"imagen-gallery-container\"\r\n\t\t\t\t{...propiedadesImageMagnify}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<ImageGallery items={imagen} {...galery} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Galeria;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarCarrito(idcliente, idproducto, cantidad, talla, numero, token) {\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t`/carrito/nuevo/${idcliente}`,\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tarticulos: [\r\n\t\t\t\t\t{ idarticulo: idproducto, cantidad: cantidad, medida: [ { talla: talla, numero: numero } ] }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\treturn notification.success({\r\n\t\t\t\tmessage: 'Se añadio un articulo a tu carrito',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, numero, tipoEntrega, token) {\r\n\tif (talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\tmedida: [ { talla: talla } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: \"Pedido apartado.\",\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\tmedida: [ { numero: numero } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, cantidad, talla, numero, precio, total, token) {\r\n\tif (!numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\ttalla: talla,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tnumero: numero,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { InputNumber, Button, Form, Badge, Divider, notification, Modal, Select, Alert, List, Avatar } from 'antd';\r\nimport { ShoppingCartOutlined, TagsOutlined, BellOutlined, WhatsAppOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { AgregarCarrito, AgregarApartado, AgregarPedido } from './services';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport DatosCliente from './datos_cliente';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 8 }\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 16 }\r\n\t}\r\n};\r\nconst { Option } = Select;\r\n\r\nfunction TallasCantidades(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst productos = props.producto;\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\t/* \tconst [ cantidad, setCantidad ] = useState(); */\r\n\tconst [ promocion, setPromocion ] = useState('');\r\n\tconst [ tallas, setTallas ] = useState([]);\r\n\tconst [ numeros, setNumeros ] = useState([]);\r\n\tconst [ render, setRender ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ cantidadFinal, setCantidadFinal ] = useState(1);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n/* \tconst [ datosUser, setDatosUser ] = useState([]); */\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tvar total = 0;\r\n\tvar precio = 0;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\t/* async function obtenerDatosUser() {\r\n\t\tif (!decoded) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t} */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token) {\r\n\t\t\t/* obtenerDatosUser(); */\r\n\t\t\tobtenerTienda();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (productos.promocion && productos.promocion.length) {\r\n\t\t\t\tproductos.promocion.forEach((res) => setPromocion(res.precioPromocion));\r\n\t\t\t}\r\n\t\t\tif (productos.tipoCategoria === 'Calzado') {\r\n\t\t\t\tsetCategoria('calzado');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.numeros.map((numeros) => {\r\n\t\t\t\t\t\treturn numeros.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={numeros._id} count={numeros.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setNumeros(numeros)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t//style={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Ropa') {\r\n\t\t\t\tsetCategoria('ropa');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.tallas.map((tallas) => {\r\n\t\t\t\t\t\treturn tallas.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={tallas._id} count={tallas.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setTallas(tallas)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Otros') {\r\n\t\t\t\tsetCategoria('otros');\r\n\t\t\t}\r\n\t\t\tif (productos && productos.activo === false) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ productos ]\r\n\t);\r\n\r\n\tfunction obtenerCantidad(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > productos.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadNumero(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > numeros.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadTalla(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > tallas.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst showModal = () => {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (categoria === 'ropa' && !tallas.talla) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else if (categoria === 'calzado' && !numeros.numero) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetVisible(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetVisible(false);\r\n\t\t\tApartado();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction modalMensaje() {\r\n\t\tModal.success({\r\n\t\t\ticon: '',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<p style={{ fontSize: 18 }}>¡Tu apartado a sido recibido y sera despachado próximamente!</p>\r\n\t\t\t\t\t{tienda.length !== 0 && tienda.telefono ? (\r\n\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t<p style={{ fontSize: 18 }}>Si tienes dudas te puedes comunicar al</p>\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center font-weight-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<WhatsAppOutlined style={{ color: '#25d366' }} />\r\n\t\t\t\t\t\t\t\t{tienda.telefono}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 color-boton\"\r\n\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\tonClick={() => (window.location.href = '/pedidos')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVer mis pedidos\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tonOk() {}\r\n\t\t});\r\n\t}\r\n\r\n\tasync function Carrito() {\r\n\t\t////AGREGAR CARRITO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numeros.numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, tallas.talla, numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numero, token)) {\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Apartado() {\r\n\t\tlet precio;\r\n\t\tif(productos.promocion.length !== 0){\r\n\t\t\tprecio = productos.promocion[0].precioPromocion;\r\n\t\t}else{\r\n\t\t\tprecio = productos.precio;\r\n\t\t}\r\n\t\t////AGREGAR APARTADO\r\n\t\tsetLoading(true);\r\n\t\tif (categoria === 'calzado') {\r\n\t\t\tconst talla = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numeros.numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'ropa') {\r\n\t\t\tconst numero = '';\r\n\t\t\tsetLoading(false);\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, tallas.talla, numero, tipoEnvio, token);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'otros') {\r\n\t\t\tconst talla = '';\r\n\t\t\tconst numero = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttalla,\r\n\t\t\t\t\t\tnumeros.numero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttallas.talla,\r\n\t\t\t\t\t\tnumero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t}\r\n\t\t\t\tAgregarPedido(decoded._id, productos._id, cantidadFinal, talla, numero, precio, total, token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-p-seleccion-compra\">\r\n\t\t\t\t<div className=\"contenedor-p-seleccion-compra mb-4\">\r\n\t\t\t\t\t{disabled ? (\r\n\t\t\t\t\t\t<p className=\"disponibilidad-p mb-3\">En este momento no hay articulos disponibles</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"disponibilidad-p-disponible mb-3\">¡Articulos disponibles!</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{categoria !== 'otros' ? <p className=\"mb-3 font-weight-bold\">Tallas:</p> : <p />}\r\n\t\t\t\t\t<div>{render}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form initialValues={{ cantidad: 1 }} {...formItemLayout}>\r\n\t\t\t\t\t{categoria !== 'otros' ? (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\tcategoria === 'ropa' && tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p>Solo hay {tallas.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : categoria === 'calzado' && numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p>Solo hay {numeros.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p>Elige una talla</p>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={categoria === 'ropa' ? tallas.cantidad : numeros.cantidad}\r\n\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\tonChange={categoria === 'ropa' ? obtenerCantidadTalla : obtenerCantidadNumero}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 70 }}\r\n\t\t\t\t\t\t\t\tdisabled={tallas.length !== 0 || numeros.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={<p>Solo hay {productos.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={productos.cantidad}\r\n\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\tonChange={obtenerCantidad}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t<Divider />\r\n\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"contenedor-button-vista\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"d-block size-button-vista color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\t//type=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => Pedido()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TagsOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tComprar ahora\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-block size-button-vista color-boton-sec color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => showModal()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<BellOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tApartar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-block size-button-vista color-boton-sec color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\tonClick={() => Carrito()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tAgregar al carrito\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Aparta tu producto\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\t/* onOk={handleOk} */\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t/* cancelText=\"Cancelar\" */\r\n\t\t\t\t/* okText=\"Apartar ahora\" */\r\n\t\t\t\tfooter={null}\r\n\t\t\t\twidth={700}\r\n\t\t\t>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t\t<Avatar size={64} src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t\t<h5>{productos.nombre}</h5>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t<h6>Cantidad: {cantidadFinal}</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6>Talla: {numeros.numero}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6>Talla: {tallas.talla}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{!productos.promocion ? (\r\n\t\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(productos.precio)}</h6>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Precio: ${formatoMexico(res.precioPromocion)}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t</List>\r\n\t\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t\t{!productos.promocion ? (\r\n\t\t\t\t\t\t<h4>Total: ${formatoMexico(cantidadFinal * productos.precio)}</h4>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\treturn <h4 key={res._id}>Total: ${formatoMexico(cantidadFinal * res.precioPromocion)}</h4>;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t\t<div className=\"col-lg-6 text-center\">\r\n\t\t\t\t\t\t<h6 className=\"font-weight-bold\">Elegir tipo de envío: </h6>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envío por paquetería</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t\t{decoded && decoded._id ? (\r\n\t\t\t\t\t<DatosCliente\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tclienteID={decoded._id}\r\n\t\t\t\t\t\ttipoEnvio={tipoEnvio}\r\n\t\t\t\t\t\tenviarDatos={[ handleOk ]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(TallasCantidades);\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './info-tienda.scss';\r\nimport Geolocalizacion from '../../../../pages/users/geolocalizacion';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst InfoTienda = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerTienda();\r\n\t}, []);\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (tienda.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-info-tienda\">\r\n\t\t\t\t<p className=\"titulos-vista-productos text-center\">Encuentra nuestra tienda</p>\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-info\">\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-info-tienda\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"logo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-info-tienda\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <Avatar size={64} src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`} /> */}\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<p className=\"font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\t{tienda.nombre}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.direccion.map((direccion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={direccion._id} className=\"container\">\r\n\t\t\t\t\t\t\t\t<p className=\"direccion-tienda-vista-producto\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Dirección:</span> {direccion.calle_numero}, Col.{' '}\r\n\t\t\t\t\t\t\t\t\t{direccion.colonia}, {direccion.ciudad}, {direccion.cp}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"direccion-tienda-vista-producto\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Teléfono:</span> {tienda.telefono}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\t\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.ubicacion.map((ubicacion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={ubicacion._id}>\r\n\t\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\t\theight=\"50vh\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\tcenter={[ ubicacion.lat, ubicacion.lng ]}\r\n\t\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\t\tzoom={16}\r\n\t\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t\t\t\ttituloheader={false}\r\n\t\t\t\t\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(InfoTienda);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport clienteAxios from \"../../../config/axios\";\r\n\r\nimport { notification} from \"antd\";\r\nimport { CheckCircleFilled } from '@ant-design/icons';\r\n\r\n\r\nexport default function Envio_General() {\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n\r\n  const traerDatos = async () => {\r\n    clienteAxios\r\n      .get(`/politicasEnvio/estados/`)\r\n      .then((res) => {\r\n        setDataEstados(res.data);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div >\r\n        {dataEstados.map((estado) => {\r\n          if (estado.todos) {\r\n            return (\r\n              <div style={{ fontSize: 15 }} className=\"envio-texto 4\">\r\n              <CheckCircleFilled style={{ fontSize: 20, marginRight: 10 }} /> \r\n                <spam >Tenemos envios a toda la republica Mexicana</spam>\r\n              </div>\r\n            );\r\n          } else {\r\n              return null;\r\n          }\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Divider, Row, Col, Tag, Alert, notification, Result, Button } from 'antd';\r\nimport { CreditCardOutlined } from '@ant-design/icons';\r\nimport Scroll from './subs/scroll';\r\nimport Sugerencia from './subs/sugerencia';\r\nimport Galeria from './Galeria_tienda/galeria';\r\nimport TallasCantidades from './subs/cantidades_y_tallas';\r\nimport InfoTienda from './Info_tienda/info-tienda';\r\nimport Envio_General from '../Consulta_covertura/envio_general';\r\nimport 'antd/dist/antd.css';\r\nimport './vistas.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport DOMPurify from 'dompurify';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction VistaProductos(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ readMore, setReadMore ] = useState('read-less');\r\n\tconst producto = props.match.params.url;\r\n\tconst [ costoEnvio, setCostoEnvio ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProducto();\r\n\t\tobtenerPoliticasEnvio();\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, []);\r\n\r\n\tasync function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCostoEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerProducto() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${producto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetProductos([]);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tres.data.promocion.forEach((res) => setPromocion(res));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst OnClickReadMore = () => {\r\n\t\tif (readMore === 'read-less') {\r\n\t\t\tsetReadMore('read-more');\r\n\t\t} else {\r\n\t\t\tsetReadMore('read-less');\r\n\t\t}\r\n\t};\r\n\r\n\tif (loading === false && productos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Result\r\n\t\t\t\tstatus=\"404\"\r\n\t\t\t\ttitle=\"404\"\r\n\t\t\t\tsubTitle=\"Lo sentimos, este producto ya no existe.\"\r\n\t\t\t\textra={<Button className=\"color-boton\" type=\"primary\" onClick={() => props.history.push('/')}>Pagina principal</Button>}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container mt-5 shadow caracteristicas \">\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-8 imagen-gallery-vista zoom\">\r\n\t\t\t\t\t\t<div id=\"zoom-render\" />\r\n\t\t\t\t\t\t<div className=\"mb-5\">\r\n\t\t\t\t\t\t\t<Galeria id={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<p className=\"titulos-vista-productos producto-descripcion\">Descripción</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{/* ### Componenete de Sugerencia */}\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 border-left\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-principal\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t{promocion.length === 0 ? (\r\n\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio precio-rebaja d-inline mr-3\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-porcentaje porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promocion.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{costoEnvio ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 15 }} className=\"envio-texto\">\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTruck} style={{ fontSize: 15, marginRight: 10 }} />{' '}\r\n\t\t\t\t\t\t\t\t\t<span>Costo del envío:</span> <span>${costoEnvio.costoEnvio}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Envio_General />\r\n\t\t\t\t\t\t\t\t{costoEnvio.promocionEnvio ?  costoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2\"\r\n\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\tcostoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t`¡En compras arriba de $${costoEnvio.promocionEnvio} el envío será GRATIS!`\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t`¡En compras arriba de $${costoEnvio.promocionEnvio}, el envío será GRATIS!`\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{productos.genero === 'Ninguno' && !productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t{productos.genero === 'Ninguno' ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 20, fontWeight: 'bold', marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGénero:\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tag className=\"color-tags\" style={{ fontSize: 16 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{productos.genero}\r\n\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{!productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 20, fontWeight: 'bold', marginBottom: 5 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tColor: {productos.color}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-circle ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 30, width: 30, backgroundColor: productos.colorHex }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<TallasCantidades producto={productos} /> {/* Componente tallas */}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<p className=\"mb-3 formas-pago\" style={{ fontSize: 20, fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t<CreditCardOutlined style={{ fontSize: 25 }} className=\"mr-2\" />\r\n\t\t\t\t\t\t\tFormas de Pago\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"contenedor-img-tarjetas\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://www.paymentmedia.com/gallery/5b927b5d6fc472000px-Mastercard-logo.svg.jpg\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://logos-marcas.com/wp-content/uploads/2020/04/Visa-Logo.png\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t<p className=\"titulos-vista-productos text-center\">Descripcion:</p>\r\n\t\t\t\t\t\t\t<div style={{ fontSize: 18, textAlign: 'justify' }} className=\"px-3\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<InfoTienda />\r\n\t\t\t\t\t\t{/* Componente informacion de la tienda */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* ### Componenete de productos similares */}\r\n\t\t\t\t<Row className=\"mt-5\">\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Scroll productos={productos} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(VistaProductos);\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport clienteAxios from '../../config/axios';\r\nimport { notification, Row, Breadcrumb } from 'antd';\r\nimport ComponenteProductos from '../../pages/users/Productos/componente_productos';\r\nimport Spin from '../Spin';\r\nimport './busqueda_categorias.scss';\r\n\r\nfunction BusquedaCategorias(props) {\r\n\tconst categoria = props.match.params.categoria;\r\n\tconst subcategoria = props.match.params.subcategoria;\r\n\tconst genero = props.match.params.genero;\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ resultado, setResultado ] = useState([]);\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined || genero === 'Todos') {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoading(true);\r\n\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetResultado(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t},\r\n\t\t[ props ]\r\n\t);\r\n\r\n\tconst result = resultado.map((productos) => <ComponenteProductos key={productos._id} productos={productos} />);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<div className=\"my-4 mx-3\">\r\n\t\t\t\t\t<h3 className=\"d-inline mr-3\">{resultado.length} resultados en: </h3>\r\n\t\t\t\t\t<Breadcrumb separator=\">\" className=\"d-inline\">\r\n\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{categoria}</Breadcrumb.Item>\r\n\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{subcategoria}</Breadcrumb.Item>\r\n\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{genero}</Breadcrumb.Item>\r\n\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t\t{result}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Spin>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default BusquedaCategorias;\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle=\"Ups, Parece que esta pagina no existe.\"\r\n      />\r\n    )\r\n}","import React,{useState,useEffect} from 'react';\r\nimport { notification, Form, Input, Button,Alert  } from 'antd';\r\nimport {useParams} from 'react-router-dom';\r\nimport clienteAxios from '../../config/axios';\r\nimport './Recuperacion_pass.scss';\r\n\r\n\r\nconst layout = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 14 }\r\n};\r\n\r\nexport default function Recuperar_pass(props) {\r\n\r\n/*     const {location,history} = props; */\r\n    const {idRecuperacion} = useParams();\r\n\r\n    const [mostrarError, setmostrarError] = useState(\"d-none\");\r\n    const [acceso, setAcceso] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setAcceso(false);\r\n        const cambiarEstadoPass = async () => {\r\n            await clienteAxios.put(`/cliente/restablecer/pass/${idRecuperacion}`)\r\n            .then((res) => {\r\n                setAcceso(false);\r\n            })\r\n            .catch((err) => {\r\n                setAcceso(true);\r\n            })\r\n        }\r\n        cambiarEstadoPass();\r\n    }, [])\r\n\r\n    const onFinish = async (values) => {\r\n        const {password,confirmPassword} = values;\r\n        if(password !== confirmPassword){\r\n            setmostrarError(\"\");\r\n        }else{\r\n            const datos = {\r\n                password,\r\n                confirmPassword,\r\n                idRecuperacion,\r\n            }\r\n            await clienteAxios.put('/cliente/reset/pass/',datos)\r\n            .then((res) => {\r\n                const token = res.data.token;\r\n                localStorage.setItem('token', token);\r\n            })\r\n            .catch((err) => {\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: 'Hubo un error',\r\n                    duration: 2\r\n                });\r\n            })\r\n            props.history.push('/');\r\n        }\r\n    }\r\n\r\n    if(acceso){\r\n        props.history.push('/');\r\n    }\r\n    \r\n\r\n    return (\r\n        <FormResetPass onFinish={onFinish} mostrarError={mostrarError} />\r\n    )\r\n}\r\n\r\n\r\nfunction FormResetPass(props){\r\n    const { onFinish,mostrarError} = props;\r\n    return(\r\n        <div className=\"centrar-div\">\r\n            <div className=\"div-resetPass shadow col-12 col-lg-4 bg-white rounded\">\r\n                <p className=\"text-center my-4\">Recuperacion de contraseña</p>\r\n                <Form {...layout}  name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n                    <Form.Item label=\"Contraseña\" >\r\n                        <Form.Item name=\"password\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Confirmar contraseña\" >\r\n                        <Form.Item name=\"confirmPassword\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Alert\r\n                        className={`my-4 ${mostrarError}`}\r\n                        message=\"Contraseña distintas\"\r\n                        description=\"Las contraseñas son distintas, favor de poner la misma\"\r\n                        type=\"error\"\r\n                    />\r\n                    <Form.Item className=\"d-flex justify-content-center align-items-center text-center\" >\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n                            Continuar\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","//layout\r\nimport LayoutAdmin from '../components/Layout_admin/LayoutAdmin'\r\nimport LayoutBasic from '../components/Layout/Layout'\r\n\r\n//Admin pages\r\nimport AdminHome from '../pages/admin/Principal/principal'\r\nimport RegistrarProductos from '../pages/admin/Productos/productos'\r\nimport Pedidos from '../pages/admin/Pedidos/pedidos'\r\nimport Promociones from '../pages/admin/Promociones/promociones_principal'\r\nimport SistemaApartado from '../pages/admin/Apartado/apartado'\r\nimport Inventario from '../pages/admin/Inventario/inventario'\r\nimport Sugerencias from '../pages/admin/Sugerencias/sugerencias'\r\nimport Carousel from '../pages/admin/Carousel/carousel'\r\nimport Publicidad from '../pages/admin/Publicidad/publicidad'\r\nimport BlogAdmin from '../pages/admin/Blog/blog'\r\nimport Clientes from '../pages/admin/Clientes/clientes'\r\n\r\n//Users pages\r\nimport Home from '../pages/users/home'\r\nimport Entrar from '../pages/users//Inicio_sesion/entrar'\r\nimport QuienesSomos from '../pages/users/Quienes_somos/quienes_somos';\r\nimport ShoppingCart from '../pages/users/Carrito/shopping_cart'\r\nimport Productos from '../pages/users/Productos/productos'\r\nimport Blog from '../pages/users/Blogs/blog';\r\nimport PedidosUsuario from '../pages/users/Pedidos/pedidos'\r\nimport Ofertas from '../pages/users/Ofertas/ofertas'\r\nimport ResultadoBusqueda from '../pages/users/Resultado_Busqueda/resultado_busqueda'\r\nimport Perfiles from '../pages/users/Perfiles/perfiles'\r\nimport Confirmacion_compra from '../pages/users/Confirmacion_compra/confirmacion_compra'\r\n\r\n\r\n\r\nimport Politicas from '../pages/users/Politicas/politicas'\r\n//Secondary Component\r\nimport VistaProducto from '../pages/users/Vista_Producto/vista_producto'\r\nimport BusquedaCategorias from '../components/BusquedaCategorias/busqueda_categorias';\r\n\r\n//other\r\nimport Error404 from '../pages/users/error404'\r\nimport Error500 from '../pages/users/error500'\r\nimport Search404 from '../pages/users/Resultado_Busqueda/404'\r\nimport Success from '../pages/users/Success/success';\r\nimport ErrorPago from '../pages/users/Success/error';\r\n\r\nimport Recuperar_pass from '../components/Recuperar_pass/Recuperar_pass';\r\n\r\n\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/admin',\r\n\t\tcomponent: LayoutAdmin,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin',\r\n\t\t\t\tcomponent: AdminHome,\r\n\t\t\t\texact: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/productos',\r\n\t\t\t\tcomponent: RegistrarProductos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/pedidos',\r\n\t\t\t\tcomponent: Pedidos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/promociones',\r\n\t\t\t\tcomponent: Promociones,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sistema_apartado',\r\n\t\t\t\tcomponent: SistemaApartado,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario/:tipoCategoria',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/blog',\r\n\t\t\t\tcomponent: BlogAdmin,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sugerencias',\r\n\t\t\t\tcomponent: Sugerencias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/carousel',\r\n\t\t\t\tcomponent: Carousel,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/publicidad',\r\n\t\t\t\tcomponent: Publicidad,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/clientes',\r\n\t\t\t\tcomponent: Clientes,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '/resetPass/:idRecuperacion',\r\n\t\tcomponent: Recuperar_pass,\r\n\t\texact: false\r\n\t},\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: LayoutBasic,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/',\r\n\t\t\t\tcomponent: Home,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/entrar',\r\n\t\t\t\tcomponent: Entrar,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/quienes_somos',\r\n\t\t\t\tcomponent: QuienesSomos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/shopping_cart',\r\n\t\t\t\tcomponent: ShoppingCart,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog/:url',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n            },\r\n            {\r\n\t\t\t\tpath: '/pedidos',\r\n\t\t\t\tcomponent: PedidosUsuario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/ofertas',\r\n\t\t\t\tcomponent: Ofertas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/vista_producto/:url',\r\n\t\t\t\tcomponent: VistaProducto,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/politicas',\r\n\t\t\t\tcomponent: Politicas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/:url',\r\n\t\t\t\tcomponent: ResultadoBusqueda,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/',\r\n\t\t\t\tcomponent: Search404,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria/:subcategoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:subcategoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/perfiles/',\r\n\t\t\t\tcomponent: Perfiles,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/confirmacion_compra/:url',\r\n\t\t\t\tcomponent: Confirmacion_compra,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error500/',\r\n\t\t\t\tcomponent: Error500,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/success/:id',\r\n\t\t\t\tcomponent: Success,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error/:id/:error',\r\n\t\t\t\tcomponent: ErrorPago,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport default routes;\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React from 'react';\r\nimport Carousel from './Carusel_ofertas/carousel';\r\nimport OfertasIzquierda from './Ofertas/OfertasHome/ofertasIzquierda'\r\nimport OfertasDerecha from './Ofertas/OfertasHome/ofertasDerecha';\r\nimport OfertasCentral from './Ofertas/OfertaCentral/ofertasCentral';\r\nimport OfertasGigantes from './Ofertas/OfertaGigante/ofertasGigantes'\r\nimport Banner_Promocion from './BannerPromociones/BannerPromocion';\r\nimport BannerInformativo from './Datos_tienda/banner_informativo';\r\nimport './home.scss'\r\n\r\n/* import ConsultaProductos from './Productos/consulta_productos'; */\r\n// import Datos_tienda from './Datos_tienda/datos_tienda'\r\n// import Categorias from '../../components/Categorias/Categorias';\r\n\r\nexport default function Home(props) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Carousel />\r\n\t\t\t{/* <div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t<h2 className=\"mb-0\">REALIZA TU PAGO EN LÍNEA</h2>\r\n\t\t\t\t\t\t<p>ACEPTAMOS PAGOS CON TARJETA</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-center textos-home divider-home-banner col-lg-4 col-12 \">\r\n\t\t\t\t\t\t<h2 className=\"mb-0\">ENVÍO GRATUITO</h2>\r\n\t\t\t\t\t\t<p>EN PEDIDOS MAYORES A $1500.00</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t<h2 className=\"mb-0\">APARTA TU PRODUCTO FAVORITO</h2>\r\n\t\t\t\t\t\t<p>PUEDES APARTAR TU PEDIDO Y PASAR POR EL</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div> */}\r\n\t\t\t<OfertasIzquierda />\r\n\t\t\t<Banner_Promocion />\r\n\t\t\t<OfertasGigantes />\r\n\t\t\t<OfertasDerecha/>\r\n\t\t\t<OfertasCentral />\r\n\t\t\t<BannerInformativo />\r\n\t\t\t{/* <ConsultaProductos propiedades={props} /> */}\r\n            {/* <Datos_tienda /> */}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function QuienesSomos() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [imagenCorp, setImagenCorp] = useState([]);\r\n\r\n    function peticionImagenCoorporativa(){\r\n        clienteAxios.get('/tienda/')\r\n            .then((res) => {\r\n                setLoading(false)\r\n                if (res.data[0].politicas !== \"\") {\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n            });\r\n    }\r\n    \r\n    useEffect(() => {\r\n        peticionImagenCoorporativa();\r\n        setLoading(true)\r\n    }, [])\r\n\r\n    return (\r\n        <Spin spinning={loading}>\r\n            <div className=\"container bg-white shadow mb-5\">\r\n                <div style={{lineHeight: \"35px\",color:\"black\"}} dangerouslySetInnerHTML={{__html: imagenCorp}} className='mt-5 px-4' />\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport MostrarDatosProductos from './MostrarDatosCarrito';\r\nimport { CarritoProvider } from './context_carrito/context-carrito';\r\n\r\nexport default function ShoppingCart() {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div style={{ background: 'white' }} className=\"shadow\">\r\n\t\t\t\t<CarritoProvider>\r\n\t\t\t\t\t<MostrarDatosProductos />\r\n\t\t\t\t</CarritoProvider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"Escribe el nombre del producto que deseas buscar\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport ActualizarUsuario from './service/ActualizarUsuario';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function Perfiles(props) {\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t//Verificar el JWT\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== false) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\t\t\tsetAccion(false);\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container col-lg-6\">\r\n\t\t\t\t<h1 className=\"mt-5 text-center\">Bienvenido a tu perfil</h1>\r\n\t\t\t\t<div className=\"mt-3 px-5 mx-auto\" style={{ background: 'white', left: '50%' }}>\r\n\t\t\t\t\t<ActualizarUsuario\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error500 () {\r\n    return (\r\n        <Result\r\n        status=\"500\"\r\n        title=\"Error del servidor\"\r\n        subTitle=\"Ups, Parece que hubo un error con el servidor.\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Result, Button, notification, Divider } from 'antd';\r\nimport { Avatar } from 'antd';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function Success(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${pedidoID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(res.data.length === 0){\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t} else {\r\n\t\t\tobtenerPedido();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tif (pedido.pedido) {\r\n\t\tvar avatar_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Avatar\r\n\t\t\t\t\tsize={75}\r\n\t\t\t\t\tkey={pedido._id}\r\n\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\t\tvar nombre_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn <p key={pedido._id}>{pedido.producto.nombre}</p>;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-success\">\r\n\t\t\t<div className=\"contenedor-success m-5 shadow-lg\">\r\n\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"result-pago\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"swal2-icon swal2-success swal2-animate-success-icon\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-left\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-tip\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-long\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-ring\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-fix\" style={{ backgroundColor: 'rgb(255, 255, 255)' }} />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-right\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle=\"Pago realizado exitosamente\"\r\n\t\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tEl ID del pedido es <strong> {pedido._id}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Divider>Detalles del pedido</Divider>\r\n\t\t\t\t\t\t\t\t<div className=\"m-2\">{avatar_productos}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h6>Productos:</h6>\r\n\t\t\t\t\t\t\t\t\t<div>{nombre_productos}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<h5>Total del pedido:</h5>\r\n\t\t\t\t\t\t\t\t\t<h4>${formatoMexico(pedido.total)}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\textra={[\r\n\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" className=\"mb-3 color-boton\">\r\n\t\t\t\t\t\t\t\t\tIr a Pagina principal\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Result, Button } from 'antd';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErrorPago(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst error = props.match.params.error;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-error\">\r\n\t\t\t<div className=\"contenedor-error m-5 shadow-lg\">\r\n\t\t\t\t<Result\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<div className=\"swal2-icon swal2-error swal2-animate-error-icon\" style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t\t<span className=\"swal2-x-mark\">\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-left\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-right\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle=\"Tu pago no ha sido aprovado\"\r\n\t\t\t\t\tsubTitle={error}\r\n\t\t\t\t\textra={[\r\n\t\t\t\t\t\t<Link key=\"principal\" to=\"/\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" className=\"color-boton\">\r\n\t\t\t\t\t\t\t\tIr a pagina principal\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>,\r\n                        <Link key=\"reintentar\" to={`/confirmacion_compra/${pedidoID}`}>\r\n                            <Button type=\"primary\" ghost className=\"mb-3 color-boton-sec\">\r\n                                Reintentar\r\n                            </Button>\r\n                        </Link>\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport 'antd/dist/antd.css'\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport routes from './config/routes'\r\nimport {Helmet} from \"react-helmet\";\r\nimport './scss/variables.scss';\r\n\r\nexport default function App() {\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Tienda Online</title>       \r\n      </Helmet>\r\n      <Router>\r\n          <Switch>\r\n            { routes.map((route, index) => (\r\n              <RoutesWithSubRoutes key= {index} {...route} />\r\n            ))}           \r\n          </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction RoutesWithSubRoutes(route) {\r\n  return (\r\n    <Route \r\n      path={route.path}\r\n      exact={route.exact}\r\n      render={props => <route.component routes={route.routes} {...props}/>}\r\n    />\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css'\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/visa.d2eb00b7.png\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.ae0915fe.png\";","module.exports = __webpack_public_path__ + \"static/media/chip-tarjeta.6611645b.png\";"],"sourceRoot":""}